(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function Kn(){}function Th(t){return t()}function us(){return Object.create(null)}function si(t){t.forEach(Th)}function Sh(t){return typeof t=="function"}function Pu(t,n){return t!=t?n==n:t!==n||t&&typeof t=="object"||typeof t=="function"}function Og(t){return Object.keys(t).length===0}function tt(t,n){t.appendChild(n)}function ro(t,n,e){t.insertBefore(n,e||null)}function Br(t){t.parentNode&&t.parentNode.removeChild(t)}function ct(t){return document.createElement(t)}function zg(t){return document.createTextNode(t)}function Tt(){return zg(" ")}function Re(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function st(t,n,e){e==null?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function Bg(t){return Array.from(t.childNodes)}let Vr;function Ur(t){Vr=t}function Ug(){if(!Vr)throw new Error("Function called outside component initialization");return Vr}function qg(t){Ug().$$.on_mount.push(t)}const qe=[],Xe=[];let Ve=[];const cs=[],Yg=Promise.resolve();let Sf=!1;function Wg(){Sf||(Sf=!0,Yg.then(Ch))}function Cf(t){Ve.push(t)}const Oa=new Set;let Oe=0;function Ch(){if(Oe!==0)return;const t=Vr;do{try{for(;Oe<qe.length;){const n=qe[Oe];Oe++,Ur(n),Hg(n.$$)}}catch(n){throw qe.length=0,Oe=0,n}for(Ur(null),qe.length=0,Oe=0;Xe.length;)Xe.pop()();for(let n=0;n<Ve.length;n+=1){const e=Ve[n];Oa.has(e)||(Oa.add(e),e())}Ve.length=0}while(qe.length);for(;cs.length;)cs.pop()();Sf=!1,Oa.clear(),Ur(t)}function Hg(t){if(t.fragment!==null){t.update(),si(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(Cf)}}function Gg(t){const n=[],e=[];Ve.forEach(r=>t.indexOf(r)===-1?n.push(r):e.push(r)),e.forEach(r=>r()),Ve=n}const io=new Set;let Xg;function Fu(t,n){t&&t.i&&(io.delete(t),t.i(n))}function Ah(t,n,e,r){if(t&&t.o){if(io.has(t))return;io.add(t),Xg.c.push(()=>{io.delete(t)}),t.o(n)}}function Eh(t){t&&t.c()}function Ru(t,n,e){const{fragment:r,after_update:i}=t.$$;r&&r.m(n,e),Cf(()=>{const o=t.$$.on_mount.map(Th).filter(Sh);t.$$.on_destroy?t.$$.on_destroy.push(...o):si(o),t.$$.on_mount=[]}),i.forEach(Cf)}function Ou(t,n){const e=t.$$;e.fragment!==null&&(Gg(e.after_update),si(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function Vg(t,n){t.$$.dirty[0]===-1&&(qe.push(t),Wg(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function zu(t,n,e,r,i,o,a=null,f=[-1]){const u=Vr;Ur(t);const c=t.$$={fragment:null,ctx:[],props:o,update:Kn,not_equal:i,bound:us(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(u?u.$$.context:[])),callbacks:us(),dirty:f,skip_bound:!1,root:n.target||u.$$.root};a&&a(c.root);let s=!1;if(c.ctx=e?e(t,n.props||{},(l,h,...d)=>{const p=d.length?d[0]:h;return c.ctx&&i(c.ctx[l],c.ctx[l]=p)&&(!c.skip_bound&&c.bound[l]&&c.bound[l](p),s&&Vg(t,l)),h}):[],c.update(),s=!0,si(c.before_update),c.fragment=r?r(c.ctx):!1,n.target){if(n.hydrate){const l=Bg(n.target);c.fragment&&c.fragment.l(l),l.forEach(Br)}else c.fragment&&c.fragment.c();n.intro&&Fu(t.$$.fragment),Ru(t,n.target,n.anchor),Ch()}Ur(u)}class Bu{$$=void 0;$$set=void 0;$destroy(){Ou(this,1),this.$destroy=Kn}$on(n,e){if(!Sh(e))return Kn;const r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(e),()=>{const i=r.indexOf(e);i!==-1&&r.splice(i,1)}}$set(n){this.$$set&&!Og(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const Zg="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Zg);function Ft(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function li(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function ea(t){let n,e,r;t.length!==2?(n=Ft,e=(f,u)=>Ft(t(f),u),r=(f,u)=>t(f)-u):(n=t===Ft||t===li?t:jg,e=t,r=t);function i(f,u,c=0,s=f.length){if(c<s){if(n(u,u)!==0)return s;do{const l=c+s>>>1;e(f[l],u)<0?c=l+1:s=l}while(c<s)}return c}function o(f,u,c=0,s=f.length){if(c<s){if(n(u,u)!==0)return s;do{const l=c+s>>>1;e(f[l],u)<=0?c=l+1:s=l}while(c<s)}return c}function a(f,u,c=0,s=f.length){const l=i(f,u,c,s-1);return l>c&&r(f[l-1],u)>-r(f[l],u)?l-1:l}return{left:i,center:a,right:o}}function jg(){return 0}function kh(t){return t===null?NaN:+t}function*Kg(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const Qg=ea(Ft),ra=Qg.right;ea(kh).center;function Uu(t,n){let e=0;for(let r of t)r!=null&&(r=+r)>=r&&++e;return e}function Jg(t){return t.length|0}function ty(t){return!(t>0)}function ny(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function ey(t){return n=>t(...n)}function ry(...t){const n=typeof t[t.length-1]=="function"&&ey(t.pop());t=t.map(ny);const e=t.map(Jg),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(ty))return o;for(;;){o.push(i.map((f,u)=>t[u][f]));let a=r;for(;++i[a]===e[a];){if(a===0)return n?o.map(n):o;i[a--]=0}}}function iy(t,n){var e=0;return Float64Array.from(t,r=>e+=+r||0)}function Nh(t,n){let e=0,r,i=0,o=0;if(n===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++e,o+=r*(a-i));else{let a=-1;for(let f of t)(f=n(f,++a,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++e,o+=r*(f-i))}if(e>1)return o/(e-1)}function Ye(t,n){const e=Nh(t,n);return e&&Math.sqrt(e)}function Bt(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(e===void 0?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class _e{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,f=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);f&&(e[r++]=f),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class ve extends Map{constructor(n,e=Ih){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(Af(this,n))}has(n){return super.has(Af(this,n))}set(n,e){return super.set(Lh(this,n),e)}delete(n){return super.delete(Dh(this,n))}}class ia extends Set{constructor(n,e=Ih){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(Af(this,n))}add(n){return super.add(Lh(this,n))}delete(n){return super.delete(Dh(this,n))}}function Af({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Lh({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Dh({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Ih(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ef(t){return t}function oa(t,...n){return qu(t,Ef,Ef,n)}function Ze(t,n,...e){return qu(t,Ef,n,e)}function oy(t,n,...e){return qu(t,Array.from,n,e)}function qu(t,n,e,r){return function i(o,a){if(a>=r.length)return e(o);const f=new ve,u=r[a++];let c=-1;for(const s of o){const l=u(s,++c,o),h=f.get(l);h?h.push(s):f.set(l,[s])}for(const[s,l]of f)f.set(s,i(l,a));return n(f)}(t,0)}function ay(t,n){return Array.from(n,e=>t[e])}function po(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,o)=>o);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of n){const f=mo(a[i],a[o]);if(f)return f}})):(e=t.map(e),r.sort((i,o)=>mo(e[i],e[o]))),ay(t,r)}return t.sort(Ph(e))}function Ph(t=Ft){if(t===Ft)return mo;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function mo(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}function Yu(t,n,e){return(n.length!==2?po(Ze(t,n,e),([r,i],[o,a])=>Ft(i,a)||Ft(r,o)):po(oa(t,e),([r,i],[o,a])=>n(i,a)||Ft(r,o))).map(([r])=>r)}const fy=Math.sqrt(50),uy=Math.sqrt(10),cy=Math.sqrt(2);function go(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=fy?10:o>=uy?5:o>=cy?2:1;let f,u,c;return i<0?(c=Math.pow(10,-i)/a,f=Math.round(t*c),u=Math.round(n*c),f/c<t&&++f,u/c>n&&--u,c=-c):(c=Math.pow(10,i)*a,f=Math.round(t/c),u=Math.round(n/c),f*c<t&&++f,u*c>n&&--u),u<f&&.5<=e&&e<2?go(t,n,e*2):[f,u,c]}function Zr(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?go(n,t,e):go(t,n,e);if(!(o>=i))return[];const f=o-i+1,u=new Array(f);if(r)if(a<0)for(let c=0;c<f;++c)u[c]=(o-c)/-a;else for(let c=0;c<f;++c)u[c]=(o-c)*a;else if(a<0)for(let c=0;c<f;++c)u[c]=(i+c)/-a;else for(let c=0;c<f;++c)u[c]=(i+c)*a;return u}function yo(t,n,e){return n=+n,t=+t,e=+e,go(t,n,e)[2]}function kf(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?yo(n,t,e):yo(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function sy(t){return Math.max(1,Math.ceil(Math.log(Uu(t))/Math.LN2)+1)}function on(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function ly(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Rn(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function hy(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Fh(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?mo:Ph(i);r>e;){if(r-e>600){const u=r-e+1,c=n-e+1,s=Math.log(u),l=.5*Math.exp(2*s/3),h=.5*Math.sqrt(s*l*(u-l)/u)*(c-u/2<0?-1:1),d=Math.max(e,Math.floor(n-c*l/u+h)),p=Math.min(r,Math.floor(n+(u-c)*l/u+h));Fh(t,n,d,p,i)}const o=t[n];let a=e,f=r;for(_r(t,e,n),i(t[r],o)>0&&_r(t,e,r);a<f;){for(_r(t,a,f),++a,--f;i(t[a],o)<0;)++a;for(;i(t[f],o)>0;)--f}i(t[e],o)===0?_r(t,e,f):(++f,_r(t,f,r)),f<=n&&(e=f+1),n<=f&&(r=f-1)}return t}function _r(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Rh(t,n=Ft){let e,r=!1;if(n.length===1){let i;for(const o of t){const a=n(o);(r?Ft(a,i)>0:Ft(a,a)===0)&&(e=o,i=a,r=!0)}}else for(const i of t)(r?n(i,e)>0:n(i,i)===0)&&(e=i,r=!0);return e}function Je(t,n,e){if(t=Float64Array.from(Kg(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return Rn(t);if(n>=1)return on(t);var r,i=(r-1)*n,o=Math.floor(i),a=on(Fh(t,o).subarray(0,o+1)),f=Rn(t.subarray(o+1));return a+(f-a)*(i-o)}}function dy(t,n,e=kh){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),f=+e(t[o+1],o+1,t);return a+(f-a)*(i-o)}}function py(t,n,e){const r=Uu(t),i=Je(t,.75)-Je(t,.25);return r&&i?Math.ceil((e-n)/(2*i*Math.pow(r,-1/3))):1}function Oh(t,n,e){const r=Uu(t),i=Ye(t);return r&&i?Math.ceil((e-n)*Math.cbrt(r)/(3.49*i)):1}function Er(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function Nf(t,n){return Je(t,.5,n)}function*my(t){for(const n of t)yield*n}function zh(t){return Array.from(my(t))}function gy(t,n){const e=new ve;if(n===void 0)for(let o of t)o!=null&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let o=-1;for(let a of t)(a=n(a,++o,t))!=null&&a>=a&&e.set(a,(e.get(a)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function yy(t,n=by){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function by(t,n){return[t,n]}function Lf(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function Jn(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function bo(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function wy(t){return t}var _y=3,ss=1e-6;function vy(t){return"translate("+t+",0)"}function xy(t){return n=>+t(n)}function My(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function $y(){return!this.__axis}function Ty(t,n){var e=[],r=null,i=null,o=6,a=6,f=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,s="y",l=vy;function h(d){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),m=i??(n.tickFormat?n.tickFormat.apply(n,e):wy),b=Math.max(o,0)+f,y=n.range(),g=+y[0]+u,v=+y[y.length-1]+u,w=(n.bandwidth?My:xy)(n.copy(),u),_=d.selection?d.selection():d,M=_.selectAll(".domain").data([null]),T=_.selectAll(".tick").data(p,n).order(),A=T.exit(),k=T.enter().append("g").attr("class","tick"),N=T.select("line"),C=T.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(k),N=N.merge(k.append("line").attr("stroke","currentColor").attr(s+"2",c*o)),C=C.merge(k.append("text").attr("fill","currentColor").attr(s,c*b).attr("dy","0.71em")),d!==_&&(M=M.transition(d),T=T.transition(d),N=N.transition(d),C=C.transition(d),A=A.transition(d).attr("opacity",ss).attr("transform",function(R){return isFinite(R=w(R))?l(R+u):this.getAttribute("transform")}),k.attr("opacity",ss).attr("transform",function(R){var O=this.parentNode.__axis;return l((O&&isFinite(O=O(R))?O:w(R))+u)})),A.remove(),M.attr("d",a?"M"+g+","+c*a+"V"+u+"H"+v+"V"+c*a:"M"+g+","+u+"H"+v),T.attr("opacity",1).attr("transform",function(R){return l(w(R)+u)}),N.attr(s+"2",c*o),C.attr(s,c*b).text(m),_.filter($y).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),_.each(function(){this.__axis=w})}return h.scale=function(d){return arguments.length?(n=d,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),h):e.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(o=a=+d,h):o},h.tickSizeInner=function(d){return arguments.length?(o=+d,h):o},h.tickSizeOuter=function(d){return arguments.length?(a=+d,h):a},h.tickPadding=function(d){return arguments.length?(f=+d,h):f},h.offset=function(d){return arguments.length?(u=+d,h):u},h}function Sy(t){return Ty(_y,t)}var Cy={value:()=>{}};function Wu(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new oo(e)}function oo(t){this._=t}function Ay(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}oo.prototype=Wu.prototype={constructor:oo,on:function(t,n){var e=this._,r=Ay(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Ey(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=ls(e[i],t.name,n);else if(n==null)for(i in e)e[i]=ls(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new oo(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function Ey(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function ls(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Cy,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Df="http://www.w3.org/1999/xhtml";const tr={svg:"http://www.w3.org/2000/svg",xhtml:Df,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function aa(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),tr.hasOwnProperty(n)?{space:tr[n],local:t}:t}function ky(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Df&&n.documentElement.namespaceURI===Df?n.createElement(t):n.createElementNS(e,t)}}function Ny(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function fa(t){var n=aa(t);return(n.local?Ny:ky)(n)}function Ly(){}function Hu(t){return t==null?Ly:function(){return this.querySelector(t)}}function Dy(t){typeof t!="function"&&(t=Hu(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=new Array(a),u,c,s=0;s<a;++s)(u=o[s])&&(c=t.call(u,u.__data__,s,o))&&("__data__"in u&&(c.__data__=u.__data__),f[s]=c);return new Yt(r,this._parents)}function Iy(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Py(){return[]}function Bh(t){return t==null?Py:function(){return this.querySelectorAll(t)}}function Fy(t){return function(){return Iy(t.apply(this,arguments))}}function Ry(t){typeof t=="function"?t=Fy(t):t=Bh(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],f=a.length,u,c=0;c<f;++c)(u=a[c])&&(r.push(t.call(u,u.__data__,c,a)),i.push(u));return new Yt(r,i)}function Uh(t){return function(){return this.matches(t)}}function qh(t){return function(n){return n.matches(t)}}var Oy=Array.prototype.find;function zy(t){return function(){return Oy.call(this.children,t)}}function By(){return this.firstElementChild}function Uy(t){return this.select(t==null?By:zy(typeof t=="function"?t:qh(t)))}var qy=Array.prototype.filter;function Yy(){return Array.from(this.children)}function Wy(t){return function(){return qy.call(this.children,t)}}function Hy(t){return this.selectAll(t==null?Yy:Wy(typeof t=="function"?t:qh(t)))}function Gy(t){typeof t!="function"&&(t=Uh(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&f.push(u);return new Yt(r,this._parents)}function Yh(t){return new Array(t.length)}function Xy(){return new Yt(this._enter||this._groups.map(Yh),this._parents)}function wo(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}wo.prototype={constructor:wo,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Vy(t){return function(){return t}}function Zy(t,n,e,r,i,o){for(var a=0,f,u=n.length,c=o.length;a<c;++a)(f=n[a])?(f.__data__=o[a],r[a]=f):e[a]=new wo(t,o[a]);for(;a<u;++a)(f=n[a])&&(i[a]=f)}function jy(t,n,e,r,i,o,a){var f,u,c=new Map,s=n.length,l=o.length,h=new Array(s),d;for(f=0;f<s;++f)(u=n[f])&&(h[f]=d=a.call(u,u.__data__,f,n)+"",c.has(d)?i[f]=u:c.set(d,u));for(f=0;f<l;++f)d=a.call(t,o[f],f,o)+"",(u=c.get(d))?(r[f]=u,u.__data__=o[f],c.delete(d)):e[f]=new wo(t,o[f]);for(f=0;f<s;++f)(u=n[f])&&c.get(h[f])===u&&(i[f]=u)}function Ky(t){return t.__data__}function Qy(t,n){if(!arguments.length)return Array.from(this,Ky);var e=n?jy:Zy,r=this._parents,i=this._groups;typeof t!="function"&&(t=Vy(t));for(var o=i.length,a=new Array(o),f=new Array(o),u=new Array(o),c=0;c<o;++c){var s=r[c],l=i[c],h=l.length,d=Jy(t.call(s,s&&s.__data__,c,r)),p=d.length,m=f[c]=new Array(p),b=a[c]=new Array(p),y=u[c]=new Array(h);e(s,l,m,b,y,d,n);for(var g=0,v=0,w,_;g<p;++g)if(w=m[g]){for(g>=v&&(v=g+1);!(_=b[v])&&++v<p;);w._next=_||null}}return a=new Yt(a,r),a._enter=f,a._exit=u,a}function Jy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function tb(){return new Yt(this._exit||this._groups.map(Yh),this._parents)}function nb(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function eb(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),f=new Array(i),u=0;u<a;++u)for(var c=e[u],s=r[u],l=c.length,h=f[u]=new Array(l),d,p=0;p<l;++p)(d=c[p]||s[p])&&(h[p]=d);for(;u<i;++u)f[u]=e[u];return new Yt(f,this._parents)}function rb(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function ib(t){t||(t=ob);function n(l,h){return l&&h?t(l.__data__,h.__data__):!l-!h}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],f=a.length,u=i[o]=new Array(f),c,s=0;s<f;++s)(c=a[s])&&(u[s]=c);u.sort(n)}return new Yt(i,this._parents).order()}function ob(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ab(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function fb(){return Array.from(this)}function ub(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function cb(){let t=0;for(const n of this)++t;return t}function sb(){return!this.node()}function lb(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,f;o<a;++o)(f=i[o])&&t.call(f,f.__data__,o,i);return this}function hb(t){return function(){this.removeAttribute(t)}}function db(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pb(t,n){return function(){this.setAttribute(t,n)}}function mb(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function gb(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function yb(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function bb(t,n){var e=aa(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?db:hb:typeof n=="function"?e.local?yb:gb:e.local?mb:pb)(e,n))}function Wh(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function wb(t){return function(){this.style.removeProperty(t)}}function _b(t,n,e){return function(){this.style.setProperty(t,n,e)}}function vb(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function xb(t,n,e){return arguments.length>1?this.each((n==null?wb:typeof n=="function"?vb:_b)(t,n,e??"")):nr(this.node(),t)}function nr(t,n){return t.style.getPropertyValue(n)||Wh(t).getComputedStyle(t,null).getPropertyValue(n)}function Mb(t){return function(){delete this[t]}}function $b(t,n){return function(){this[t]=n}}function Tb(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Sb(t,n){return arguments.length>1?this.each((n==null?Mb:typeof n=="function"?Tb:$b)(t,n)):this.node()[t]}function Hh(t){return t.trim().split(/^|\s+/)}function Gu(t){return t.classList||new Gh(t)}function Gh(t){this._node=t,this._names=Hh(t.getAttribute("class")||"")}Gh.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Xh(t,n){for(var e=Gu(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Vh(t,n){for(var e=Gu(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Cb(t){return function(){Xh(this,t)}}function Ab(t){return function(){Vh(this,t)}}function Eb(t,n){return function(){(n.apply(this,arguments)?Xh:Vh)(this,t)}}function kb(t,n){var e=Hh(t+"");if(arguments.length<2){for(var r=Gu(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Eb:n?Cb:Ab)(e,n))}function Nb(){this.textContent=""}function Lb(t){return function(){this.textContent=t}}function Db(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Ib(t){return arguments.length?this.each(t==null?Nb:(typeof t=="function"?Db:Lb)(t)):this.node().textContent}function Pb(){this.innerHTML=""}function Fb(t){return function(){this.innerHTML=t}}function Rb(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Ob(t){return arguments.length?this.each(t==null?Pb:(typeof t=="function"?Rb:Fb)(t)):this.node().innerHTML}function zb(){this.nextSibling&&this.parentNode.appendChild(this)}function Bb(){return this.each(zb)}function Ub(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qb(){return this.each(Ub)}function Yb(t){var n=typeof t=="function"?t:fa(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Wb(){return null}function Hb(t,n){var e=typeof t=="function"?t:fa(t),r=n==null?Wb:typeof n=="function"?n:Hu(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Gb(){var t=this.parentNode;t&&t.removeChild(this)}function Xb(){return this.each(Gb)}function Vb(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Zb(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function jb(t){return this.select(t?Zb:Vb)}function Kb(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Qb(t){return function(n){t.call(this,n,this.__data__)}}function Jb(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function t2(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function n2(t,n,e){return function(){var r=this.__on,i,o=Qb(n);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function e2(t,n,e){var r=Jb(t+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var u=0,c=f.length,s;u<c;++u)for(i=0,s=f[u];i<o;++i)if((a=r[i]).type===s.type&&a.name===s.name)return s.value}return}for(f=n?n2:t2,i=0;i<o;++i)this.each(f(r[i],n,e));return this}function Zh(t,n,e){var r=Wh(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function r2(t,n){return function(){return Zh(this,t,n)}}function i2(t,n){return function(){return Zh(this,t,n.apply(this,arguments))}}function o2(t,n){return this.each((typeof n=="function"?i2:r2)(t,n))}function*a2(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var jh=[null];function Yt(t,n){this._groups=t,this._parents=n}function hi(){return new Yt([[document.documentElement]],jh)}function f2(){return this}Yt.prototype=hi.prototype={constructor:Yt,select:Dy,selectAll:Ry,selectChild:Uy,selectChildren:Hy,filter:Gy,data:Qy,enter:Xy,exit:tb,join:nb,merge:eb,selection:f2,order:rb,sort:ib,call:ab,nodes:fb,node:ub,size:cb,empty:sb,each:lb,attr:bb,style:xb,property:Sb,classed:kb,text:Ib,html:Ob,raise:Bb,lower:qb,append:Yb,insert:Hb,remove:Xb,clone:jb,datum:Kb,on:e2,dispatch:o2,[Symbol.iterator]:a2};function zt(t){return typeof t=="string"?new Yt([[document.querySelector(t)]],[document.documentElement]):new Yt([[t]],jh)}function u2(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Gn(t,n){if(t=u2(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}const If={capture:!0,passive:!1};function Pf(t){t.preventDefault(),t.stopImmediatePropagation()}function c2(t){var n=t.document.documentElement,e=zt(t).on("dragstart.drag",Pf,If);"onselectstart"in n?e.on("selectstart.drag",Pf,If):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function s2(t,n){var e=t.document.documentElement,r=zt(t).on("dragstart.drag",null);n&&(r.on("click.drag",Pf,If),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function dr(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function di(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function re(){}var xe=.7,er=1/xe,je="\\s*([+-]?\\d+)\\s*",jr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l2=/^#([0-9a-f]{3,8})$/,h2=new RegExp(`^rgb\\(${je},${je},${je}\\)$`),d2=new RegExp(`^rgb\\(${wn},${wn},${wn}\\)$`),p2=new RegExp(`^rgba\\(${je},${je},${je},${jr}\\)$`),m2=new RegExp(`^rgba\\(${wn},${wn},${wn},${jr}\\)$`),g2=new RegExp(`^hsl\\(${jr},${wn},${wn}\\)$`),y2=new RegExp(`^hsla\\(${jr},${wn},${wn},${jr}\\)$`),hs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dr(re,Me,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ds,formatHex:ds,formatHex8:b2,formatHsl:w2,formatRgb:ps,toString:ps});function ds(){return this.rgb().formatHex()}function b2(){return this.rgb().formatHex8()}function w2(){return Kh(this).formatHsl()}function ps(){return this.rgb().formatRgb()}function Me(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=l2.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?ms(n):e===3?new Mt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Ri(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Ri(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=h2.exec(t))?new Mt(n[1],n[2],n[3],1):(n=d2.exec(t))?new Mt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=p2.exec(t))?Ri(n[1],n[2],n[3],n[4]):(n=m2.exec(t))?Ri(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=g2.exec(t))?bs(n[1],n[2]/100,n[3]/100,1):(n=y2.exec(t))?bs(n[1],n[2]/100,n[3]/100,n[4]):hs.hasOwnProperty(t)?ms(hs[t]):t==="transparent"?new Mt(NaN,NaN,NaN,0):null}function ms(t){return new Mt(t>>16&255,t>>8&255,t&255,1)}function Ri(t,n,e,r){return r<=0&&(t=n=e=NaN),new Mt(t,n,e,r)}function Xu(t){return t instanceof re||(t=Me(t)),t?(t=t.rgb(),new Mt(t.r,t.g,t.b,t.opacity)):new Mt}function te(t,n,e,r){return arguments.length===1?Xu(t):new Mt(t,n,e,r??1)}function Mt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}dr(Mt,te,di(re,{brighter(t){return t=t==null?er:Math.pow(er,t),new Mt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xe:Math.pow(xe,t),new Mt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Mt(ye(this.r),ye(this.g),ye(this.b),_o(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gs,formatHex:gs,formatHex8:_2,formatRgb:ys,toString:ys}));function gs(){return`#${me(this.r)}${me(this.g)}${me(this.b)}`}function _2(){return`#${me(this.r)}${me(this.g)}${me(this.b)}${me((isNaN(this.opacity)?1:this.opacity)*255)}`}function ys(){const t=_o(this.opacity);return`${t===1?"rgb(":"rgba("}${ye(this.r)}, ${ye(this.g)}, ${ye(this.b)}${t===1?")":`, ${t})`}`}function _o(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ye(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function me(t){return t=ye(t),(t<16?"0":"")+t.toString(16)}function bs(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new en(t,n,e,r)}function Kh(t){if(t instanceof en)return new en(t.h,t.s,t.l,t.opacity);if(t instanceof re||(t=Me(t)),!t)return new en;if(t instanceof en)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,f=o-i,u=(o+i)/2;return f?(n===o?a=(e-r)/f+(e<r)*6:e===o?a=(r-n)/f+2:a=(n-e)/f+4,f/=u<.5?o+i:2-o-i,a*=60):f=u>0&&u<1?0:a,new en(a,f,u,t.opacity)}function Ff(t,n,e,r){return arguments.length===1?Kh(t):new en(t,n,e,r??1)}function en(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}dr(en,Ff,di(re,{brighter(t){return t=t==null?er:Math.pow(er,t),new en(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xe:Math.pow(xe,t),new en(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Mt(za(t>=240?t-240:t+120,i,r),za(t,i,r),za(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new en(ws(this.h),Oi(this.s),Oi(this.l),_o(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_o(this.opacity);return`${t===1?"hsl(":"hsla("}${ws(this.h)}, ${Oi(this.s)*100}%, ${Oi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ws(t){return t=(t||0)%360,t<0?t+360:t}function Oi(t){return Math.max(0,Math.min(1,t||0))}function za(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Qh=Math.PI/180,Jh=180/Math.PI,vo=18,td=.96422,nd=1,ed=.82521,rd=4/29,Ke=6/29,id=3*Ke*Ke,v2=Ke*Ke*Ke;function od(t){if(t instanceof _n)return new _n(t.l,t.a,t.b,t.opacity);if(t instanceof Dn)return ad(t);t instanceof Mt||(t=Xu(t));var n=Ya(t.r),e=Ya(t.g),r=Ya(t.b),i=Ba((.2225045*n+.7168786*e+.0606169*r)/nd),o,a;return n===e&&e===r?o=a=i:(o=Ba((.4360747*n+.3850649*e+.1430804*r)/td),a=Ba((.0139322*n+.0971045*e+.7141733*r)/ed)),new _n(116*i-16,500*(o-i),200*(i-a),t.opacity)}function Rf(t,n,e,r){return arguments.length===1?od(t):new _n(t,n,e,r??1)}function _n(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}dr(_n,Rf,di(re,{brighter(t){return new _n(this.l+vo*(t??1),this.a,this.b,this.opacity)},darker(t){return new _n(this.l-vo*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=td*Ua(n),t=nd*Ua(t),e=ed*Ua(e),new Mt(qa(3.1338561*n-1.6168667*t-.4906146*e),qa(-.9787684*n+1.9161415*t+.033454*e),qa(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function Ba(t){return t>v2?Math.pow(t,1/3):t/id+rd}function Ua(t){return t>Ke?t*t*t:id*(t-rd)}function qa(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ya(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function x2(t){if(t instanceof Dn)return new Dn(t.h,t.c,t.l,t.opacity);if(t instanceof _n||(t=od(t)),t.a===0&&t.b===0)return new Dn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Jh;return new Dn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Of(t,n,e,r){return arguments.length===1?x2(t):new Dn(t,n,e,r??1)}function Dn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function ad(t){if(isNaN(t.h))return new _n(t.l,0,0,t.opacity);var n=t.h*Qh;return new _n(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}dr(Dn,Of,di(re,{brighter(t){return new Dn(this.h,this.c,this.l+vo*(t??1),this.opacity)},darker(t){return new Dn(this.h,this.c,this.l-vo*(t??1),this.opacity)},rgb(){return ad(this).rgb()}}));var fd=-.14861,Vu=1.78277,Zu=-.29227,ua=-.90649,Kr=1.97294,_s=Kr*ua,vs=Kr*Vu,xs=Vu*Zu-ua*fd;function M2(t){if(t instanceof be)return new be(t.h,t.s,t.l,t.opacity);t instanceof Mt||(t=Xu(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(xs*r+_s*n-vs*e)/(xs+_s-vs),o=r-i,a=(Kr*(e-i)-Zu*o)/ua,f=Math.sqrt(a*a+o*o)/(Kr*i*(1-i)),u=f?Math.atan2(a,o)*Jh-120:NaN;return new be(u<0?u+360:u,f,i,t.opacity)}function vn(t,n,e,r){return arguments.length===1?M2(t):new be(t,n,e,r??1)}function be(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}dr(be,vn,di(re,{brighter(t){return t=t==null?er:Math.pow(er,t),new be(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xe:Math.pow(xe,t),new be(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Qh,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Mt(255*(n+e*(fd*r+Vu*i)),255*(n+e*(Zu*r+ua*i)),255*(n+e*(Kr*r)),this.opacity)}}));function $2(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function T2(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,f=r<n-1?t[r+2]:2*o-i;return $2((e-r/n)*n,a,i,o,f)}}const ca=t=>()=>t;function ud(t,n){return function(e){return t+e*n}}function S2(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function ju(t,n){var e=n-t;return e?ud(t,e>180||e<-180?e-360*Math.round(e/360):e):ca(isNaN(t)?n:t)}function C2(t){return(t=+t)==1?kt:function(n,e){return e-n?S2(n,e,t):ca(isNaN(n)?e:n)}}function kt(t,n){var e=n-t;return e?ud(t,e):ca(isNaN(t)?n:t)}const $e=function t(n){var e=C2(n);function r(i,o){var a=e((i=te(i)).r,(o=te(o)).r),f=e(i.g,o.g),u=e(i.b,o.b),c=kt(i.opacity,o.opacity);return function(s){return i.r=a(s),i.g=f(s),i.b=u(s),i.opacity=c(s),i+""}}return r.gamma=t,r}(1);function A2(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),a,f;for(a=0;a<e;++a)f=te(n[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=t(r),i=t(i),o=t(o),f.opacity=1,function(u){return f.r=r(u),f.g=i(u),f.b=o(u),f+""}}}var E2=A2(T2);function k2(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function N2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function L2(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=pi(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function D2(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Et(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function I2(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=pi(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var zf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wa=new RegExp(zf.source,"g");function P2(t){return function(){return t}}function F2(t){return function(n){return t(n)+""}}function cd(t,n){var e=zf.lastIndex=Wa.lastIndex=0,r,i,o,a=-1,f=[],u=[];for(t=t+"",n=n+"";(r=zf.exec(t))&&(i=Wa.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,u.push({i:a,x:Et(r,i)})),e=Wa.lastIndex;return e<n.length&&(o=n.slice(e),f[a]?f[a]+=o:f[++a]=o),f.length<2?u[0]?F2(u[0].x):P2(n):(n=u.length,function(c){for(var s=0,l;s<n;++s)f[(l=u[s]).i]=l.x(c);return f.join("")})}function pi(t,n){var e=typeof n,r;return n==null||e==="boolean"?ca(n):(e==="number"?Et:e==="string"?(r=Me(n))?(n=r,$e):cd:n instanceof Me?$e:n instanceof Date?D2:N2(n)?k2:Array.isArray(n)?L2:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?I2:Et)(t,n)}function Ku(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Ms=180/Math.PI,Bf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function sd(t,n,e,r,i,o){var a,f,u;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,u/=f),t*r<n*e&&(t=-t,n=-n,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Ms,skewX:Math.atan(u)*Ms,scaleX:a,scaleY:f}}var zi;function R2(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Bf:sd(n.a,n.b,n.c,n.d,n.e,n.f)}function O2(t){return t==null||(zi||(zi=document.createElementNS("http://www.w3.org/2000/svg","g")),zi.setAttribute("transform",t),!(t=zi.transform.baseVal.consolidate()))?Bf:(t=t.matrix,sd(t.a,t.b,t.c,t.d,t.e,t.f))}function ld(t,n,e,r){function i(c){return c.length?c.pop()+" ":""}function o(c,s,l,h,d,p){if(c!==l||s!==h){var m=d.push("translate(",null,n,null,e);p.push({i:m-4,x:Et(c,l)},{i:m-2,x:Et(s,h)})}else(l||h)&&d.push("translate("+l+n+h+e)}function a(c,s,l,h){c!==s?(c-s>180?s+=360:s-c>180&&(c+=360),h.push({i:l.push(i(l)+"rotate(",null,r)-2,x:Et(c,s)})):s&&l.push(i(l)+"rotate("+s+r)}function f(c,s,l,h){c!==s?h.push({i:l.push(i(l)+"skewX(",null,r)-2,x:Et(c,s)}):s&&l.push(i(l)+"skewX("+s+r)}function u(c,s,l,h,d,p){if(c!==l||s!==h){var m=d.push(i(d)+"scale(",null,",",null,")");p.push({i:m-4,x:Et(c,l)},{i:m-2,x:Et(s,h)})}else(l!==1||h!==1)&&d.push(i(d)+"scale("+l+","+h+")")}return function(c,s){var l=[],h=[];return c=t(c),s=t(s),o(c.translateX,c.translateY,s.translateX,s.translateY,l,h),a(c.rotate,s.rotate,l,h),f(c.skewX,s.skewX,l,h),u(c.scaleX,c.scaleY,s.scaleX,s.scaleY,l,h),c=s=null,function(d){for(var p=-1,m=h.length,b;++p<m;)l[(b=h[p]).i]=b.x(d);return l.join("")}}}var z2=ld(R2,"px, ","px)","deg)"),B2=ld(O2,", ",")",")"),U2=1e-12;function $s(t){return((t=Math.exp(t))+1/t)/2}function q2(t){return((t=Math.exp(t))-1/t)/2}function Y2(t){return((t=Math.exp(2*t))-1)/(t+1)}const W2=function t(n,e,r){function i(o,a){var f=o[0],u=o[1],c=o[2],s=a[0],l=a[1],h=a[2],d=s-f,p=l-u,m=d*d+p*p,b,y;if(m<U2)y=Math.log(h/c)/n,b=function(T){return[f+T*d,u+T*p,c*Math.exp(n*T*y)]};else{var g=Math.sqrt(m),v=(h*h-c*c+r*m)/(2*c*e*g),w=(h*h-c*c-r*m)/(2*h*e*g),_=Math.log(Math.sqrt(v*v+1)-v),M=Math.log(Math.sqrt(w*w+1)-w);y=(M-_)/n,b=function(T){var A=T*y,k=$s(_),N=c/(e*g)*(k*Y2(n*A+_)-q2(_));return[f+N*d,u+N*p,c*k/$s(n*A+_)]}}return b.duration=y*1e3*n/Math.SQRT2,b}return i.rho=function(o){var a=Math.max(.001,+o),f=a*a,u=f*f;return t(a,f,u)},i}(Math.SQRT2,2,4);function H2(t){return function(n,e){var r=t((n=Ff(n)).h,(e=Ff(e)).h),i=kt(n.s,e.s),o=kt(n.l,e.l),a=kt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.s=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const G2=H2(ju);function X2(t,n){var e=kt((t=Rf(t)).l,(n=Rf(n)).l),r=kt(t.a,n.a),i=kt(t.b,n.b),o=kt(t.opacity,n.opacity);return function(a){return t.l=e(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function V2(t){return function(n,e){var r=t((n=Of(n)).h,(e=Of(e)).h),i=kt(n.c,e.c),o=kt(n.l,e.l),a=kt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.c=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const Z2=V2(ju);function hd(t){return function n(e){e=+e;function r(i,o){var a=t((i=vn(i)).h,(o=vn(o)).h),f=kt(i.s,o.s),u=kt(i.l,o.l),c=kt(i.opacity,o.opacity);return function(s){return i.h=a(s),i.s=f(s),i.l=u(Math.pow(s,e)),i.opacity=c(s),i+""}}return r.gamma=n,r}(1)}hd(ju);var Qu=hd(kt);function sa(t,n){n===void 0&&(n=t,t=pi);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function an(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var rr=0,kr=0,vr=0,dd=1e3,xo,Nr,Mo=0,Te=0,la=0,Qr=typeof performance=="object"&&performance.now?performance:Date,pd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ju(){return Te||(pd(j2),Te=Qr.now()+la)}function j2(){Te=0}function $o(){this._call=this._time=this._next=null}$o.prototype=md.prototype={constructor:$o,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Ju():+e)+(n==null?0:+n),!this._next&&Nr!==this&&(Nr?Nr._next=this:xo=this,Nr=this),this._call=t,this._time=e,Uf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Uf())}};function md(t,n,e){var r=new $o;return r.restart(t,n,e),r}function K2(){Ju(),++rr;for(var t=xo,n;t;)(n=Te-t._time)>=0&&t._call.call(void 0,n),t=t._next;--rr}function Ts(){Te=(Mo=Qr.now())+la,rr=kr=0;try{K2()}finally{rr=0,J2(),Te=0}}function Q2(){var t=Qr.now(),n=t-Mo;n>dd&&(la-=n,Mo=t)}function J2(){for(var t,n=xo,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:xo=e);Nr=t,Uf(r)}function Uf(t){if(!rr){kr&&(kr=clearTimeout(kr));var n=t-Te;n>24?(t<1/0&&(kr=setTimeout(Ts,t-Qr.now()-la)),vr&&(vr=clearInterval(vr))):(vr||(Mo=Qr.now(),vr=setInterval(Q2,dd)),rr=1,pd(Ts))}}function Ss(t,n,e){var r=new $o;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var tw=Wu("start","end","cancel","interrupt"),nw=[],gd=0,Cs=1,qf=2,ao=3,As=4,Yf=5,fo=6;function ha(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;ew(t,e,{name:n,index:r,group:i,on:tw,tween:nw,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:gd})}function tc(t,n){var e=ln(t,n);if(e.state>gd)throw new Error("too late; already scheduled");return e}function Mn(t,n){var e=ln(t,n);if(e.state>ao)throw new Error("too late; already running");return e}function ln(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ew(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=md(o,0,e.time);function o(c){e.state=Cs,e.timer.restart(a,e.delay,e.time),e.delay<=c&&a(c-e.delay)}function a(c){var s,l,h,d;if(e.state!==Cs)return u();for(s in r)if(d=r[s],d.name===e.name){if(d.state===ao)return Ss(a);d.state===As?(d.state=fo,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[s]):+s<n&&(d.state=fo,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[s])}if(Ss(function(){e.state===ao&&(e.state=As,e.timer.restart(f,e.delay,e.time),f(c))}),e.state=qf,e.on.call("start",t,t.__data__,e.index,e.group),e.state===qf){for(e.state=ao,i=new Array(h=e.tween.length),s=0,l=-1;s<h;++s)(d=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(i[++l]=d);i.length=l+1}}function f(c){for(var s=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(u),e.state=Yf,1),l=-1,h=i.length;++l<h;)i[l].call(t,s);e.state===Yf&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=fo,e.timer.stop(),delete r[n];for(var c in r)return;delete t.__transition}}function uo(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>qf&&r.state<Yf,r.state=fo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function rw(t){return this.each(function(){uo(this,t)})}function iw(t,n){var e,r;return function(){var i=Mn(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function ow(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=Mn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:n,value:e},u=0,c=i.length;u<c;++u)if(i[u].name===n){i[u]=f;break}u===c&&i.push(f)}o.tween=i}}function aw(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=ln(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?iw:ow)(e,t,n))}function nc(t,n,e){var r=t._id;return t.each(function(){var i=Mn(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return ln(i,r).value[n]}}function yd(t,n){var e;return(typeof n=="number"?Et:n instanceof Me?$e:(e=Me(n))?(n=e,$e):cd)(t,n)}function fw(t){return function(){this.removeAttribute(t)}}function uw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cw(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function sw(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function lw(t,n,e){var r,i,o;return function(){var a,f=e(this),u;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=f+"",a===u?null:a===r&&u===i?o:(i=u,o=n(r=a,f)))}}function hw(t,n,e){var r,i,o;return function(){var a,f=e(this),u;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=f+"",a===u?null:a===r&&u===i?o:(i=u,o=n(r=a,f)))}}function dw(t,n){var e=aa(t),r=e==="transform"?B2:yd;return this.attrTween(t,typeof n=="function"?(e.local?hw:lw)(e,r,nc(this,"attr."+t,n)):n==null?(e.local?uw:fw)(e):(e.local?sw:cw)(e,r,n))}function pw(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function mw(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function gw(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&mw(t,o)),e}return i._value=n,i}function yw(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&pw(t,o)),e}return i._value=n,i}function bw(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=aa(t);return this.tween(e,(r.local?gw:yw)(r,n))}function ww(t,n){return function(){tc(this,t).delay=+n.apply(this,arguments)}}function _w(t,n){return n=+n,function(){tc(this,t).delay=n}}function vw(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?ww:_w)(n,t)):ln(this.node(),n).delay}function xw(t,n){return function(){Mn(this,t).duration=+n.apply(this,arguments)}}function Mw(t,n){return n=+n,function(){Mn(this,t).duration=n}}function $w(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?xw:Mw)(n,t)):ln(this.node(),n).duration}function Tw(t,n){if(typeof n!="function")throw new Error;return function(){Mn(this,t).ease=n}}function Sw(t){var n=this._id;return arguments.length?this.each(Tw(n,t)):ln(this.node(),n).ease}function Cw(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;Mn(this,t).ease=e}}function Aw(t){if(typeof t!="function")throw new Error;return this.each(Cw(this._id,t))}function Ew(t){typeof t!="function"&&(t=Uh(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&f.push(u);return new On(r,this._parents,this._name,this._id)}function kw(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var u=n[f],c=e[f],s=u.length,l=a[f]=new Array(s),h,d=0;d<s;++d)(h=u[d]||c[d])&&(l[d]=h);for(;f<r;++f)a[f]=n[f];return new On(a,this._parents,this._name,this._id)}function Nw(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Lw(t,n,e){var r,i,o=Nw(n)?tc:Mn;return function(){var a=o(this,t),f=a.on;f!==r&&(i=(r=f).copy()).on(n,e),a.on=i}}function Dw(t,n){var e=this._id;return arguments.length<2?ln(this.node(),e).on.on(t):this.each(Lw(e,t,n))}function Iw(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Pw(){return this.on("end.remove",Iw(this._id))}function Fw(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Hu(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],u=f.length,c=o[a]=new Array(u),s,l,h=0;h<u;++h)(s=f[h])&&(l=t.call(s,s.__data__,h,f))&&("__data__"in s&&(l.__data__=s.__data__),c[h]=l,ha(c[h],n,e,h,c,ln(s,e)));return new On(o,this._parents,n,e)}function Rw(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Bh(t));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var u=r[f],c=u.length,s,l=0;l<c;++l)if(s=u[l]){for(var h=t.call(s,s.__data__,l,u),d,p=ln(s,e),m=0,b=h.length;m<b;++m)(d=h[m])&&ha(d,n,e,m,h,p);o.push(h),a.push(s)}return new On(o,a,n,e)}var Ow=hi.prototype.constructor;function zw(){return new Ow(this._groups,this._parents)}function Bw(t,n){var e,r,i;return function(){var o=nr(this,t),a=(this.style.removeProperty(t),nr(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function bd(t){return function(){this.style.removeProperty(t)}}function Uw(t,n,e){var r,i=e+"",o;return function(){var a=nr(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function qw(t,n,e){var r,i,o;return function(){var a=nr(this,t),f=e(this),u=f+"";return f==null&&(u=f=(this.style.removeProperty(t),nr(this,t))),a===u?null:a===r&&u===i?o:(i=u,o=n(r=a,f))}}function Yw(t,n){var e,r,i,o="style."+n,a="end."+o,f;return function(){var u=Mn(this,t),c=u.on,s=u.value[o]==null?f||(f=bd(n)):void 0;(c!==e||i!==s)&&(r=(e=c).copy()).on(a,i=s),u.on=r}}function Ww(t,n,e){var r=(t+="")=="transform"?z2:yd;return n==null?this.styleTween(t,Bw(t,r)).on("end.style."+t,bd(t)):typeof n=="function"?this.styleTween(t,qw(t,r,nc(this,"style."+t,n))).each(Yw(this._id,t)):this.styleTween(t,Uw(t,r,n),e).on("end.style."+t,null)}function Hw(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Gw(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&Hw(t,a,e)),r}return o._value=n,o}function Xw(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Gw(t,n,e??""))}function Vw(t){return function(){this.textContent=t}}function Zw(t){return function(){var n=t(this);this.textContent=n??""}}function jw(t){return this.tween("text",typeof t=="function"?Zw(nc(this,"text",t)):Vw(t==null?"":t+""))}function Kw(t){return function(n){this.textContent=t.call(this,n)}}function Qw(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Kw(i)),n}return r._value=t,r}function Jw(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Qw(t))}function t_(){for(var t=this._name,n=this._id,e=wd(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,u,c=0;c<f;++c)if(u=a[c]){var s=ln(u,n);ha(u,t,e,c,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new On(r,this._parents,t,e)}function n_(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var f={value:a},u={value:function(){--i===0&&o()}};e.each(function(){var c=Mn(this,r),s=c.on;s!==t&&(n=(t=s).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(u)),c.on=n}),i===0&&o()})}var e_=0;function On(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function wd(){return++e_}var Sn=hi.prototype;On.prototype={constructor:On,select:Fw,selectAll:Rw,selectChild:Sn.selectChild,selectChildren:Sn.selectChildren,filter:Ew,merge:kw,selection:zw,transition:t_,call:Sn.call,nodes:Sn.nodes,node:Sn.node,size:Sn.size,empty:Sn.empty,each:Sn.each,on:Dw,attr:dw,attrTween:bw,style:Ww,styleTween:Xw,text:jw,textTween:Jw,remove:Pw,tween:aw,delay:vw,duration:$w,ease:Sw,easeVarying:Aw,end:n_,[Symbol.iterator]:Sn[Symbol.iterator]};function r_(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var i_={time:null,delay:0,duration:250,ease:r_};function o_(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function a_(t){var n,e;t instanceof On?(n=t._id,t=t._name):(n=wd(),(e=i_).time=Ju(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,u,c=0;c<f;++c)(u=a[c])&&ha(u,t,n,c,a,e||o_(u,n));return new On(r,this._parents,t,n)}hi.prototype.interrupt=rw;hi.prototype.transition=a_;const Wf=Math.PI,Hf=2*Wf,le=1e-6,f_=Hf-le;function _d(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function u_(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return _d;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class vd{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?_d:u_(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,u=r-n,c=i-e,s=a-n,l=f-e,h=s*s+l*l;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(h>le)if(!(Math.abs(l*u-c*s)>le)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let d=r-a,p=i-f,m=u*u+c*c,b=d*d+p*p,y=Math.sqrt(m),g=Math.sqrt(h),v=o*Math.tan((Wf-Math.acos((m+h-b)/(2*y*g)))/2),w=v/g,_=v/y;Math.abs(w-1)>le&&this._append`L${n+w*s},${e+w*l}`,this._append`A${o},${o},0,0,${+(l*d>s*p)},${this._x1=n+_*u},${this._y1=e+_*c}`}}arc(n,e,r,i,o,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),u=r*Math.sin(i),c=n+f,s=e+u,l=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${c},${s}`:(Math.abs(this._x1-c)>le||Math.abs(this._y1-s)>le)&&this._append`L${c},${s}`,r&&(h<0&&(h=h%Hf+Hf),h>f_?this._append`A${r},${r},0,1,${l},${n-f},${e-u}A${r},${r},0,1,${l},${this._x1=c},${this._y1=s}`:h>le&&this._append`A${r},${r},0,${+(h>=Wf)},${l},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function To(t=3){return new vd(+t)}var Es={},Ha={},Ga=34,xr=10,Xa=13;function xd(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function c_(t,n){var e=xd(t);return function(r,i){return n(e(r),i,t)}}function ks(t){var n=Object.create(null),e=[];return t.forEach(function(r){for(var i in r)i in n||e.push(n[i]=i)}),e}function Dt(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function s_(t){return t<0?"-"+Dt(-t,6):t>9999?"+"+Dt(t,6):Dt(t,4)}function l_(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":s_(t.getUTCFullYear())+"-"+Dt(t.getUTCMonth()+1,2)+"-"+Dt(t.getUTCDate(),2)+(i?"T"+Dt(n,2)+":"+Dt(e,2)+":"+Dt(r,2)+"."+Dt(i,3)+"Z":r?"T"+Dt(n,2)+":"+Dt(e,2)+":"+Dt(r,2)+"Z":e||n?"T"+Dt(n,2)+":"+Dt(e,2)+"Z":"")}function h_(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(l,h){var d,p,m=i(l,function(b,y){if(d)return d(b,y-1);p=b,d=h?c_(b,h):xd(b)});return m.columns=p||[],m}function i(l,h){var d=[],p=l.length,m=0,b=0,y,g=p<=0,v=!1;l.charCodeAt(p-1)===xr&&--p,l.charCodeAt(p-1)===Xa&&--p;function w(){if(g)return Ha;if(v)return v=!1,Es;var M,T=m,A;if(l.charCodeAt(T)===Ga){for(;m++<p&&l.charCodeAt(m)!==Ga||l.charCodeAt(++m)===Ga;);return(M=m)>=p?g=!0:(A=l.charCodeAt(m++))===xr?v=!0:A===Xa&&(v=!0,l.charCodeAt(m)===xr&&++m),l.slice(T+1,M-1).replace(/""/g,'"')}for(;m<p;){if((A=l.charCodeAt(M=m++))===xr)v=!0;else if(A===Xa)v=!0,l.charCodeAt(m)===xr&&++m;else if(A!==e)continue;return l.slice(T,M)}return g=!0,l.slice(T,p)}for(;(y=w())!==Ha;){for(var _=[];y!==Es&&y!==Ha;)_.push(y),y=w();h&&(_=h(_,b++))==null||d.push(_)}return d}function o(l,h){return l.map(function(d){return h.map(function(p){return s(d[p])}).join(t)})}function a(l,h){return h==null&&(h=ks(l)),[h.map(s).join(t)].concat(o(l,h)).join(`
`)}function f(l,h){return h==null&&(h=ks(l)),o(l,h).join(`
`)}function u(l){return l.map(c).join(`
`)}function c(l){return l.map(s).join(t)}function s(l){return l==null?"":l instanceof Date?l_(l):n.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l}return{parse:r,parseRows:i,format:a,formatBody:f,formatRows:u,formatRow:c,formatValue:s}}var d_=h_(","),p_=d_.parse;function m_(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function g_(t,n){return fetch(t,n).then(m_)}function y_(t){return function(n,e,r){return arguments.length===2&&typeof e=="function"&&(r=e,e=void 0),g_(n,e).then(function(i){return t(i,r)})}}var ie=y_(p_);function b_(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function w_(t,n){return fetch(t,n).then(b_)}function __(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function So(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function ir(t){return t=So(Math.abs(t)),t?t[1]:NaN}function v_(t,n){return function(e,r){for(var i=e.length,o=[],a=0,f=t[0],u=0;i>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),o.push(e.substring(i-=f,i+f)),!((u+=f+1)>r));)f=t[a=(a+1)%t.length];return o.reverse().join(n)}}function x_(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var M_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jr(t){if(!(n=M_.exec(t)))throw new Error("invalid format: "+t);var n;return new ec({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Jr.prototype=ec.prototype;function ec(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ec.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $_(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Md;function T_(t,n){var e=So(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Md=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+So(t,Math.max(0,n+o-1))[0]}function Ns(t,n){var e=So(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ls={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:__,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Ns(t*100,n),r:Ns,s:T_,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ds(t){return t}var Is=Array.prototype.map,Ps=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function S_(t){var n=t.grouping===void 0||t.thousands===void 0?Ds:v_(Is.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Ds:x_(Is.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(l){l=Jr(l);var h=l.fill,d=l.align,p=l.sign,m=l.symbol,b=l.zero,y=l.width,g=l.comma,v=l.precision,w=l.trim,_=l.type;_==="n"?(g=!0,_="g"):Ls[_]||(v===void 0&&(v=12),w=!0,_="g"),(b||h==="0"&&d==="=")&&(b=!0,h="0",d="=");var M=m==="$"?e:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",T=m==="$"?r:/[%p]/.test(_)?a:"",A=Ls[_],k=/[defgprs%]/.test(_);v=v===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function N(C){var R=M,O=T,x,$,S;if(_==="c")O=A(C)+O,C="";else{C=+C;var I=C<0||1/C<0;if(C=isNaN(C)?u:A(Math.abs(C),v),w&&(C=$_(C)),I&&+C==0&&p!=="+"&&(I=!1),R=(I?p==="("?p:f:p==="-"||p==="("?"":p)+R,O=(_==="s"?Ps[8+Md/3]:"")+O+(I&&p==="("?")":""),k){for(x=-1,$=C.length;++x<$;)if(S=C.charCodeAt(x),48>S||S>57){O=(S===46?i+C.slice(x+1):C.slice(x))+O,C=C.slice(0,x);break}}}g&&!b&&(C=n(C,1/0));var F=R.length+C.length+O.length,E=F<y?new Array(y-F+1).join(h):"";switch(g&&b&&(C=n(E+C,E.length?y-O.length:1/0),E=""),d){case"<":C=R+C+O+E;break;case"=":C=R+E+C+O;break;case"^":C=E.slice(0,F=E.length>>1)+R+C+O+E.slice(F);break;default:C=E+R+C+O;break}return o(C)}return N.toString=function(){return l+""},N}function s(l,h){var d=c((l=Jr(l),l.type="f",l)),p=Math.max(-8,Math.min(8,Math.floor(ir(h)/3)))*3,m=Math.pow(10,-p),b=Ps[8+p/3];return function(y){return d(m*y)+b}}return{format:c,formatPrefix:s}}var Bi,pr,$d;C_({thousands:",",grouping:[3],currency:["$",""]});function C_(t){return Bi=S_(t),pr=Bi.format,$d=Bi.formatPrefix,Bi}function A_(t){return Math.max(0,-ir(Math.abs(t)))}function E_(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ir(n)/3)))*3-ir(Math.abs(t)))}function k_(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,ir(n)-ir(t))+1}var J=1e-6,Td=1e-12,et=Math.PI,gt=et/2,Fs=et/4,Wt=et*2,Nt=180/et,pt=et/180,ut=Math.abs,mr=Math.atan,zn=Math.atan2,nt=Math.cos,Sd=Math.exp,Co=Math.log,Va=Math.pow,K=Math.sin,Zt=Math.sign||function(t){return t>0?1:t<0?-1:0},Rt=Math.sqrt,rc=Math.tan;function Cd(t){return t>1?0:t<-1?et:Math.acos(t)}function Jt(t){return t>1?gt:t<-1?-gt:Math.asin(t)}function jt(){}function Ao(t,n){t&&Os.hasOwnProperty(t.type)&&Os[t.type](t,n)}var Rs={Feature:function(t,n){Ao(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Ao(e[r].geometry,n)}},Os={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Gf(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Gf(e[r],n,0)},Polygon:function(t,n){zs(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)zs(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Ao(e[r],n)}};function Gf(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function zs(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Gf(t[e],n,1);n.polygonEnd()}function de(t,n){t&&Rs.hasOwnProperty(t.type)?Rs[t.type](t,n):Ao(t,n)}function Xf(t){return[zn(t[1],t[0]),Jt(t[2])]}function or(t){var n=t[0],e=t[1],r=nt(e);return[r*nt(n),r*K(n),K(e)]}function Ui(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Eo(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Za(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function qi(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Vf(t){var n=Rt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Zf(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function jf(t,n){return ut(t)>et&&(t-=Math.round(t/Wt)*Wt),[t,n]}jf.invert=jf;function Ad(t,n,e){return(t%=Wt)?n||e?Zf(Us(t),qs(n,e)):Us(t):n||e?qs(n,e):jf}function Bs(t){return function(n,e){return n+=t,ut(n)>et&&(n-=Math.round(n/Wt)*Wt),[n,e]}}function Us(t){var n=Bs(t);return n.invert=Bs(-t),n}function qs(t,n){var e=nt(t),r=K(t),i=nt(n),o=K(n);function a(f,u){var c=nt(u),s=nt(f)*c,l=K(f)*c,h=K(u),d=h*e+s*r;return[zn(l*i-d*o,s*e-h*r),Jt(d*i+l*o)]}return a.invert=function(f,u){var c=nt(u),s=nt(f)*c,l=K(f)*c,h=K(u),d=h*i-l*o;return[zn(l*i+h*o,s*e+d*r),Jt(d*e-s*r)]},a}function N_(t){t=Ad(t[0]*pt,t[1]*pt,t.length>2?t[2]*pt:0);function n(e){return e=t(e[0]*pt,e[1]*pt),e[0]*=Nt,e[1]*=Nt,e}return n.invert=function(e){return e=t.invert(e[0]*pt,e[1]*pt),e[0]*=Nt,e[1]*=Nt,e},n}function L_(t,n,e,r,i,o){if(e){var a=nt(n),f=K(n),u=r*e;i==null?(i=n+r*Wt,o=n-u/2):(i=Ys(a,i),o=Ys(a,o),(r>0?i<o:i>o)&&(i+=r*Wt));for(var c,s=i;r>0?s>o:s<o;s-=u)c=Xf([a,-f*nt(s),-f*K(s)]),t.point(c[0],c[1])}}function Ys(t,n){n=or(n),n[0]-=t,Vf(n);var e=Cd(-n[1]);return((-n[2]<0?-e:e)+Wt-J)%Wt}function Ed(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:jt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function co(t,n){return ut(t[0]-n[0])<J&&ut(t[1]-n[1])<J}function Yi(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function kd(t,n,e,r,i){var o=[],a=[],f,u;if(t.forEach(function(p){if(!((m=p.length-1)<=0)){var m,b=p[0],y=p[m],g;if(co(b,y)){if(!b[2]&&!y[2]){for(i.lineStart(),f=0;f<m;++f)i.point((b=p[f])[0],b[1]);i.lineEnd();return}y[0]+=2*J}o.push(g=new Yi(b,p,null,!0)),a.push(g.o=new Yi(b,null,g,!1)),o.push(g=new Yi(y,p,null,!1)),a.push(g.o=new Yi(y,null,g,!0))}}),!!o.length){for(a.sort(n),Ws(o),Ws(a),f=0,u=a.length;f<u;++f)a[f].e=e=!e;for(var c=o[0],s,l;;){for(var h=c,d=!0;h.v;)if((h=h.n)===c)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(f=0,u=s.length;f<u;++f)i.point((l=s[f])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(s=h.p.z,f=s.length-1;f>=0;--f)i.point((l=s[f])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,s=h.z,d=!d}while(!h.v);i.lineEnd()}}}function Ws(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function ja(t){return ut(t[0])<=et?t[0]:Zt(t[0])*((ut(t[0])+et)%Wt-et)}function D_(t,n){var e=ja(n),r=n[1],i=K(r),o=[K(e),-nt(e),0],a=0,f=0,u=new _e;i===1?r=gt+J:i===-1&&(r=-gt-J);for(var c=0,s=t.length;c<s;++c)if(h=(l=t[c]).length)for(var l,h,d=l[h-1],p=ja(d),m=d[1]/2+Fs,b=K(m),y=nt(m),g=0;g<h;++g,p=w,b=M,y=T,d=v){var v=l[g],w=ja(v),_=v[1]/2+Fs,M=K(_),T=nt(_),A=w-p,k=A>=0?1:-1,N=k*A,C=N>et,R=b*M;if(u.add(zn(R*k*K(N),y*T+R*nt(N))),a+=C?A+k*Wt:A,C^p>=e^w>=e){var O=Eo(or(d),or(v));Vf(O);var x=Eo(o,O);Vf(x);var $=(C^A>=0?-1:1)*Jt(x[2]);(r>$||r===$&&(O[0]||O[1]))&&(f+=C^A>=0?1:-1)}}return(a<-J||a<J&&u<-Td)^f&1}function Nd(t,n,e,r){return function(i){var o=n(i),a=Ed(),f=n(a),u=!1,c,s,l,h={point:d,lineStart:m,lineEnd:b,polygonStart:function(){h.point=y,h.lineStart=g,h.lineEnd=v,s=[],c=[]},polygonEnd:function(){h.point=d,h.lineStart=m,h.lineEnd=b,s=zh(s);var w=D_(c,r);s.length?(u||(i.polygonStart(),u=!0),kd(s,P_,w,e,i)):w&&(u||(i.polygonStart(),u=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),s=c=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(w,_){t(w,_)&&i.point(w,_)}function p(w,_){o.point(w,_)}function m(){h.point=p,o.lineStart()}function b(){h.point=d,o.lineEnd()}function y(w,_){l.push([w,_]),f.point(w,_)}function g(){f.lineStart(),l=[]}function v(){y(l[0][0],l[0][1]),f.lineEnd();var w=f.clean(),_=a.result(),M,T=_.length,A,k,N;if(l.pop(),c.push(l),l=null,!!T){if(w&1){if(k=_[0],(A=k.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),M=0;M<A;++M)i.point((N=k[M])[0],N[1]);i.lineEnd()}return}T>1&&w&2&&_.push(_.pop().concat(_.shift())),s.push(_.filter(I_))}}return h}}function I_(t){return t.length>1}function P_(t,n){return((t=t.x)[0]<0?t[1]-gt-J:gt-t[1])-((n=n.x)[0]<0?n[1]-gt-J:gt-n[1])}const Hs=Nd(function(){return!0},F_,O_,[-et,-gt]);function F_(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var f=o>0?et:-et,u=ut(o-n);ut(u-et)<J?(t.point(n,e=(e+a)/2>0?gt:-gt),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),t.point(o,e),i=0):r!==f&&u>=et&&(ut(n-r)<J&&(n-=r*J),ut(o-f)<J&&(o-=f*J),e=R_(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),i=0),t.point(n=o,e=a),r=f},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function R_(t,n,e,r){var i,o,a=K(t-e);return ut(a)>J?mr((K(n)*(o=nt(r))*K(e)-K(r)*(i=nt(n))*K(t))/(i*o*a)):(n+r)/2}function O_(t,n,e,r){var i;if(t==null)i=e*gt,r.point(-et,i),r.point(0,i),r.point(et,i),r.point(et,0),r.point(et,-i),r.point(0,-i),r.point(-et,-i),r.point(-et,0),r.point(-et,i);else if(ut(t[0]-n[0])>J){var o=t[0]<n[0]?et:-et;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function z_(t){var n=nt(t),e=2*pt,r=n>0,i=ut(n)>J;function o(s,l,h,d){L_(d,t,e,h,s,l)}function a(s,l){return nt(s)*nt(l)>n}function f(s){var l,h,d,p,m;return{lineStart:function(){p=d=!1,m=1},point:function(b,y){var g=[b,y],v,w=a(b,y),_=r?w?0:c(b,y):w?c(b+(b<0?et:-et),y):0;if(!l&&(p=d=w)&&s.lineStart(),w!==d&&(v=u(l,g),(!v||co(l,v)||co(g,v))&&(g[2]=1)),w!==d)m=0,w?(s.lineStart(),v=u(g,l),s.point(v[0],v[1])):(v=u(l,g),s.point(v[0],v[1],2),s.lineEnd()),l=v;else if(i&&l&&r^w){var M;!(_&h)&&(M=u(g,l,!0))&&(m=0,r?(s.lineStart(),s.point(M[0][0],M[0][1]),s.point(M[1][0],M[1][1]),s.lineEnd()):(s.point(M[1][0],M[1][1]),s.lineEnd(),s.lineStart(),s.point(M[0][0],M[0][1],3)))}w&&(!l||!co(l,g))&&s.point(g[0],g[1]),l=g,d=w,h=_},lineEnd:function(){d&&s.lineEnd(),l=null},clean:function(){return m|(p&&d)<<1}}}function u(s,l,h){var d=or(s),p=or(l),m=[1,0,0],b=Eo(d,p),y=Ui(b,b),g=b[0],v=y-g*g;if(!v)return!h&&s;var w=n*y/v,_=-n*g/v,M=Eo(m,b),T=qi(m,w),A=qi(b,_);Za(T,A);var k=M,N=Ui(T,k),C=Ui(k,k),R=N*N-C*(Ui(T,T)-1);if(!(R<0)){var O=Rt(R),x=qi(k,(-N-O)/C);if(Za(x,T),x=Xf(x),!h)return x;var $=s[0],S=l[0],I=s[1],F=l[1],E;S<$&&(E=$,$=S,S=E);var P=S-$,B=ut(P-et)<J,z=B||P<J;if(!B&&F<I&&(E=I,I=F,F=E),z?B?I+F>0^x[1]<(ut(x[0]-$)<J?I:F):I<=x[1]&&x[1]<=F:P>et^($<=x[0]&&x[0]<=S)){var q=qi(k,(-N+O)/C);return Za(q,T),[x,Xf(q)]}}}function c(s,l){var h=r?t:et-t,d=0;return s<-h?d|=1:s>h&&(d|=2),l<-h?d|=4:l>h&&(d|=8),d}return Nd(a,f,o,r?[0,-t]:[-et,t-et])}function B_(t,n,e,r,i,o){var a=t[0],f=t[1],u=n[0],c=n[1],s=0,l=1,h=u-a,d=c-f,p;if(p=e-a,!(!h&&p>0)){if(p/=h,h<0){if(p<s)return;p<l&&(l=p)}else if(h>0){if(p>l)return;p>s&&(s=p)}if(p=i-a,!(!h&&p<0)){if(p/=h,h<0){if(p>l)return;p>s&&(s=p)}else if(h>0){if(p<s)return;p<l&&(l=p)}if(p=r-f,!(!d&&p>0)){if(p/=d,d<0){if(p<s)return;p<l&&(l=p)}else if(d>0){if(p>l)return;p>s&&(s=p)}if(p=o-f,!(!d&&p<0)){if(p/=d,d<0){if(p>l)return;p>s&&(s=p)}else if(d>0){if(p<s)return;p<l&&(l=p)}return s>0&&(t[0]=a+s*h,t[1]=f+s*d),l<1&&(n[0]=a+l*h,n[1]=f+l*d),!0}}}}}var Lr=1e9,Wi=-Lr;function Ld(t,n,e,r){function i(c,s){return t<=c&&c<=e&&n<=s&&s<=r}function o(c,s,l,h){var d=0,p=0;if(c==null||(d=a(c,l))!==(p=a(s,l))||u(c,s)<0^l>0)do h.point(d===0||d===3?t:e,d>1?r:n);while((d=(d+l+4)%4)!==p);else h.point(s[0],s[1])}function a(c,s){return ut(c[0]-t)<J?s>0?0:3:ut(c[0]-e)<J?s>0?2:1:ut(c[1]-n)<J?s>0?1:0:s>0?3:2}function f(c,s){return u(c.x,s.x)}function u(c,s){var l=a(c,1),h=a(s,1);return l!==h?l-h:l===0?s[1]-c[1]:l===1?c[0]-s[0]:l===2?c[1]-s[1]:s[0]-c[0]}return function(c){var s=c,l=Ed(),h,d,p,m,b,y,g,v,w,_,M,T={point:A,lineStart:R,lineEnd:O,polygonStart:N,polygonEnd:C};function A($,S){i($,S)&&s.point($,S)}function k(){for(var $=0,S=0,I=d.length;S<I;++S)for(var F=d[S],E=1,P=F.length,B=F[0],z,q,G=B[0],X=B[1];E<P;++E)z=G,q=X,B=F[E],G=B[0],X=B[1],q<=r?X>r&&(G-z)*(r-q)>(X-q)*(t-z)&&++$:X<=r&&(G-z)*(r-q)<(X-q)*(t-z)&&--$;return $}function N(){s=l,h=[],d=[],M=!0}function C(){var $=k(),S=M&&$,I=(h=zh(h)).length;(S||I)&&(c.polygonStart(),S&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),I&&kd(h,f,$,o,c),c.polygonEnd()),s=c,h=d=p=null}function R(){T.point=x,d&&d.push(p=[]),_=!0,w=!1,g=v=NaN}function O(){h&&(x(m,b),y&&w&&l.rejoin(),h.push(l.result())),T.point=A,w&&s.lineEnd()}function x($,S){var I=i($,S);if(d&&p.push([$,S]),_)m=$,b=S,y=I,_=!1,I&&(s.lineStart(),s.point($,S));else if(I&&w)s.point($,S);else{var F=[g=Math.max(Wi,Math.min(Lr,g)),v=Math.max(Wi,Math.min(Lr,v))],E=[$=Math.max(Wi,Math.min(Lr,$)),S=Math.max(Wi,Math.min(Lr,S))];B_(F,E,t,n,e,r)?(w||(s.lineStart(),s.point(F[0],F[1])),s.point(E[0],E[1]),I||s.lineEnd(),M=!1):I&&(s.lineStart(),s.point($,S),M=!1)}g=$,v=S,w=I}return T}}const Kf=t=>t;var Ka=new _e,Qf=new _e,Dd,Id,Jf,tu,Ln={point:jt,lineStart:jt,lineEnd:jt,polygonStart:function(){Ln.lineStart=U_,Ln.lineEnd=Y_},polygonEnd:function(){Ln.lineStart=Ln.lineEnd=Ln.point=jt,Ka.add(ut(Qf)),Qf=new _e},result:function(){var t=Ka/2;return Ka=new _e,t}};function U_(){Ln.point=q_}function q_(t,n){Ln.point=Pd,Dd=Jf=t,Id=tu=n}function Pd(t,n){Qf.add(tu*t-Jf*n),Jf=t,tu=n}function Y_(){Pd(Dd,Id)}var ar=1/0,ko=ar,ti=-ar,No=ti,Lo={point:W_,lineStart:jt,lineEnd:jt,polygonStart:jt,polygonEnd:jt,result:function(){var t=[[ar,ko],[ti,No]];return ti=No=-(ko=ar=1/0),t}};function W_(t,n){t<ar&&(ar=t),t>ti&&(ti=t),n<ko&&(ko=n),n>No&&(No=n)}var nu=0,eu=0,Dr=0,Do=0,Io=0,We=0,ru=0,iu=0,Ir=0,Fd,Rd,gn,yn,Vt={point:Se,lineStart:Gs,lineEnd:Xs,polygonStart:function(){Vt.lineStart=X_,Vt.lineEnd=V_},polygonEnd:function(){Vt.point=Se,Vt.lineStart=Gs,Vt.lineEnd=Xs},result:function(){var t=Ir?[ru/Ir,iu/Ir]:We?[Do/We,Io/We]:Dr?[nu/Dr,eu/Dr]:[NaN,NaN];return nu=eu=Dr=Do=Io=We=ru=iu=Ir=0,t}};function Se(t,n){nu+=t,eu+=n,++Dr}function Gs(){Vt.point=H_}function H_(t,n){Vt.point=G_,Se(gn=t,yn=n)}function G_(t,n){var e=t-gn,r=n-yn,i=Rt(e*e+r*r);Do+=i*(gn+t)/2,Io+=i*(yn+n)/2,We+=i,Se(gn=t,yn=n)}function Xs(){Vt.point=Se}function X_(){Vt.point=Z_}function V_(){Od(Fd,Rd)}function Z_(t,n){Vt.point=Od,Se(Fd=gn=t,Rd=yn=n)}function Od(t,n){var e=t-gn,r=n-yn,i=Rt(e*e+r*r);Do+=i*(gn+t)/2,Io+=i*(yn+n)/2,We+=i,i=yn*t-gn*n,ru+=i*(gn+t),iu+=i*(yn+n),Ir+=i*3,Se(gn=t,yn=n)}function zd(t){this._context=t}zd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Wt);break}}},result:jt};var ou=new _e,Qa,Bd,Ud,Pr,Fr,ni={point:jt,lineStart:function(){ni.point=j_},lineEnd:function(){Qa&&qd(Bd,Ud),ni.point=jt},polygonStart:function(){Qa=!0},polygonEnd:function(){Qa=null},result:function(){var t=+ou;return ou=new _e,t}};function j_(t,n){ni.point=qd,Bd=Pr=t,Ud=Fr=n}function qd(t,n){Pr-=t,Fr-=n,ou.add(Rt(Pr*Pr+Fr*Fr)),Pr=t,Fr=n}let Vs,Po,Zs,js;class Ks{constructor(n){this._append=n==null?Yd:K_(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==Zs||this._append!==Po){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Zs=r,Po=this._append,js=this._,this._=i}this._+=js;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Yd(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function K_(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Yd;if(n!==Vs){const e=10**n;Vs=n,Po=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return Po}function da(t,n){let e=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),de(f,i(o))),o.result()}return a.area=function(f){return de(f,i(Ln)),Ln.result()},a.measure=function(f){return de(f,i(ni)),ni.result()},a.bounds=function(f){return de(f,i(Lo)),Lo.result()},a.centroid=function(f){return de(f,i(Vt)),Vt.result()},a.projection=function(f){return arguments.length?(i=f==null?(t=null,Kf):(t=f).stream,a):t},a.context=function(f){return arguments.length?(o=f==null?(n=null,new Ks(e)):new zd(n=f),typeof r!="function"&&o.pointRadius(r),a):n},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const u=Math.floor(f);if(!(u>=0))throw new RangeError(`invalid digits: ${f}`);e=u}return n===null&&(o=new Ks(e)),a},a.projection(t).digits(e).context(n)}function au(t){return{stream:pa(t)}}function pa(t){return function(n){var e=new fu;for(var r in t)e[r]=t[r];return e.stream=n,e}}function fu(){}fu.prototype={constructor:fu,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ic(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),de(e,t.stream(Lo)),n(Lo.result()),r!=null&&t.clipExtent(r),t}function oc(t,n,e){return ic(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,u=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,u])},e)}function Wd(t,n,e){return oc(t,[[0,0],n],e)}function Hd(t,n,e){return ic(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];t.scale(150*o).translate([a,f])},e)}function Gd(t,n,e){return ic(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,f])},e)}var Qs=16,Q_=nt(30*pt);function Js(t,n){return+n?tv(t,n):J_(t)}function J_(t){return pa({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function tv(t,n){function e(r,i,o,a,f,u,c,s,l,h,d,p,m,b){var y=c-r,g=s-i,v=y*y+g*g;if(v>4*n&&m--){var w=a+h,_=f+d,M=u+p,T=Rt(w*w+_*_+M*M),A=Jt(M/=T),k=ut(ut(M)-1)<J||ut(o-l)<J?(o+l)/2:zn(_,w),N=t(k,A),C=N[0],R=N[1],O=C-r,x=R-i,$=g*O-y*x;($*$/v>n||ut((y*O+g*x)/v-.5)>.3||a*h+f*d+u*p<Q_)&&(e(r,i,o,a,f,u,C,R,k,w/=T,_/=T,M,m,b),b.point(C,R),e(C,R,k,w,_,M,c,s,l,h,d,p,m,b))}}return function(r){var i,o,a,f,u,c,s,l,h,d,p,m,b={point:y,lineStart:g,lineEnd:w,polygonStart:function(){r.polygonStart(),b.lineStart=_},polygonEnd:function(){r.polygonEnd(),b.lineStart=g}};function y(A,k){A=t(A,k),r.point(A[0],A[1])}function g(){l=NaN,b.point=v,r.lineStart()}function v(A,k){var N=or([A,k]),C=t(A,k);e(l,h,s,d,p,m,l=C[0],h=C[1],s=A,d=N[0],p=N[1],m=N[2],Qs,r),r.point(l,h)}function w(){b.point=y,r.lineEnd()}function _(){g(),b.point=M,b.lineEnd=T}function M(A,k){v(i=A,k),o=l,a=h,f=d,u=p,c=m,b.point=v}function T(){e(l,h,s,d,p,m,o,a,i,f,u,c,Qs,r),b.lineEnd=w,w()}return b}}var nv=pa({point:function(t,n){this.stream.point(t*pt,n*pt)}});function ev(t){return pa({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function rv(t,n,e,r,i){function o(a,f){return a*=r,f*=i,[n+t*a,e-t*f]}return o.invert=function(a,f){return[(a-n)/t*r,(e-f)/t*i]},o}function tl(t,n,e,r,i,o){if(!o)return rv(t,n,e,r,i);var a=nt(o),f=K(o),u=a*t,c=f*t,s=a/t,l=f/t,h=(f*e-a*n)/t,d=(f*n+a*e)/t;function p(m,b){return m*=r,b*=i,[u*m-c*b+n,e-c*m-u*b]}return p.invert=function(m,b){return[r*(s*m-l*b+h),i*(d-l*m-s*b)]},p}function oe(t){return Xd(function(){return t})()}function Xd(t){var n,e=150,r=480,i=250,o=0,a=0,f=0,u=0,c=0,s,l=0,h=1,d=1,p=null,m=Hs,b=null,y,g,v,w=Kf,_=.5,M,T,A,k,N;function C($){return A($[0]*pt,$[1]*pt)}function R($){return $=A.invert($[0],$[1]),$&&[$[0]*Nt,$[1]*Nt]}C.stream=function($){return k&&N===$?k:k=nv(ev(s)(m(M(w(N=$)))))},C.preclip=function($){return arguments.length?(m=$,p=void 0,x()):m},C.postclip=function($){return arguments.length?(w=$,b=y=g=v=null,x()):w},C.clipAngle=function($){return arguments.length?(m=+$?z_(p=$*pt):(p=null,Hs),x()):p*Nt},C.clipExtent=function($){return arguments.length?(w=$==null?(b=y=g=v=null,Kf):Ld(b=+$[0][0],y=+$[0][1],g=+$[1][0],v=+$[1][1]),x()):b==null?null:[[b,y],[g,v]]},C.scale=function($){return arguments.length?(e=+$,O()):e},C.translate=function($){return arguments.length?(r=+$[0],i=+$[1],O()):[r,i]},C.center=function($){return arguments.length?(o=$[0]%360*pt,a=$[1]%360*pt,O()):[o*Nt,a*Nt]},C.rotate=function($){return arguments.length?(f=$[0]%360*pt,u=$[1]%360*pt,c=$.length>2?$[2]%360*pt:0,O()):[f*Nt,u*Nt,c*Nt]},C.angle=function($){return arguments.length?(l=$%360*pt,O()):l*Nt},C.reflectX=function($){return arguments.length?(h=$?-1:1,O()):h<0},C.reflectY=function($){return arguments.length?(d=$?-1:1,O()):d<0},C.precision=function($){return arguments.length?(M=Js(T,_=$*$),x()):Rt(_)},C.fitExtent=function($,S){return oc(C,$,S)},C.fitSize=function($,S){return Wd(C,$,S)},C.fitWidth=function($,S){return Hd(C,$,S)},C.fitHeight=function($,S){return Gd(C,$,S)};function O(){var $=tl(e,0,0,h,d,l).apply(null,n(o,a)),S=tl(e,r-$[0],i-$[1],h,d,l);return s=Ad(f,u,c),T=Zf(n,S),A=Zf(s,T),M=Js(T,_),x()}function x(){return k=N=null,C}return function(){return n=t.apply(this,arguments),C.invert=n.invert&&R,O()}}function ac(t){var n=0,e=et/3,r=Xd(t),i=r(n,e);return i.parallels=function(o){return arguments.length?r(n=o[0]*pt,e=o[1]*pt):[n*Nt,e*Nt]},i}function iv(t){var n=nt(t);function e(r,i){return[r*n,K(i)/n]}return e.invert=function(r,i){return[r/n,Jt(i*n)]},e}function ov(t,n){var e=K(t),r=(e+K(n))/2;if(ut(r)<J)return iv(t);var i=1+e*(2*r-e),o=Rt(i)/r;function a(f,u){var c=Rt(i-2*r*K(u))/r;return[c*K(f*=r),o-c*nt(f)]}return a.invert=function(f,u){var c=o-u,s=zn(f,ut(c))*Zt(c);return c*r<0&&(s-=et*Zt(f)*Zt(c)),[s/r,Jt((i-(f*f+c*c)*r*r)/(2*r))]},a}function Fo(){return ac(ov).scale(155.424).center([0,33.6442])}function Vd(){return Fo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function av(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function fv(){var t,n,e=Vd(),r,i=Fo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Fo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,c={point:function(h,d){u=[h,d]}};function s(h){var d=h[0],p=h[1];return u=null,r.point(d,p),u||(o.point(d,p),u)||(f.point(d,p),u)}s.invert=function(h){var d=e.scale(),p=e.translate(),m=(h[0]-p[0])/d,b=(h[1]-p[1])/d;return(b>=.12&&b<.234&&m>=-.425&&m<-.214?i:b>=.166&&b<.234&&m>=-.214&&m<-.115?a:e).invert(h)},s.stream=function(h){return t&&n===h?t:t=av([e.stream(n=h),i.stream(h),a.stream(h)])},s.precision=function(h){return arguments.length?(e.precision(h),i.precision(h),a.precision(h),l()):e.precision()},s.scale=function(h){return arguments.length?(e.scale(h),i.scale(h*.35),a.scale(h),s.translate(e.translate())):e.scale()},s.translate=function(h){if(!arguments.length)return e.translate();var d=e.scale(),p=+h[0],m=+h[1];return r=e.translate(h).clipExtent([[p-.455*d,m-.238*d],[p+.455*d,m+.238*d]]).stream(c),o=i.translate([p-.307*d,m+.201*d]).clipExtent([[p-.425*d+J,m+.12*d+J],[p-.214*d-J,m+.234*d-J]]).stream(c),f=a.translate([p-.205*d,m+.212*d]).clipExtent([[p-.214*d+J,m+.166*d+J],[p-.115*d-J,m+.234*d-J]]).stream(c),l()},s.fitExtent=function(h,d){return oc(s,h,d)},s.fitSize=function(h,d){return Wd(s,h,d)},s.fitWidth=function(h,d){return Hd(s,h,d)},s.fitHeight=function(h,d){return Gd(s,h,d)};function l(){return t=n=null,s}return s.scale(1070)}function Zd(t){return function(n,e){var r=nt(n),i=nt(e),o=t(r*i);return o===1/0?[2,0]:[o*i*K(n),o*K(e)]}}function mi(t){return function(n,e){var r=Rt(n*n+e*e),i=t(r),o=K(i),a=nt(i);return[zn(n*o,r*a),Jt(r&&e*o/r)]}}var jd=Zd(function(t){return Rt(2/(1+t))});jd.invert=mi(function(t){return 2*Jt(t/2)});function uv(){return oe(jd).scale(124.75).clipAngle(180-.001)}var Kd=Zd(function(t){return(t=Cd(t))&&t/K(t)});Kd.invert=mi(function(t){return t});function cv(){return oe(Kd).scale(79.4188).clipAngle(180-.001)}function ma(t,n){return[t,Co(rc((gt+n)/2))]}ma.invert=function(t,n){return[t,2*mr(Sd(n))-gt]};function Qd(){return Jd(ma).scale(961/Wt)}function Jd(t){var n=oe(t),e=n.center,r=n.scale,i=n.translate,o=n.clipExtent,a=null,f,u,c;n.scale=function(l){return arguments.length?(r(l),s()):r()},n.translate=function(l){return arguments.length?(i(l),s()):i()},n.center=function(l){return arguments.length?(e(l),s()):e()},n.clipExtent=function(l){return arguments.length?(l==null?a=f=u=c=null:(a=+l[0][0],f=+l[0][1],u=+l[1][0],c=+l[1][1]),s()):a==null?null:[[a,f],[u,c]]};function s(){var l=et*r(),h=n(N_(n.rotate()).invert([0,0]));return o(a==null?[[h[0]-l,h[1]-l],[h[0]+l,h[1]+l]]:t===ma?[[Math.max(h[0]-l,a),f],[Math.min(h[0]+l,u),c]]:[[a,Math.max(h[1]-l,f)],[u,Math.min(h[1]+l,c)]])}return s()}function Hi(t){return rc((gt+t)/2)}function sv(t,n){var e=nt(t),r=t===n?K(t):Co(e/nt(n))/Co(Hi(n)/Hi(t)),i=e*Va(Hi(t),r)/r;if(!r)return ma;function o(a,f){i>0?f<-gt+J&&(f=-gt+J):f>gt-J&&(f=gt-J);var u=i/Va(Hi(f),r);return[u*K(r*a),i-u*nt(r*a)]}return o.invert=function(a,f){var u=i-f,c=Zt(r)*Rt(a*a+u*u),s=zn(a,ut(u))*Zt(u);return u*r<0&&(s-=et*Zt(a)*Zt(u)),[s/r,2*mr(Va(i/c,1/r))-gt]},o}function lv(){return ac(sv).scale(109.5).parallels([30,30])}function Ro(t,n){return[t,n]}Ro.invert=Ro;function hv(){return oe(Ro).scale(152.63)}function dv(t,n){var e=nt(t),r=t===n?K(t):(e-nt(n))/(n-t),i=e/r+t;if(ut(r)<J)return Ro;function o(a,f){var u=i-f,c=r*a;return[u*K(c),i-u*nt(c)]}return o.invert=function(a,f){var u=i-f,c=zn(a,ut(u))*Zt(u);return u*r<0&&(c-=et*Zt(a)*Zt(u)),[c/r,i-Zt(r)*Rt(a*a+u*u)]},o}function pv(){return ac(dv).scale(131.154).center([0,13.9389])}var qr=1.340264,Yr=-.081106,Wr=893e-6,Hr=.003796,Oo=Rt(3)/2,mv=12;function t0(t,n){var e=Jt(Oo*K(n)),r=e*e,i=r*r*r;return[t*nt(e)/(Oo*(qr+3*Yr*r+i*(7*Wr+9*Hr*r))),e*(qr+Yr*r+i*(Wr+Hr*r))]}t0.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,o=0,a,f,u;o<mv&&(f=e*(qr+Yr*r+i*(Wr+Hr*r))-n,u=qr+3*Yr*r+i*(7*Wr+9*Hr*r),e-=a=f/u,r=e*e,i=r*r*r,!(ut(a)<Td));++o);return[Oo*t*(qr+3*Yr*r+i*(7*Wr+9*Hr*r))/nt(e),Jt(K(e)/Oo)]};function gv(){return oe(t0).scale(177.158)}function n0(t,n){var e=nt(n),r=nt(t)*e;return[e*K(t)/r,K(n)/r]}n0.invert=mi(mr);function yv(){return oe(n0).scale(144.049).clipAngle(60)}function e0(t,n){return[nt(n)*K(t),K(n)]}e0.invert=mi(Jt);function bv(){return oe(e0).scale(249.5).clipAngle(90+J)}function r0(t,n){var e=nt(n),r=1+nt(t)*e;return[e*K(t)/r,K(n)/r]}r0.invert=mi(function(t){return 2*mr(t)});function wv(){return oe(r0).scale(250).clipAngle(142)}function i0(t,n){return[Co(rc((gt+n)/2)),-t]}i0.invert=function(t,n){return[-n,2*mr(Sd(t))-gt]};function _v(){var t=Jd(i0),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function $n(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function ga(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const uu=Symbol("implicit");function fc(){var t=new ve,n=[],e=[],r=uu;function i(o){let a=t.get(o);if(a===void 0){if(r!==uu)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new ve;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return fc(n,e).unknown(r)},$n.apply(i,arguments),i}function ya(){var t=fc().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,a,f=!1,u=0,c=0,s=.5;delete t.unknown;function l(){var h=n().length,d=i<r,p=d?i:r,m=d?r:i;o=(m-p)/Math.max(1,h-u+c*2),f&&(o=Math.floor(o)),p+=(m-p-o*(h-u))*s,a=o*(1-u),f&&(p=Math.round(p),a=Math.round(a));var b=Lf(h).map(function(y){return p+o*y});return e(d?b.reverse():b)}return t.domain=function(h){return arguments.length?(n(h),l()):n()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,l()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,f=!0,l()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(f=!!h,l()):f},t.padding=function(h){return arguments.length?(u=Math.min(1,c=+h),l()):u},t.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),l()):u},t.paddingOuter=function(h){return arguments.length?(c=+h,l()):c},t.align=function(h){return arguments.length?(s=Math.max(0,Math.min(1,h)),l()):s},t.copy=function(){return ya(n(),[r,i]).round(f).paddingInner(u).paddingOuter(c).align(s)},$n.apply(l(),arguments)}function o0(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return o0(n())},t}function vv(){return o0(ya.apply(null,arguments).paddingInner(1))}function xv(t){return function(){return t}}function cu(t){return+t}var nl=[0,1];function Kt(t){return t}function su(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:xv(isNaN(n)?NaN:.5)}function Mv(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function $v(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=su(i,r),o=e(a,o)):(r=su(r,i),o=e(o,a)),function(f){return o(r(f))}}function Tv(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=su(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(f){var u=ra(t,f,1,r)-1;return o[u](i[u](f))}}function gi(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ba(){var t=nl,n=nl,e=pi,r,i,o,a=Kt,f,u,c;function s(){var h=Math.min(t.length,n.length);return a!==Kt&&(a=Mv(t[0],t[h-1])),f=h>2?Tv:$v,u=c=null,l}function l(h){return h==null||isNaN(h=+h)?o:(u||(u=f(t.map(r),n,e)))(r(a(h)))}return l.invert=function(h){return a(i((c||(c=f(n,t.map(r),Et)))(h)))},l.domain=function(h){return arguments.length?(t=Array.from(h,cu),s()):t.slice()},l.range=function(h){return arguments.length?(n=Array.from(h),s()):n.slice()},l.rangeRound=function(h){return n=Array.from(h),e=Ku,s()},l.clamp=function(h){return arguments.length?(a=h?!0:Kt,s()):a!==Kt},l.interpolate=function(h){return arguments.length?(e=h,s()):e},l.unknown=function(h){return arguments.length?(o=h,l):o},function(h,d){return r=h,i=d,s()}}function a0(){return ba()(Kt,Kt)}function Sv(t,n,e,r){var i=kf(t,n,e),o;switch(r=Jr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=E_(i,a))&&(r.precision=o),$d(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=k_(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=A_(i))&&(r.precision=o-(r.type==="%")*2);break}}return pr(r)}function yi(t){var n=t.domain;return t.ticks=function(e){var r=n();return Zr(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return Sv(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],f=r[o],u,c,s=10;for(f<a&&(c=a,a=f,f=c,c=i,i=o,o=c);s-- >0;){if(c=yo(a,f,e),c===u)return r[i]=a,r[o]=f,n(r);if(c>0)a=Math.floor(a/c)*c,f=Math.ceil(f/c)*c;else if(c<0)a=Math.ceil(a*c)/c,f=Math.floor(f*c)/c;else break;u=c}return t},t}function uc(){var t=a0();return t.copy=function(){return gi(t,uc())},$n.apply(t,arguments),yi(t)}function f0(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,cu),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return f0(t).unknown(n)},t=arguments.length?Array.from(t,cu):[0,1],yi(e)}function u0(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),t[e]=n.floor(i),t[r]=n.ceil(o),t}function el(t){return Math.log(t)}function rl(t){return Math.exp(t)}function Cv(t){return-Math.log(-t)}function Av(t){return-Math.exp(-t)}function Ev(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kv(t){return t===10?Ev:t===Math.E?Math.exp:n=>Math.pow(t,n)}function Nv(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function il(t){return(n,e)=>-t(-n,e)}function c0(t){const n=t(el,rl),e=n.domain;let r=10,i,o;function a(){return i=Nv(r),o=kv(r),e()[0]<0?(i=il(i),o=il(o),t(Cv,Av)):t(el,rl),n}return n.base=function(f){return arguments.length?(r=+f,a()):r},n.domain=function(f){return arguments.length?(e(f),a()):e()},n.ticks=f=>{const u=e();let c=u[0],s=u[u.length-1];const l=s<c;l&&([c,s]=[s,c]);let h=i(c),d=i(s),p,m;const b=f==null?10:+f;let y=[];if(!(r%1)&&d-h<b){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(p=1;p<r;++p)if(m=h<0?p/o(-h):p*o(h),!(m<c)){if(m>s)break;y.push(m)}}else for(;h<=d;++h)for(p=r-1;p>=1;--p)if(m=h>0?p/o(-h):p*o(h),!(m<c)){if(m>s)break;y.push(m)}y.length*2<b&&(y=Zr(c,s,b))}else y=Zr(h,d,Math.min(d-h,b)).map(o);return l?y.reverse():y},n.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Jr(u)).precision==null&&(u.trim=!0),u=pr(u)),f===1/0)return u;const c=Math.max(1,r*f/n.ticks().length);return s=>{let l=s/o(Math.round(i(s)));return l*r<r-.5&&(l*=r),l<=c?u(s):""}},n.nice=()=>e(u0(e(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),n}function s0(){const t=c0(ba()).domain([1,10]);return t.copy=()=>gi(t,s0()).base(t.base()),$n.apply(t,arguments),t}function ol(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function al(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function l0(t){var n=1,e=t(ol(n),al(n));return e.constant=function(r){return arguments.length?t(ol(n=+r),al(n)):n},yi(e)}function h0(){var t=l0(ba());return t.copy=function(){return gi(t,h0()).constant(t.constant())},$n.apply(t,arguments)}function fl(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Lv(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Dv(t){return t<0?-t*t:t*t}function d0(t){var n=t(Kt,Kt),e=1;function r(){return e===1?t(Kt,Kt):e===.5?t(Lv,Dv):t(fl(e),fl(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},yi(n)}function p0(){var t=d0(ba());return t.copy=function(){return gi(t,p0()).exponent(t.exponent())},$n.apply(t,arguments),t}function m0(){var t=[],n=[],e=[],r;function i(){var a=0,f=Math.max(1,n.length);for(e=new Array(f-1);++a<f;)e[a-1]=dy(t,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:n[ra(e,a)]}return o.invertExtent=function(a){var f=n.indexOf(a);return f<0?[NaN,NaN]:[f>0?e[f-1]:t[0],f<e.length?e[f]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Ft),i()},o.range=function(a){return arguments.length?(n=Array.from(a),i()):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return m0().domain(t).range(n).unknown(r)},$n.apply(o,arguments)}function g0(){var t=[.5],n=[0,1],e,r=1;function i(o){return o!=null&&o<=o?n[ra(t,o,0,r)]:e}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var a=n.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return g0().domain(t).range(n).unknown(e)},$n.apply(i,arguments)}const Ja=new Date,tf=new Date;function wt(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),n(o,1),t(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(n(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const u=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return u;let c;do u.push(c=new Date(+o)),n(o,f),t(o);while(c<o&&o<a);return u},i.filter=o=>wt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;n(a,-1),!o(a););else for(;--f>=0;)for(;n(a,1),!o(a););}),e&&(i.count=(o,a)=>(Ja.setTime(+o),tf.setTime(+a),t(Ja),t(tf),Math.floor(e(Ja,tf))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const zo=wt(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);zo.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wt(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):zo);zo.range;const In=1e3,Qt=In*60,Pn=Qt*60,Bn=Pn*24,cc=Bn*7,ul=Bn*30,nf=Bn*365,rn=wt(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*In)},(t,n)=>(n-t)/In,t=>t.getUTCSeconds());rn.range;const bi=wt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*In)},(t,n)=>{t.setTime(+t+n*Qt)},(t,n)=>(n-t)/Qt,t=>t.getMinutes());bi.range;const wi=wt(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Qt)},(t,n)=>(n-t)/Qt,t=>t.getUTCMinutes());wi.range;const _i=wt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*In-t.getMinutes()*Qt)},(t,n)=>{t.setTime(+t+n*Pn)},(t,n)=>(n-t)/Pn,t=>t.getHours());_i.range;const vi=wt(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*Pn)},(t,n)=>(n-t)/Pn,t=>t.getUTCHours());vi.range;const Ee=wt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Qt)/Bn,t=>t.getDate()-1);Ee.range;const wa=wt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Bn,t=>t.getUTCDate()-1);wa.range;const _a=wt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Bn,t=>Math.floor(t/Bn));_a.range;function ke(t){return wt(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Qt)/cc)}const fr=ke(0),ei=ke(1),y0=ke(2),b0=ke(3),Ce=ke(4),w0=ke(5),_0=ke(6);fr.range;ei.range;y0.range;b0.range;Ce.range;w0.range;_0.range;function Ne(t){return wt(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/cc)}const ur=Ne(0),ri=Ne(1),v0=Ne(2),x0=Ne(3),Ae=Ne(4),M0=Ne(5),$0=Ne(6);ur.range;ri.range;v0.range;x0.range;Ae.range;M0.range;$0.range;const xi=wt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());xi.range;const Mi=wt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Mi.range;const fn=wt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());fn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wt(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});fn.range;const un=wt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());un.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wt(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});un.range;function T0(t,n,e,r,i,o){const a=[[rn,1,In],[rn,5,5*In],[rn,15,15*In],[rn,30,30*In],[o,1,Qt],[o,5,5*Qt],[o,15,15*Qt],[o,30,30*Qt],[i,1,Pn],[i,3,3*Pn],[i,6,6*Pn],[i,12,12*Pn],[r,1,Bn],[r,2,2*Bn],[e,1,cc],[n,1,ul],[n,3,3*ul],[t,1,nf]];function f(c,s,l){const h=s<c;h&&([c,s]=[s,c]);const d=l&&typeof l.range=="function"?l:u(c,s,l),p=d?d.range(c,+s+1):[];return h?p.reverse():p}function u(c,s,l){const h=Math.abs(s-c)/l,d=ea(([,,b])=>b).right(a,h);if(d===a.length)return t.every(kf(c/nf,s/nf,l));if(d===0)return zo.every(Math.max(kf(c,s,l),1));const[p,m]=a[h/a[d-1][2]<a[d][2]/h?d-1:d];return p.every(m)}return[f,u]}const[Iv,S0]=T0(un,Mi,ur,_a,vi,wi),[Pv,Fv]=T0(fn,xi,fr,Ee,_i,bi);function ef(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function rf(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Mr(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function Rv(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,f=t.months,u=t.shortMonths,c=$r(i),s=Tr(i),l=$r(o),h=Tr(o),d=$r(a),p=Tr(a),m=$r(f),b=Tr(f),y=$r(u),g=Tr(u),v={a:I,A:F,b:E,B:P,c:null,d:pl,e:pl,f:a6,g:g6,G:b6,H:r6,I:i6,j:o6,L:C0,m:f6,M:u6,p:B,q:z,Q:yl,s:bl,S:c6,u:s6,U:l6,V:h6,w:d6,W:p6,x:null,X:null,y:m6,Y:y6,Z:w6,"%":gl},w={a:q,A:G,b:X,B:Z,c:null,d:ml,e:ml,f:M6,g:D6,G:P6,H:_6,I:v6,j:x6,L:E0,m:$6,M:T6,p:U,q:H,Q:yl,s:bl,S:S6,u:C6,U:A6,V:E6,w:k6,W:N6,x:null,X:null,y:L6,Y:I6,Z:F6,"%":gl},_={a:N,A:C,b:R,B:O,c:x,d:hl,e:hl,f:Jv,g:ll,G:sl,H:dl,I:dl,j:Zv,L:Qv,m:Vv,M:jv,p:k,q:Xv,Q:n6,s:e6,S:Kv,u:qv,U:Yv,V:Wv,w:Uv,W:Hv,x:$,X:S,y:ll,Y:sl,Z:Gv,"%":t6};v.x=M(e,v),v.X=M(r,v),v.c=M(n,v),w.x=M(e,w),w.X=M(r,w),w.c=M(n,w);function M(D,W){return function(Y){var L=[],rt=-1,V=0,ot=D.length,at,ht,dn;for(Y instanceof Date||(Y=new Date(+Y));++rt<ot;)D.charCodeAt(rt)===37&&(L.push(D.slice(V,rt)),(ht=cl[at=D.charAt(++rt)])!=null?at=D.charAt(++rt):ht=at==="e"?" ":"0",(dn=W[at])&&(at=dn(Y,ht)),L.push(at),V=rt+1);return L.push(D.slice(V,rt)),L.join("")}}function T(D,W){return function(Y){var L=Mr(1900,void 0,1),rt=A(L,D,Y+="",0),V,ot;if(rt!=Y.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(W&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(V=rf(Mr(L.y,0,1)),ot=V.getUTCDay(),V=ot>4||ot===0?ri.ceil(V):ri(V),V=wa.offset(V,(L.V-1)*7),L.y=V.getUTCFullYear(),L.m=V.getUTCMonth(),L.d=V.getUTCDate()+(L.w+6)%7):(V=ef(Mr(L.y,0,1)),ot=V.getDay(),V=ot>4||ot===0?ei.ceil(V):ei(V),V=Ee.offset(V,(L.V-1)*7),L.y=V.getFullYear(),L.m=V.getMonth(),L.d=V.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),ot="Z"in L?rf(Mr(L.y,0,1)).getUTCDay():ef(Mr(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(ot+5)%7:L.w+L.U*7-(ot+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,rf(L)):ef(L)}}function A(D,W,Y,L){for(var rt=0,V=W.length,ot=Y.length,at,ht;rt<V;){if(L>=ot)return-1;if(at=W.charCodeAt(rt++),at===37){if(at=W.charAt(rt++),ht=_[at in cl?W.charAt(rt++):at],!ht||(L=ht(D,Y,L))<0)return-1}else if(at!=Y.charCodeAt(L++))return-1}return L}function k(D,W,Y){var L=c.exec(W.slice(Y));return L?(D.p=s.get(L[0].toLowerCase()),Y+L[0].length):-1}function N(D,W,Y){var L=d.exec(W.slice(Y));return L?(D.w=p.get(L[0].toLowerCase()),Y+L[0].length):-1}function C(D,W,Y){var L=l.exec(W.slice(Y));return L?(D.w=h.get(L[0].toLowerCase()),Y+L[0].length):-1}function R(D,W,Y){var L=y.exec(W.slice(Y));return L?(D.m=g.get(L[0].toLowerCase()),Y+L[0].length):-1}function O(D,W,Y){var L=m.exec(W.slice(Y));return L?(D.m=b.get(L[0].toLowerCase()),Y+L[0].length):-1}function x(D,W,Y){return A(D,n,W,Y)}function $(D,W,Y){return A(D,e,W,Y)}function S(D,W,Y){return A(D,r,W,Y)}function I(D){return a[D.getDay()]}function F(D){return o[D.getDay()]}function E(D){return u[D.getMonth()]}function P(D){return f[D.getMonth()]}function B(D){return i[+(D.getHours()>=12)]}function z(D){return 1+~~(D.getMonth()/3)}function q(D){return a[D.getUTCDay()]}function G(D){return o[D.getUTCDay()]}function X(D){return u[D.getUTCMonth()]}function Z(D){return f[D.getUTCMonth()]}function U(D){return i[+(D.getUTCHours()>=12)]}function H(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var W=M(D+="",v);return W.toString=function(){return D},W},parse:function(D){var W=T(D+="",!1);return W.toString=function(){return D},W},utcFormat:function(D){var W=M(D+="",w);return W.toString=function(){return D},W},utcParse:function(D){var W=T(D+="",!0);return W.toString=function(){return D},W}}}var cl={"-":"",_:" ",0:"0"},$t=/^\s*\d+/,Ov=/^%/,zv=/[\\^$*+?|[\]().{}]/g;function ft(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Bv(t){return t.replace(zv,"\\$&")}function $r(t){return new RegExp("^(?:"+t.map(Bv).join("|")+")","i")}function Tr(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function Uv(t,n,e){var r=$t.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function qv(t,n,e){var r=$t.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Yv(t,n,e){var r=$t.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Wv(t,n,e){var r=$t.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Hv(t,n,e){var r=$t.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function sl(t,n,e){var r=$t.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function ll(t,n,e){var r=$t.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Gv(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Xv(t,n,e){var r=$t.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function Vv(t,n,e){var r=$t.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function hl(t,n,e){var r=$t.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Zv(t,n,e){var r=$t.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function dl(t,n,e){var r=$t.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function jv(t,n,e){var r=$t.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Kv(t,n,e){var r=$t.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Qv(t,n,e){var r=$t.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Jv(t,n,e){var r=$t.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function t6(t,n,e){var r=Ov.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function n6(t,n,e){var r=$t.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function e6(t,n,e){var r=$t.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function pl(t,n){return ft(t.getDate(),n,2)}function r6(t,n){return ft(t.getHours(),n,2)}function i6(t,n){return ft(t.getHours()%12||12,n,2)}function o6(t,n){return ft(1+Ee.count(fn(t),t),n,3)}function C0(t,n){return ft(t.getMilliseconds(),n,3)}function a6(t,n){return C0(t,n)+"000"}function f6(t,n){return ft(t.getMonth()+1,n,2)}function u6(t,n){return ft(t.getMinutes(),n,2)}function c6(t,n){return ft(t.getSeconds(),n,2)}function s6(t){var n=t.getDay();return n===0?7:n}function l6(t,n){return ft(fr.count(fn(t)-1,t),n,2)}function A0(t){var n=t.getDay();return n>=4||n===0?Ce(t):Ce.ceil(t)}function h6(t,n){return t=A0(t),ft(Ce.count(fn(t),t)+(fn(t).getDay()===4),n,2)}function d6(t){return t.getDay()}function p6(t,n){return ft(ei.count(fn(t)-1,t),n,2)}function m6(t,n){return ft(t.getFullYear()%100,n,2)}function g6(t,n){return t=A0(t),ft(t.getFullYear()%100,n,2)}function y6(t,n){return ft(t.getFullYear()%1e4,n,4)}function b6(t,n){var e=t.getDay();return t=e>=4||e===0?Ce(t):Ce.ceil(t),ft(t.getFullYear()%1e4,n,4)}function w6(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+ft(n/60|0,"0",2)+ft(n%60,"0",2)}function ml(t,n){return ft(t.getUTCDate(),n,2)}function _6(t,n){return ft(t.getUTCHours(),n,2)}function v6(t,n){return ft(t.getUTCHours()%12||12,n,2)}function x6(t,n){return ft(1+wa.count(un(t),t),n,3)}function E0(t,n){return ft(t.getUTCMilliseconds(),n,3)}function M6(t,n){return E0(t,n)+"000"}function $6(t,n){return ft(t.getUTCMonth()+1,n,2)}function T6(t,n){return ft(t.getUTCMinutes(),n,2)}function S6(t,n){return ft(t.getUTCSeconds(),n,2)}function C6(t){var n=t.getUTCDay();return n===0?7:n}function A6(t,n){return ft(ur.count(un(t)-1,t),n,2)}function k0(t){var n=t.getUTCDay();return n>=4||n===0?Ae(t):Ae.ceil(t)}function E6(t,n){return t=k0(t),ft(Ae.count(un(t),t)+(un(t).getUTCDay()===4),n,2)}function k6(t){return t.getUTCDay()}function N6(t,n){return ft(ri.count(un(t)-1,t),n,2)}function L6(t,n){return ft(t.getUTCFullYear()%100,n,2)}function D6(t,n){return t=k0(t),ft(t.getUTCFullYear()%100,n,2)}function I6(t,n){return ft(t.getUTCFullYear()%1e4,n,4)}function P6(t,n){var e=t.getUTCDay();return t=e>=4||e===0?Ae(t):Ae.ceil(t),ft(t.getUTCFullYear()%1e4,n,4)}function F6(){return"+0000"}function gl(){return"%"}function yl(t){return+t}function bl(t){return Math.floor(+t/1e3)}var ze,sc,$i;R6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function R6(t){return ze=Rv(t),sc=ze.format,ze.parse,$i=ze.utcFormat,ze.utcParse,ze}function O6(t){return new Date(t)}function z6(t){return t instanceof Date?+t:+new Date(+t)}function lc(t,n,e,r,i,o,a,f,u,c){var s=a0(),l=s.invert,h=s.domain,d=c(".%L"),p=c(":%S"),m=c("%I:%M"),b=c("%I %p"),y=c("%a %d"),g=c("%b %d"),v=c("%B"),w=c("%Y");function _(M){return(u(M)<M?d:f(M)<M?p:a(M)<M?m:o(M)<M?b:r(M)<M?i(M)<M?y:g:e(M)<M?v:w)(M)}return s.invert=function(M){return new Date(l(M))},s.domain=function(M){return arguments.length?h(Array.from(M,z6)):h().map(O6)},s.ticks=function(M){var T=h();return t(T[0],T[T.length-1],M??10)},s.tickFormat=function(M,T){return T==null?_:c(T)},s.nice=function(M){var T=h();return(!M||typeof M.range!="function")&&(M=n(T[0],T[T.length-1],M??10)),M?h(u0(T,M)):s},s.copy=function(){return gi(s,lc(t,n,e,r,i,o,a,f,u,c))},s}function B6(){return $n.apply(lc(Pv,Fv,fn,xi,fr,Ee,_i,bi,rn,sc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function U6(){return $n.apply(lc(Iv,S0,un,Mi,ur,wa,vi,wi,rn,$i).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function va(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xa(){var t=0,n=.5,e=1,r=1,i,o,a,f,u,c=Kt,s,l=!1,h;function d(m){return isNaN(m=+m)?h:(m=.5+((m=+s(m))-o)*(r*m<r*o?f:u),c(l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,n,e]=m,i=s(t=+t),o=s(n=+n),a=s(e=+e),f=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,n,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(c=m,d):c};function p(m){return function(b){var y,g,v;return arguments.length?([y,g,v]=b,c=sa(m,[y,g,v]),d):[c(0),c(.5),c(1)]}}return d.range=p(pi),d.rangeRound=p(Ku),d.unknown=function(m){return arguments.length?(h=m,d):h},function(m){return s=m,i=m(t),o=m(n),a=m(e),f=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function hc(){var t=yi(xa()(Kt));return t.copy=function(){return va(t,hc())},ga.apply(t,arguments)}function N0(){var t=c0(xa()).domain([.1,1,10]);return t.copy=function(){return va(t,N0()).base(t.base())},ga.apply(t,arguments)}function L0(){var t=l0(xa());return t.copy=function(){return va(t,L0()).constant(t.constant())},ga.apply(t,arguments)}function D0(){var t=d0(xa());return t.copy=function(){return va(t,D0()).exponent(t.exponent())},ga.apply(t,arguments)}function Q(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const q6=Q("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Y6=Q("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),W6=Q("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),H6=Q("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),G6=Q("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),X6=Q("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),V6=Q("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Z6=Q("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),j6=Q("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),K6=Q("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Q6=Q("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),lt=t=>E2(t[t.length-1]);var I0=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Q);const dc=lt(I0);var P0=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Q);const F0=lt(P0);var R0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Q);const O0=lt(R0);var z0=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Q);const B0=lt(z0);var lu=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Q);const Bo=lt(lu);var U0=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Q);const q0=lt(U0);var hu=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Q);const Uo=lt(hu);var Y0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Q);const W0=lt(Y0);var H0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Q);const G0=lt(H0);var X0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Q);const V0=lt(X0);var Z0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Q);const j0=lt(Z0);var K0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Q);const Q0=lt(K0);var J0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Q);const t1=lt(J0);var n1=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Q);const e1=lt(n1);var r1=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Q);const i1=lt(r1);var o1=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Q);const a1=lt(o1);var f1=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Q);const u1=lt(f1);var c1=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Q);const s1=lt(c1);var l1=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Q);const h1=lt(l1);var d1=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Q);const p1=lt(d1);var m1=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Q);const g1=lt(m1);var y1=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Q);const b1=lt(y1);var w1=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Q);const _1=lt(w1);var v1=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Q);const x1=lt(v1);var M1=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Q);const $1=lt(M1);var T1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Q);const S1=lt(T1);var C1=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Q);const A1=lt(C1);function E1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const k1=Qu(vn(300,.5,0),vn(-240,.5,1));var N1=Qu(vn(-100,.75,.35),vn(80,1.5,.8)),L1=Qu(vn(260,.75,.35),vn(80,1.5,.8)),Gi=vn();function D1(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Gi.h=360*t-100,Gi.s=1.5-1.5*n,Gi.l=.8-.9*n,Gi+""}var Xi=te(),J6=Math.PI/3,t3=Math.PI*2/3;function I1(t){var n;return t=(.5-t)*Math.PI,Xi.r=255*(n=Math.sin(t))*n,Xi.g=255*(n=Math.sin(t+J6))*n,Xi.b=255*(n=Math.sin(t+t3))*n,Xi+""}function P1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Ma(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const F1=Ma(Q("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var R1=Ma(Q("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),O1=Ma(Q("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),z1=Ma(Q("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function xt(t){return function(){return t}}const B1=Math.cos,pc=Math.min,qo=Math.sin,_t=Math.sqrt,wl=1e-12,Yo=Math.PI,$a=2*Yo;function U1(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new vd(n)}function q1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Y1(t){this._context=t}Y1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function Ti(t){return new Y1(t)}function W1(t){return t[0]}function H1(t){return t[1]}function n3(t,n){var e=xt(!0),r=null,i=Ti,o=null,a=U1(f);t=typeof t=="function"?t:t===void 0?W1:xt(t),n=typeof n=="function"?n:n===void 0?H1:xt(n);function f(u){var c,s=(u=q1(u)).length,l,h=!1,d;for(r==null&&(o=i(d=a())),c=0;c<=s;++c)!(c<s&&e(l=u[c],c,u))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,c,u),+n(l,c,u));if(d)return o=null,d+""||null}return f.x=function(u){return arguments.length?(t=typeof u=="function"?u:xt(+u),f):t},f.y=function(u){return arguments.length?(n=typeof u=="function"?u:xt(+u),f):n},f.defined=function(u){return arguments.length?(e=typeof u=="function"?u:xt(!!u),f):e},f.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),f):i},f.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),f):r},f}function e3(t,n,e){var r=null,i=xt(!0),o=null,a=Ti,f=null,u=U1(c);t=typeof t=="function"?t:t===void 0?W1:xt(+t),n=typeof n=="function"?n:xt(n===void 0?0:+n),e=typeof e=="function"?e:e===void 0?H1:xt(+e);function c(l){var h,d,p,m=(l=q1(l)).length,b,y=!1,g,v=new Array(m),w=new Array(m);for(o==null&&(f=a(g=u())),h=0;h<=m;++h){if(!(h<m&&i(b=l[h],h,l))===y)if(y=!y)d=h,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),p=h-1;p>=d;--p)f.point(v[p],w[p]);f.lineEnd(),f.areaEnd()}y&&(v[h]=+t(b,h,l),w[h]=+n(b,h,l),f.point(r?+r(b,h,l):v[h],e?+e(b,h,l):w[h]))}if(g)return f=null,g+""||null}function s(){return n3().defined(i).curve(a).context(o)}return c.x=function(l){return arguments.length?(t=typeof l=="function"?l:xt(+l),r=null,c):t},c.x0=function(l){return arguments.length?(t=typeof l=="function"?l:xt(+l),c):t},c.x1=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:xt(+l),c):r},c.y=function(l){return arguments.length?(n=typeof l=="function"?l:xt(+l),e=null,c):n},c.y0=function(l){return arguments.length?(n=typeof l=="function"?l:xt(+l),c):n},c.y1=function(l){return arguments.length?(e=l==null?null:typeof l=="function"?l:xt(+l),c):e},c.lineX0=c.lineY0=function(){return s().x(t).y(n)},c.lineY1=function(){return s().x(t).y(e)},c.lineX1=function(){return s().x(r).y(n)},c.defined=function(l){return arguments.length?(i=typeof l=="function"?l:xt(!!l),c):i},c.curve=function(l){return arguments.length?(a=l,o!=null&&(f=a(o)),c):a},c.context=function(l){return arguments.length?(l==null?o=f=null:f=a(o=l),c):o},c}class G1{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function r3(t){return new G1(t,!0)}function i3(t){return new G1(t,!1)}const o3=_t(3),X1={draw(t,n){const e=_t(n+pc(n/28,.75))*.59436,r=e/2,i=r*o3;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},mc={draw(t,n){const e=_t(n/Yo);t.moveTo(e,0),t.arc(0,0,e,0,$a)}},V1={draw(t,n){const e=_t(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},Z1=_t(1/3),a3=Z1*2,j1={draw(t,n){const e=_t(n/a3),r=e*Z1;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},K1={draw(t,n){const e=_t(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},Q1={draw(t,n){const e=_t(n-pc(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},J1={draw(t,n){const e=_t(n),r=-e/2;t.rect(r,r,e,e)}},tp={draw(t,n){const e=_t(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},f3=.8908130915292852,np=qo(Yo/10)/qo(7*Yo/10),u3=qo($a/10)*np,c3=-B1($a/10)*np,ep={draw(t,n){const e=_t(n*f3),r=u3*e,i=c3*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const a=$a*o/5,f=B1(a),u=qo(a);t.lineTo(u*e,-f*e),t.lineTo(f*r-u*i,u*r+f*i)}t.closePath()}},of=_t(3),rp={draw(t,n){const e=-_t(n/(of*3));t.moveTo(0,e*2),t.lineTo(-of*e,-e),t.lineTo(of*e,-e),t.closePath()}},s3=_t(3),ip={draw(t,n){const e=_t(n)*.6824,r=e/2,i=e*s3/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Gt=-.5,Xt=_t(3)/2,du=1/_t(12),l3=(du/2+1)*3,op={draw(t,n){const e=_t(n/l3),r=e/2,i=e*du,o=r,a=e*du+e,f=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(f,u),t.lineTo(Gt*r-Xt*i,Xt*r+Gt*i),t.lineTo(Gt*o-Xt*a,Xt*o+Gt*a),t.lineTo(Gt*f-Xt*u,Xt*f+Gt*u),t.lineTo(Gt*r+Xt*i,Gt*i-Xt*r),t.lineTo(Gt*o+Xt*a,Gt*a-Xt*o),t.lineTo(Gt*f+Xt*u,Gt*u-Xt*f),t.closePath()}},ap={draw(t,n){const e=_t(n-pc(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},h3=[mc,V1,j1,J1,ep,rp,op],d3=[mc,Q1,ap,ip,X1,tp,K1];function ne(){}function Wo(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Ta(t){this._context=t}Ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wo(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function p3(t){return new Ta(t)}function fp(t){this._context=t}fp.prototype={areaStart:ne,areaEnd:ne,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Wo(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function m3(t){return new fp(t)}function up(t){this._context=t}up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Wo(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function g3(t){return new up(t)}function cp(t,n){this._basis=new Ta(t),this._beta=n}cp.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r=t[0],i=n[0],o=t[e]-r,a=n[e]-i,f=-1,u;++f<=e;)u=f/e,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+u*o),this._beta*n[f]+(1-this._beta)*(i+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const y3=function t(n){function e(r){return n===1?new Ta(r):new cp(r,n)}return e.beta=function(r){return t(+r)},e}(.85);function Ho(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function gc(t,n){this._context=t,this._k=(1-n)/6}gc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ho(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Ho(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const b3=function t(n){function e(r){return new gc(r,n)}return e.tension=function(r){return t(+r)},e}(0);function yc(t,n){this._context=t,this._k=(1-n)/6}yc.prototype={areaStart:ne,areaEnd:ne,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Ho(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const w3=function t(n){function e(r){return new yc(r,n)}return e.tension=function(r){return t(+r)},e}(0);function bc(t,n){this._context=t,this._k=(1-n)/6}bc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ho(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const _3=function t(n){function e(r){return new bc(r,n)}return e.tension=function(r){return t(+r)},e}(0);function wc(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>wl){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>wl){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/s,a=(a*c+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function sp(t,n){this._context=t,this._alpha=n}sp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:wc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const v3=function t(n){function e(r){return n?new sp(r,n):new gc(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function lp(t,n){this._context=t,this._alpha=n}lp.prototype={areaStart:ne,areaEnd:ne,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:wc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const x3=function t(n){function e(r){return n?new lp(r,n):new yc(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function hp(t,n){this._context=t,this._alpha=n}hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const M3=function t(n){function e(r){return n?new hp(r,n):new bc(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function dp(t){this._context=t}dp.prototype={areaStart:ne,areaEnd:ne,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function $3(t){return new dp(t)}function _l(t){return t<0?-1:1}function vl(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),f=(o*i+a*r)/(r+i);return(_l(o)+_l(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(f))||0}function xl(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function af(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,f=(o-r)/3;t._context.bezierCurveTo(r+f,i+f*n,o-f,a-f*e,o,a)}function Go(t){this._context=t}Go.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:af(this,this._t0,xl(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,af(this,xl(this,e=vl(this,t,n)),e);break;default:af(this,this._t0,e=vl(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function pp(t){this._context=new mp(t)}(pp.prototype=Object.create(Go.prototype)).point=function(t,n){Go.prototype.point.call(this,n,t)};function mp(t){this._context=t}mp.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function T3(t){return new Go(t)}function S3(t){return new pp(t)}function gp(t){this._context=t}gp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),e===2)this._context.lineTo(t[1],n[1]);else for(var r=Ml(t),i=Ml(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function Ml(t){var n,e=t.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<e-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)r=i[n]/o[n-1],o[n]-=r,a[n]-=r*a[n-1];for(i[e-1]=a[e-1]/o[e-1],n=e-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[e-1]=(t[e]+i[e-1])/2,n=0;n<e-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function C3(t){return new gp(t)}function Sa(t,n){this._context=t,this._t=n}Sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function A3(t){return new Sa(t,.5)}function E3(t){return new Sa(t,0)}function k3(t){return new Sa(t,1)}const Vi=t=>()=>t;function N3(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Fn(t,n,e){this.k=t,this.x=n,this.y=e}Fn.prototype={constructor:Fn,scale:function(t){return t===1?this:new Fn(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Fn(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var _c=new Fn(1,0,0);Fn.prototype;function ff(t){t.stopImmediatePropagation()}function Sr(t){t.preventDefault(),t.stopImmediatePropagation()}function L3(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function D3(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function $l(){return this.__zoom||_c}function I3(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function P3(){return navigator.maxTouchPoints||"ontouchstart"in this}function F3(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function R3(){var t=L3,n=D3,e=F3,r=I3,i=P3,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],f=250,u=W2,c=Wu("start","zoom","end"),s,l,h,d=500,p=150,m=0,b=10;function y(x){x.property("__zoom",$l).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",C).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(x,$,S,I){var F=x.selection?x.selection():x;F.property("__zoom",$l),x!==F?_(x,$,S,I):F.interrupt().each(function(){M(this,arguments).event(I).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},y.scaleBy=function(x,$,S,I){y.scaleTo(x,function(){var F=this.__zoom.k,E=typeof $=="function"?$.apply(this,arguments):$;return F*E},S,I)},y.scaleTo=function(x,$,S,I){y.transform(x,function(){var F=n.apply(this,arguments),E=this.__zoom,P=S==null?w(F):typeof S=="function"?S.apply(this,arguments):S,B=E.invert(P),z=typeof $=="function"?$.apply(this,arguments):$;return e(v(g(E,z),P,B),F,a)},S,I)},y.translateBy=function(x,$,S,I){y.transform(x,function(){return e(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof S=="function"?S.apply(this,arguments):S),n.apply(this,arguments),a)},null,I)},y.translateTo=function(x,$,S,I,F){y.transform(x,function(){var E=n.apply(this,arguments),P=this.__zoom,B=I==null?w(E):typeof I=="function"?I.apply(this,arguments):I;return e(_c.translate(B[0],B[1]).scale(P.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof S=="function"?-S.apply(this,arguments):-S),E,a)},I,F)};function g(x,$){return $=Math.max(o[0],Math.min(o[1],$)),$===x.k?x:new Fn($,x.x,x.y)}function v(x,$,S){var I=$[0]-S[0]*x.k,F=$[1]-S[1]*x.k;return I===x.x&&F===x.y?x:new Fn(x.k,I,F)}function w(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function _(x,$,S,I){x.on("start.zoom",function(){M(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(I).end()}).tween("zoom",function(){var F=this,E=arguments,P=M(F,E).event(I),B=n.apply(F,E),z=S==null?w(B):typeof S=="function"?S.apply(F,E):S,q=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),G=F.__zoom,X=typeof $=="function"?$.apply(F,E):$,Z=u(G.invert(z).concat(q/G.k),X.invert(z).concat(q/X.k));return function(U){if(U===1)U=X;else{var H=Z(U),D=q/H[2];U=new Fn(D,z[0]-H[0]*D,z[1]-H[1]*D)}P.zoom(null,U)}})}function M(x,$,S){return!S&&x.__zooming||new T(x,$)}function T(x,$){this.that=x,this.args=$,this.active=0,this.sourceEvent=null,this.extent=n.apply(x,$),this.taps=0}T.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,$){return this.mouse&&x!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var $=zt(this.that).datum();c.call(x,this.that,new N3(x,{sourceEvent:this.sourceEvent,target:y,type:x,transform:this.that.__zoom,dispatch:c}),$)}};function A(x,...$){if(!t.apply(this,arguments))return;var S=M(this,$).event(x),I=this.__zoom,F=Math.max(o[0],Math.min(o[1],I.k*Math.pow(2,r.apply(this,arguments)))),E=Gn(x);if(S.wheel)(S.mouse[0][0]!==E[0]||S.mouse[0][1]!==E[1])&&(S.mouse[1]=I.invert(S.mouse[0]=E)),clearTimeout(S.wheel);else{if(I.k===F)return;S.mouse=[E,I.invert(E)],uo(this),S.start()}Sr(x),S.wheel=setTimeout(P,p),S.zoom("mouse",e(v(g(I,F),S.mouse[0],S.mouse[1]),S.extent,a));function P(){S.wheel=null,S.end()}}function k(x,...$){if(h||!t.apply(this,arguments))return;var S=x.currentTarget,I=M(this,$,!0).event(x),F=zt(x.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",q,!0),E=Gn(x,S),P=x.clientX,B=x.clientY;c2(x.view),ff(x),I.mouse=[E,this.__zoom.invert(E)],uo(this),I.start();function z(G){if(Sr(G),!I.moved){var X=G.clientX-P,Z=G.clientY-B;I.moved=X*X+Z*Z>m}I.event(G).zoom("mouse",e(v(I.that.__zoom,I.mouse[0]=Gn(G,S),I.mouse[1]),I.extent,a))}function q(G){F.on("mousemove.zoom mouseup.zoom",null),s2(G.view,I.moved),Sr(G),I.event(G).end()}}function N(x,...$){if(t.apply(this,arguments)){var S=this.__zoom,I=Gn(x.changedTouches?x.changedTouches[0]:x,this),F=S.invert(I),E=S.k*(x.shiftKey?.5:2),P=e(v(g(S,E),I,F),n.apply(this,$),a);Sr(x),f>0?zt(this).transition().duration(f).call(_,P,I,x):zt(this).call(y.transform,P,I,x)}}function C(x,...$){if(t.apply(this,arguments)){var S=x.touches,I=S.length,F=M(this,$,x.changedTouches.length===I).event(x),E,P,B,z;for(ff(x),P=0;P<I;++P)B=S[P],z=Gn(B,this),z=[z,this.__zoom.invert(z),B.identifier],F.touch0?!F.touch1&&F.touch0[2]!==z[2]&&(F.touch1=z,F.taps=0):(F.touch0=z,E=!0,F.taps=1+!!s);s&&(s=clearTimeout(s)),E&&(F.taps<2&&(l=z[0],s=setTimeout(function(){s=null},d)),uo(this),F.start())}}function R(x,...$){if(this.__zooming){var S=M(this,$).event(x),I=x.changedTouches,F=I.length,E,P,B,z;for(Sr(x),E=0;E<F;++E)P=I[E],B=Gn(P,this),S.touch0&&S.touch0[2]===P.identifier?S.touch0[0]=B:S.touch1&&S.touch1[2]===P.identifier&&(S.touch1[0]=B);if(P=S.that.__zoom,S.touch1){var q=S.touch0[0],G=S.touch0[1],X=S.touch1[0],Z=S.touch1[1],U=(U=X[0]-q[0])*U+(U=X[1]-q[1])*U,H=(H=Z[0]-G[0])*H+(H=Z[1]-G[1])*H;P=g(P,Math.sqrt(U/H)),B=[(q[0]+X[0])/2,(q[1]+X[1])/2],z=[(G[0]+Z[0])/2,(G[1]+Z[1])/2]}else if(S.touch0)B=S.touch0[0],z=S.touch0[1];else return;S.zoom("touch",e(v(P,B,z),S.extent,a))}}function O(x,...$){if(this.__zooming){var S=M(this,$).event(x),I=x.changedTouches,F=I.length,E,P;for(ff(x),h&&clearTimeout(h),h=setTimeout(function(){h=null},d),E=0;E<F;++E)P=I[E],S.touch0&&S.touch0[2]===P.identifier?delete S.touch0:S.touch1&&S.touch1[2]===P.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(P=Gn(P,this),Math.hypot(l[0]-P[0],l[1]-P[1])<b)){var B=zt(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return y.wheelDelta=function(x){return arguments.length?(r=typeof x=="function"?x:Vi(+x),y):r},y.filter=function(x){return arguments.length?(t=typeof x=="function"?x:Vi(!!x),y):t},y.touchable=function(x){return arguments.length?(i=typeof x=="function"?x:Vi(!!x),y):i},y.extent=function(x){return arguments.length?(n=typeof x=="function"?x:Vi([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),y):n},y.scaleExtent=function(x){return arguments.length?(o[0]=+x[0],o[1]=+x[1],y):[o[0],o[1]]},y.translateExtent=function(x){return arguments.length?(a[0][0]=+x[0][0],a[1][0]=+x[1][0],a[0][1]=+x[0][1],a[1][1]=+x[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(x){return arguments.length?(e=x,y):e},y.duration=function(x){return arguments.length?(f=+x,y):f},y.interpolate=function(x){return arguments.length?(u=x,y):u},y.on=function(){var x=c.on.apply(c,arguments);return x===c?y:x},y.clickDistance=function(x){return arguments.length?(m=(x=+x)*x,y):Math.sqrt(m)},y.tapDistance=function(x){return arguments.length?(b=+x,y):b},y}function O3(t){var n=1/0,e=1/0,r=-1/0,i=-1/0;function o(l){l!=null&&a.hasOwnProperty(l.type)&&a[l.type](l)}var a={GeometryCollection:function(l){l.geometries.forEach(o)},Point:function(l){f(l.coordinates)},MultiPoint:function(l){l.coordinates.forEach(f)},LineString:function(l){u(l.arcs)},MultiLineString:function(l){l.arcs.forEach(u)},Polygon:function(l){l.arcs.forEach(u)},MultiPolygon:function(l){l.arcs.forEach(c)}};function f(l){var h=l[0],d=l[1];h<n&&(n=h),h>r&&(r=h),d<e&&(e=d),d>i&&(i=d)}function u(l){l.forEach(f)}function c(l){l.forEach(u)}for(var s in t)o(t[s]);return r>=n&&i>=e?[n,e,r,i]:void 0}function z3(t,n,e,r,i){arguments.length===3&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=t-1,f=0;f<t;++f)o[f]=i;function u(l){for(var h=n(l)&a,d=o[h],p=0;d!=i;){if(e(d,l))return!0;if(++p>=t)throw new Error("full hashset");d=o[h=h+1&a]}return o[h]=l,!0}function c(l){for(var h=n(l)&a,d=o[h],p=0;d!=i;){if(e(d,l))return!0;if(++p>=t)break;d=o[h=h+1&a]}return!1}function s(){for(var l=[],h=0,d=o.length;h<d;++h){var p=o[h];p!=i&&l.push(p)}return l}return{add:u,has:c,values:s}}function vc(t,n,e,r,i,o){arguments.length===3&&(r=o=Array,i=null);for(var a=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),f=new o(t),u=t-1,c=0;c<t;++c)a[c]=i;function s(p,m){for(var b=n(p)&u,y=a[b],g=0;y!=i;){if(e(y,p))return f[b]=m;if(++g>=t)throw new Error("full hashmap");y=a[b=b+1&u]}return a[b]=p,f[b]=m,m}function l(p,m){for(var b=n(p)&u,y=a[b],g=0;y!=i;){if(e(y,p))return f[b];if(++g>=t)throw new Error("full hashmap");y=a[b=b+1&u]}return a[b]=p,f[b]=m,m}function h(p,m){for(var b=n(p)&u,y=a[b],g=0;y!=i;){if(e(y,p))return f[b];if(++g>=t)break;y=a[b=b+1&u]}return m}function d(){for(var p=[],m=0,b=a.length;m<b;++m){var y=a[m];y!=i&&p.push(y)}return p}return{set:s,maybeSet:l,get:h,keys:d}}function pe(t,n){return t[0]===n[0]&&t[1]===n[1]}var yp=new ArrayBuffer(16),Tl=new Float64Array(yp),Zi=new Uint32Array(yp);function pu(t){Tl[0]=t[0],Tl[1]=t[1];var n=Zi[0]^Zi[1];return n=n<<5^n>>7^Zi[2]^Zi[3],n&2147483647}function B3(t){var n=t.coordinates,e=t.lines,r=t.rings,i=M(),o=new Int32Array(n.length),a=new Int32Array(n.length),f=new Int32Array(n.length),u=new Int8Array(n.length),c=0,s,l,h,d,p;for(s=0,l=n.length;s<l;++s)o[s]=a[s]=f[s]=-1;for(s=0,l=e.length;s<l;++s){var m=e[s],b=m[0],y=m[1];for(d=i[b],p=i[++b],++c,u[d]=1;++b<=y;)_(s,h=d,d=p,p=i[b]);++c,u[p]=1}for(s=0,l=n.length;s<l;++s)o[s]=-1;for(s=0,l=r.length;s<l;++s){var g=r[s],v=g[0]+1,w=g[1];for(h=i[w-1],d=i[v-1],p=i[v],_(s,h,d,p);++v<=w;)_(s,h=d,d=p,p=i[v])}function _(C,R,O,x){if(o[O]!==C){o[O]=C;var $=a[O];if($>=0){var S=f[O];($!==R||S!==x)&&($!==x||S!==R)&&(++c,u[O]=1)}else a[O]=R,f[O]=x}}function M(){for(var C=vc(n.length*1.4,T,A,Int32Array,-1,Int32Array),R=new Int32Array(n.length),O=0,x=n.length;O<x;++O)R[O]=C.maybeSet(O,O);return R}function T(C){return pu(n[C])}function A(C,R){return pe(n[C],n[R])}o=a=f=null;var k=z3(c*1.4,pu,pe),N;for(s=0,l=n.length;s<l;++s)u[N=i[s]]&&k.add(n[N]);return k}function U3(t){var n=B3(t),e=t.coordinates,r=t.lines,i=t.rings,o,a,f;for(a=0,f=r.length;a<f;++a)for(var u=r[a],c=u[0],s=u[1];++c<s;)n.has(e[c])&&(o={0:c,1:u[1]},u[1]=c,u=u.next=o);for(a=0,f=i.length;a<f;++a)for(var l=i[a],h=l[0],d=h,p=l[1],m=n.has(e[h]);++d<p;)n.has(e[d])&&(m?(o={0:d,1:l[1]},l[1]=d,l=l.next=o):(q3(e,h,p,p-d),e[p]=e[h],m=!0,d=h));return t}function q3(t,n,e,r){uf(t,n,e),uf(t,n,n+r),uf(t,n+r,e)}function uf(t,n,e){for(var r=n+(e---n>>1),i;n<r;++n,--e)i=t[n],t[n]=t[e],t[e]=i}function Y3(t){var n=t.coordinates,e=t.lines,r,i=t.rings,o,a=e.length+i.length,f,u;for(delete t.lines,delete t.rings,f=0,u=e.length;f<u;++f)for(r=e[f];r=r.next;)++a;for(f=0,u=i.length;f<u;++f)for(o=i[f];o=o.next;)++a;var c=vc(a*2*1.4,pu,pe),s=t.arcs=[];for(f=0,u=e.length;f<u;++f){r=e[f];do l(r);while(r=r.next)}for(f=0,u=i.length;f<u;++f)if(o=i[f],o.next)do l(o);while(o=o.next);else h(o);function l(g){var v,w,_,M,T,A,k,N;if(_=c.get(v=n[g[0]])){for(k=0,N=_.length;k<N;++k)if(M=_[k],d(M,g)){g[0]=M[0],g[1]=M[1];return}}if(T=c.get(w=n[g[1]])){for(k=0,N=T.length;k<N;++k)if(A=T[k],p(A,g)){g[1]=A[0],g[0]=A[1];return}}_?_.push(g):c.set(v,[g]),T?T.push(g):c.set(w,[g]),s.push(g)}function h(g){var v,w,_,M,T;if(w=c.get(v=n[g[0]]))for(M=0,T=w.length;M<T;++M){if(_=w[M],m(_,g)){g[0]=_[0],g[1]=_[1];return}if(b(_,g)){g[0]=_[1],g[1]=_[0];return}}if(w=c.get(v=n[g[0]+y(g)]))for(M=0,T=w.length;M<T;++M){if(_=w[M],m(_,g)){g[0]=_[0],g[1]=_[1];return}if(b(_,g)){g[0]=_[1],g[1]=_[0];return}}w?w.push(g):c.set(v,[g]),s.push(g)}function d(g,v){var w=g[0],_=v[0],M=g[1],T=v[1];if(w-M!==_-T)return!1;for(;w<=M;++w,++_)if(!pe(n[w],n[_]))return!1;return!0}function p(g,v){var w=g[0],_=v[0],M=g[1],T=v[1];if(w-M!==_-T)return!1;for(;w<=M;++w,--T)if(!pe(n[w],n[T]))return!1;return!0}function m(g,v){var w=g[0],_=v[0],M=g[1],T=v[1],A=M-w;if(A!==T-_)return!1;for(var k=y(g),N=y(v),C=0;C<A;++C)if(!pe(n[w+(C+k)%A],n[_+(C+N)%A]))return!1;return!0}function b(g,v){var w=g[0],_=v[0],M=g[1],T=v[1],A=M-w;if(A!==T-_)return!1;for(var k=y(g),N=A-y(v),C=0;C<A;++C)if(!pe(n[w+(C+k)%A],n[T-(C+N)%A]))return!1;return!0}function y(g){for(var v=g[0],w=g[1],_=v,M=_,T=n[_];++_<w;){var A=n[_];(A[0]<T[0]||A[0]===T[0]&&A[1]<T[1])&&(M=_,T=A)}return M-v}return t}function W3(t){var n=-1,e=[],r=[],i=[];function o(l){l&&a.hasOwnProperty(l.type)&&a[l.type](l)}var a={GeometryCollection:function(l){l.geometries.forEach(o)},LineString:function(l){l.arcs=f(l.arcs)},MultiLineString:function(l){l.arcs=l.arcs.map(f)},Polygon:function(l){l.arcs=l.arcs.map(u)},MultiPolygon:function(l){l.arcs=l.arcs.map(c)}};function f(l){for(var h=0,d=l.length;h<d;++h)i[++n]=l[h];var p={0:n-d+1,1:n};return e.push(p),p}function u(l){for(var h=0,d=l.length;h<d;++h)i[++n]=l[h];var p={0:n-d+1,1:n};return r.push(p),p}function c(l){return l.map(u)}for(var s in t)o(t[s]);return{type:"Topology",coordinates:i,lines:e,rings:r,objects:t}}function H3(t){var n={},e;for(e in t)n[e]=G3(t[e]);return n}function G3(t){return t==null?{type:null}:(t.type==="FeatureCollection"?X3:t.type==="Feature"?bp:xc)(t)}function X3(t){var n={type:"GeometryCollection",geometries:t.features.map(bp)};return t.bbox!=null&&(n.bbox=t.bbox),n}function bp(t){var n=xc(t.geometry),e;t.id!=null&&(n.id=t.id),t.bbox!=null&&(n.bbox=t.bbox);for(e in t.properties){n.properties=t.properties;break}return n}function xc(t){if(t==null)return{type:null};var n=t.type==="GeometryCollection"?{type:"GeometryCollection",geometries:t.geometries.map(xc)}:t.type==="Point"||t.type==="MultiPoint"?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return t.bbox!=null&&(n.bbox=t.bbox),n}function V3(t,n){var e=O3(t=H3(t)),r=Y3(U3(W3(t))),i=r.coordinates,o=vc(r.arcs.length*1.4,Z3,j3);t=r.objects,r.bbox=e,r.arcs=r.arcs.map(function(l,h){return o.set(l,h),i.slice(l[0],l[1]+1)}),delete r.coordinates,i=null;function a(l){l&&f.hasOwnProperty(l.type)&&f[l.type](l)}var f={GeometryCollection:function(l){l.geometries.forEach(a)},LineString:function(l){l.arcs=u(l.arcs)},MultiLineString:function(l){l.arcs=l.arcs.map(u)},Polygon:function(l){l.arcs=l.arcs.map(u)},MultiPolygon:function(l){l.arcs=l.arcs.map(c)}};function u(l){var h=[];do{var d=o.get(l);h.push(l[0]<l[1]?d:~d)}while(l=l.next);return h}function c(l){return l.map(u)}for(var s in t)a(t[s]);return r}function Z3(t){var n=t[0],e=t[1],r;return e<n&&(r=n,n=e,e=r),n+31*e}function j3(t,n){var e=t[0],r=t[1],i=n[0],o=n[1],a;return r<e&&(a=e,e=r,r=a),o<i&&(a=i,i=o,o=a),e===i&&r===o}function K3(t,n){n===void 0&&(n={});var e={type:"FeatureCollection"};return n.id&&(e.id=n.id),n.bbox&&(e.bbox=n.bbox),e.features=t,e}function Q3(t){return!!t&&t.constructor===Object}function Sl(t,n){if(t.type==="Feature")n(t,0);else if(t.type==="FeatureCollection")for(var e=0;e<t.features.length&&n(t.features[e],e)!==!1;e++);}function wp(t,n){var e,r,i,o,a,f,u,c,s,l,h=0,d=t.type==="FeatureCollection",p=t.type==="Feature",m=d?t.features.length:1;for(e=0;e<m;e++){for(f=d?t.features[e].geometry:p?t.geometry:t,c=d?t.features[e].properties:p?t.properties:{},s=d?t.features[e].bbox:p?t.bbox:void 0,l=d?t.features[e].id:p?t.id:void 0,u=f?f.type==="GeometryCollection":!1,a=u?f.geometries.length:1,i=0;i<a;i++){if(o=u?f.geometries[i]:f,o===null){if(n(null,h,c,s,l)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(n(o,h,c,s,l)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<o.geometries.length;r++)if(n(o.geometries[r],h,c,s,l)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}h++}}function Rr(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function J3(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return _p(t);case"FeatureCollection":return t5(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Mc(t);default:throw new Error("unknown GeoJSON type")}}function _p(t){var n={type:"Feature"};return Object.keys(t).forEach(function(e){switch(e){case"type":case"properties":case"geometry":return;default:n[e]=t[e]}}),n.properties=vp(t.properties),n.geometry=Mc(t.geometry),n}function vp(t){var n={};return t&&Object.keys(t).forEach(function(e){var r=t[e];typeof r=="object"?r===null?n[e]=null:Array.isArray(r)?n[e]=r.map(function(i){return i}):n[e]=vp(r):n[e]=r}),n}function t5(t){var n={type:"FeatureCollection"};return Object.keys(t).forEach(function(e){switch(e){case"type":case"features":return;default:n[e]=t[e]}}),n.features=t.features.map(function(e){return _p(e)}),n}function Mc(t){var n={type:t.type};return t.bbox&&(n.bbox=t.bbox),t.type==="GeometryCollection"?(n.geometries=t.geometries.map(function(e){return Mc(e)}),n):(n.coordinates=xp(t.coordinates),n)}function xp(t){var n=t;return typeof n[0]!="object"?n.slice():n.map(function(e){return xp(e)})}function mu(t){for(var n=Rr(t),e=0,r=1,i,o;r<n.length;)i=o||n[0],o=n[r],e+=(o[0]-i[0])*(o[1]+i[1]),r++;return e>0}function n5(t,n){if(n=n||{},!Q3(n))throw new Error("options is invalid");var e=n.reverse||!1,r=n.mutate||!1;if(!t)throw new Error("<geojson> is required");if(typeof e!="boolean")throw new Error("<reverse> must be a boolean");if(typeof r!="boolean")throw new Error("<mutate> must be a boolean");r===!1&&(t=J3(t));var i=[];switch(t.type){case"GeometryCollection":return wp(t,function(o){so(o,e)}),t;case"FeatureCollection":return Sl(t,function(o){Sl(so(o,e),function(a){i.push(a)})}),K3(i)}return so(t,e)}function so(t,n){var e=t.type==="Feature"?t.geometry.type:t.type;switch(e){case"GeometryCollection":return wp(t,function(r){so(r,n)}),t;case"LineString":return Cl(Rr(t),n),t;case"Polygon":return Al(Rr(t),n),t;case"MultiLineString":return Rr(t).forEach(function(r){Cl(r,n)}),t;case"MultiPolygon":return Rr(t).forEach(function(r){Al(r,n)}),t;case"Point":case"MultiPoint":return t}}function Cl(t,n){mu(t)===n&&t.reverse()}function Al(t,n){mu(t[0])!==n&&t[0].reverse();for(var e=1;e<t.length;e++)mu(t[e])===n&&t[e].reverse()}function Si(t,n,e){const r=new Map(n.map(i=>[i[e],i]));return t.reduce((i,o)=>{const a=r.get(o[e]);return a&&i.push({...o,...a}),i},[])}const e5="./predicted_data_per.csv",r5="./maps/Lower_layer_Super_Output_Areas_2021_EW_BGC_V3_-6823567593069184824.geojson",i5="./UK_Archetypes_global_measures.csv",o5="./UK_Archetypes_info.csv",a5="./coBenefits/S1_BNZ.csv",f5="./coBenefits/S2_WI.csv",u5="./coBenefits/S3_WE.csv",c5="./coBenefits/S4_TW.csv",s5="./coBenefits/S5_HW.csv",l5=["Air quality","Noise","Excess cold","Excess heat","Dampness","Congestion","Hassle costs","Road repairs","Road safety","Physical activity","Diet change"],Xo=await ie(e5,t=>t);Xo.sort((t,n)=>n.Total-t.Total);const h5=Object.fromEntries(Xo.map(t=>[t.Datazone,t])),$c=await w_(r5,t=>t);for(let t of $c.features)t.geometry=n5(t.geometry,{reverse:!0});V3({t:$c});const gr=await ie(i5,t=>t);await ie(o5,t=>t);let gu=await ie(a5,t=>(t["LSOA.DZ.CD"]=t[""],t.scenario="1",t)),yu=await ie(f5,t=>(t["LSOA.DZ.CD"]=t[""],t.scenario="2",t)),bu=await ie(u5,t=>(t["LSOA.DZ.CD"]=t[""],t.scenario="3",t)),wu=await ie(c5,t=>(t["LSOA.DZ.CD"]=t[""],t.scenario="4",t)),_u=await ie(s5,t=>(t["LSOA.DZ.CD"]=t[""],t.scenario="5",t));gu=Si(gu,gr,"LSOA.DZ.CD");yu=Si(yu,gr,"LSOA.DZ.CD");bu=Si(bu,gr,"LSOA.DZ.CD");wu=Si(wu,gr,"LSOA.DZ.CD");_u=Si(_u,gr,"LSOA.DZ.CD");const he=gu.concat(yu).concat(bu).concat(wu).concat(_u);let vu=[];he.forEach(t=>{l5.forEach(n=>{vu.push({coBenefit:n,cost:t[n],scenario:t.scenario})})});function ee(t){return t!=null&&!Number.isNaN(t)}function cn(t,n){return+ee(n)-+ee(t)||Ft(t,n)}function Vo(t,n){return+ee(n)-+ee(t)||li(t,n)}function Tc(t){return t!=null&&`${t}`!=""}function Mp(t){return isFinite(t)?t:NaN}function Sc(t){return t>0&&isFinite(t)?t:NaN}function $p(t){return t<0&&isFinite(t)?t:NaN}function d5(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof n=="function"?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${p5(t.getUTCFullYear())}-${Nn(t.getUTCMonth()+1,2)}-${Nn(t.getUTCDate(),2)}${e||r||i||o?`T${Nn(e,2)}:${Nn(r,2)}${i||o?`:${Nn(i,2)}${o?`.${Nn(o,3)}`:""}`:""}Z`:""}`}function p5(t){return t<0?`-${Nn(-t,6)}`:t>9999?`+${Nn(t,6)}`:Nn(t,4)}function Nn(t,n){return`${t}`.padStart(n,"0")}const m5=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Tp(t,n){return m5.test(t+="")?new Date(t):typeof n=="function"?n(t):n}function cr(t){if(t==null)return;const n=t[0],e=t[t.length-1];return li(n,e)}const He=1e3,Vn=He*60,Zn=Vn*60,xn=Zn*24,mn=xn*7,we=xn*30,Xn=xn*365,cf=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",He],["5 seconds",5*He],["15 seconds",15*He],["30 seconds",30*He],["minute",Vn],["5 minutes",5*Vn],["15 minutes",15*Vn],["30 minutes",30*Vn],["hour",Zn],["3 hours",3*Zn],["6 hours",6*Zn],["12 hours",12*Zn],["day",xn],["2 days",2*xn],["week",mn],["2 weeks",2*mn],["month",we],["3 months",3*we],["6 months",6*we],["year",Xn],["2 years",2*Xn],["5 years",5*Xn],["10 years",10*Xn],["20 years",20*Xn],["50 years",50*Xn],["100 years",100*Xn]],Cc=new Map([["second",He],["minute",Vn],["hour",Zn],["day",xn],["monday",mn],["tuesday",mn],["wednesday",mn],["thursday",mn],["friday",mn],["saturday",mn],["sunday",mn],["week",mn],["month",we],["year",Xn]]),Sp=new Map([["second",rn],["minute",bi],["hour",_i],["day",Ee],["monday",ei],["tuesday",y0],["wednesday",b0],["thursday",Ce],["friday",w0],["saturday",_0],["sunday",fr],["week",fr],["month",xi],["year",fn]]),Ac=new Map([["second",rn],["minute",wi],["hour",vi],["day",_a],["monday",ri],["tuesday",v0],["wednesday",x0],["thursday",Ae],["friday",M0],["saturday",$0],["sunday",ur],["week",ur],["month",Mi],["year",un]]),Ci=Symbol("intervalDuration"),Ca=Symbol("intervalType");for(const[t,n]of Sp)n[Ci]=Cc.get(t),n[Ca]="time";for(const[t,n]of Ac)n[Ci]=Cc.get(t),n[Ca]="utc";const Or=[["year",un,"utc"],["month",Mi,"utc"],["day",_a,"utc",6*we],["hour",vi,"utc",3*xn],["minute",wi,"utc",6*Zn],["second",rn,"utc",30*Vn]],lo=[["year",fn,"time"],["month",xi,"time"],["day",Ee,"time",6*we],["hour",_i,"time",3*xn],["minute",bi,"time",6*Zn],["second",rn,"time",30*Vn]],g5=[Or[0],lo[0],Or[1],lo[1],Or[2],lo[2],...Or.slice(3)];function Cp(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6;break}let i=Ac.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function Ap(t){return Ep(Cp(t),"time")}function Ec(t){return Ep(Cp(t),"utc")}function Ep([t,n],e){let r=(e==="time"?Sp:Ac).get(t);return n>1&&(r=r.every(n),r[Ci]=Cc.get(t)*n,r[Ca]=e),r}function El(t,n){if(!(n>1))return;const e=t[Ci];if(!cf.some(([,i])=>i===e)||e%xn===0&&xn<e&&e<we)return;const[r]=cf[ea(([,i])=>Math.log(i)).center(cf,Math.log(e*n))];return(t[Ca]==="time"?Ap:Ec)(r)}function kl(t,n,e){const r=n==="time"?sc:$i;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=y5(e);switch(t){case"millisecond":return Be(r(".%L"),r(":%M:%S"),i);case"second":return Be(r(":%S"),r("%-I:%M"),i);case"minute":return Be(r("%-I:%M"),r("%p"),i);case"hour":return Be(r("%-I %p"),r("%b %-d"),i);case"day":return Be(r("%-d"),r("%b"),i);case"month":return Be(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function y5(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function b5(t){return t==="time"?lo:t==="utc"?Or:g5}function w5(t,n,e){const r=on(yy(n,(i,o)=>Math.abs(o-i)));if(r<1e3)return kl("millisecond","utc",e);for(const[i,o,a,f]of b5(t)){if(r>f||i==="hour"&&!r)break;if(n.every(u=>o.floor(u)>=u))return kl(i,a,e)}}function Be(t,n,e){return(r,i,o)=>{const a=t(r,i),f=n(r,i),u=i-cr(o);return i!==u&&o[u]!==void 0&&f===n(o[u],u)?a:e(a,f)}}const ii=Object.getPrototypeOf(Uint8Array),_5=Object.prototype.toString,kp=Symbol("reindex");function dt(t,n,e){const r=typeof n;return r==="string"?Nl(t,Np(n),e):r==="function"?Nl(t,n,e):r==="number"||n instanceof Date||r==="boolean"?bt(t,Ai(n),e):typeof n?.transform=="function"?Ll(n.transform(t),e):v5(Ll(n,e),t?.[kp])}function v5(t,n){return t!=null&&n?Dc(t,n):t}function Nl(t,n,e){return bt(t,e?.prototype instanceof ii?x5(n):n,e)}function Ll(t,n){return n===void 0?Ht(t):t instanceof n?t:n.prototype instanceof ii&&!(t instanceof ii)?n.from(t,Nc):n.from(t)}function x5(t){return(n,e)=>Nc(t(n,e))}const ho=[null],Np=t=>n=>n[t],kc={transform:Un},Ct={transform:t=>t},M5=()=>1,$5=()=>!0,Lt=t=>t==null?t:`${t}`,mt=t=>t==null?t:+t,Lp=t=>t?t[0]:void 0,xu=t=>t?t[1]:void 0,Ai=t=>()=>t;function T5(t){const n=+`${t}`.slice(1)/100;return(e,r)=>Je(e,n,r)}function jn(t){return t instanceof ii?t:bt(t,Nc,Float64Array)}function Nc(t){return t==null?NaN:Number(t)}function S5(t){return bt(t,Dp)}function Dp(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?Tp(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function sn(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:Aa(t)?[void 0,t]:[t,void 0]}function Ut(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function Ip(t,n,e){if(t!=null)return hn(t,n,e)}function hn(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function Ht(t){return t==null||t instanceof Array||t instanceof ii?t:Array.from(t)}function bt(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function oi(t,n=Array){return t instanceof n?t.slice():n.from(t)}function Pp({x:t,x1:n,x2:e}){return t!==void 0||n!==void 0||e!==void 0}function Fp({y:t,y1:n,y2:e}){return t!==void 0||n!==void 0||e!==void 0}function C5(t){return Pp(t)||Fp(t)||t.interval!==void 0}function ae(t){return t?.toString===_5}function Mu(t){return ae(t)&&(t.type!==void 0||t.domain!==void 0)}function Lc(t){return ae(t)&&typeof t.transform!="function"}function ai(t){return Lc(t)&&t.value===void 0&&t.channel===void 0}function Rp(t,n,e,r=Ct){return n===void 0&&e===void 0?(n=0,e=t===void 0?r:t):n===void 0?n=t===void 0?0:t:e===void 0&&(e=t===void 0?0:t),[n,e]}function Op(t,n){return t===void 0&&n===void 0?[Lp,xu]:[t,n]}function zp({z:t,fill:n,stroke:e}={}){return t===void 0&&([t]=sn(n)),t===void 0&&([t]=sn(e)),t}function Un(t){const n=t.length,e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function Dc(t,n){return bt(n,e=>t[e],t.constructor)}function A5(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function ge(t){return t!==null&&typeof t=="object"?t.valueOf():t}function E5(t,n){if(n[t]!==void 0)return n[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return n[t]}function Zo(t){let n;return[{transform:()=>n,label:Le(t)},e=>n=e]}function It(t){return t==null?[t]:Zo(t)}function Le(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function jo(t,n){return{transform(e){const r=t.transform(e),i=n.transform(e);return Ot(r)||Ot(i)?bt(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):bt(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function Ko(t,n){const e=Bp(n?.interval,n?.type);return e?bt(t,e):t}function Bp(t,n){const e=Ic(t,n);return e&&(r=>ee(r)?e.floor(r):r)}function Ic(t,n){if(t!=null){if(typeof t=="number")return k5(t);if(typeof t=="string")return(n==="time"?Ap:Ec)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function k5(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:e=>Math.floor(e*n)/n,offset:(e,r=1)=>(e*n+Math.floor(r))/n,range:(e,r)=>Lf(Math.ceil(e*n),r*n).map(i=>i/n)}:{floor:e=>Math.floor(e/n)*n,offset:(e,r=1)=>e+n*Math.floor(r),range:(e,r)=>Lf(Math.ceil(e/n),r/n).map(i=>i*n)}}function yr(t,n){if(t=Ic(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function N5(t,n){if(t=yr(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function L5(t){return Ge(t)&&typeof t?.floor=="function"&&t.floor()instanceof Date}function Ge(t){return typeof t?.range=="function"}function Ei(t){return t===void 0||Lc(t)?t:{value:t}}function D5(t){return t==null?null:{transform:n=>dt(n,t,Float64Array),label:Le(t)}}function fe(t){return t&&typeof t[Symbol.iterator]=="function"}function Up(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function Dl(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function Ot(t){for(const n of t)if(n!=null)return n instanceof Date}function I5(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&Tp(n)}function P5(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function F5(t){for(const n of t)if(n!=null)return typeof n=="number"}function sf(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const R5=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Aa(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||R5.has(t))}function O5(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Pt(t){return t==null||fi(t)}function fi(t){return/^\s*none\s*$/i.test(t)}function z5(t){return/^\s*round\s*$/i.test(t)}function $u(t,n){return Ip(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Pc(t="middle"){return $u(t,"frameAnchor")}function B5(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const o=r[i];e===t?e={...e,[i]:o}:e[i]=o}return e}function U5(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function qp(t){return fe(t)?U5(t):t}function Yp(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=hn(t,"clip",["frame","sphere"])),t}const bn=Symbol("position"),qn=Symbol("color"),ki=Symbol("radius"),Ni=Symbol("length"),Li=Symbol("opacity"),Ea=Symbol("symbol"),Wp=Symbol("projection"),yt=new Map([["x",bn],["y",bn],["fx",bn],["fy",bn],["r",ki],["color",qn],["opacity",Li],["symbol",Ea],["length",Ni],["projection",Wp]]);function q5(t){return t===bn||t===Wp}function Y5(t){return t===bn||t===ki||t===Ni||t===Li}const W5=Math.sqrt(3),H5=2/W5,G5={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*H5,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},Hp=new Map([["asterisk",X1],["circle",mc],["cross",V1],["diamond",j1],["diamond2",K1],["hexagon",G5],["plus",Q1],["square",J1],["square2",tp],["star",ep],["times",ap],["triangle",rp],["triangle2",ip],["wye",op]]);function Gp(t){return t&&typeof t.draw=="function"}function X5(t){return Gp(t)?!0:typeof t!="string"?!1:Hp.has(t.toLowerCase())}function Fc(t){if(t==null||Gp(t))return t;const n=Hp.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function ka({filter:t,sort:n,reverse:e,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=Xp(t)),n!=null&&!ai(n)&&(r=lf(r,Zp(n))),e&&(r=lf(r,Vp))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(n===null||ai(n))&&{sort:n},transform:lf(r,a)}}function Qo({filter:t,sort:n,reverse:e,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=Xp(t)),n!=null&&!ai(n)&&(r=hf(r,Zp(n))),e&&(r=hf(r,Vp))),{...i,...(n===null||ai(n))&&{sort:n},initializer:hf(r,o)}}function lf(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,Ht(e),r,i)}}function hf(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...o){let a,f,u,c,s,l;return{data:f=e,facets:u=r,channels:a}=t.call(this,e,r,i,...o),{data:s=f,facets:l=u,channels:c}=n.call(this,f,u,{...i,...a},...o),{data:s,facets:l,channels:{...a,...c}}}}function Xp(t){return(n,e)=>{const r=dt(n,t);return{data:n,facets:e.map(i=>i.filter(o=>r[o]))}}}function Vp(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function Zp(t){return(typeof t=="function"&&t.length!==1?V5:Z5)(t)}function V5(t){return(n,e)=>{const r=(i,o)=>t(n[i],n[o]);return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function Z5(t){let n,e;({channel:n,value:t,order:e}={...Ei(t)});const r=n?.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?Vo:cn),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=cn;break;case"descending":e=Vo;break;default:throw new Error(`invalid order: ${e}`)}return(i,o,a)=>{let f;if(n===void 0)f=dt(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[n],!f)return{};f=f.value}const u=(c,s)=>e(f[c],f[s]);return{data:i,facets:o.map(c=>c.slice().sort(u))}}}function ji(t={x:"count"},n={}){const{y:e=Ct}=n;if(e==null)throw new Error("missing channel: y");return j5(null,e,t,n)}function j5(t,n,{data:e=zc,filter:r,sort:i,reverse:o,...a}={},f={}){a=J5(a,f),e=Jp(e,Ct),i=i==null?void 0:Kp("sort",i,f),r=r==null?void 0:Qp("filter",r,f);const[u,c]=It(t),[s,l]=It(n),{z:h,fill:d,stroke:p,x1:m,x2:b,y1:y,y2:g,...v}=f,[w,_]=It(h),[M]=sn(d),[T]=sn(p),[A,k]=It(M),[N,C]=It(T);return{..."z"in f&&{z:w||h},..."fill"in f&&{fill:A||d},..."stroke"in f&&{stroke:N||p},...ka(v,(R,O,x)=>{const $=Ko(dt(R,t),x?.x),S=Ko(dt(R,n),x?.y),I=dt(R,h),F=dt(R,M),E=dt(R,T),P=tm(a,{z:I,fill:F,stroke:E}),B=[],z=[],q=$&&c([]),G=S&&l([]),X=I&&_([]),Z=F&&k([]),U=E&&C([]);let H=0;for(const D of a)D.initialize(R);i&&i.initialize(R),r&&r.initialize(R);for(const D of O){const W=[];for(const Y of a)Y.scope("facet",D);i&&i.scope("facet",D),r&&r.scope("facet",D);for(const[Y,L]of Xr(D,P))for(const[rt,V]of Xr(L,S))for(const[ot,at]of Xr(V,$)){const ht={data:R};if($&&(ht.x=ot),S&&(ht.y=rt),P&&(ht.z=Y),!(r&&!r.reduce(at,ht))){W.push(H++),z.push(e.reduceIndex(at,R,ht)),$&&q.push(ot),S&&G.push(rt),I&&X.push(P===I?Y:I[at[0]]),F&&Z.push(P===F?Y:F[at[0]]),E&&U.push(P===E?Y:E[at[0]]);for(const dn of a)dn.reduce(at,ht);i&&i.reduce(at,ht)}}B.push(W)}return nm(B,i,o),{data:z,facets:B}}),...!Gr(a,"x")&&(u?{x:u}:{x1:m,x2:b}),...!Gr(a,"y")&&(s?{y:s}:{y1:y,y2:g}),...Object.fromEntries(a.map(({name:R,output:O})=>[R,O]))}}function Gr(t,...n){for(const{name:e}of t)if(n.includes(e))return!0;return!1}function jp(t,n,e=Rc){const r=Object.entries(t);return n.title!=null&&t.title===void 0&&r.push(["title",r8]),n.href!=null&&t.href===void 0&&r.push(["href",Bc]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?K5(i):e(i,o,n))}function Rc(t,n,e,r=Oc){let i;ae(n)&&"reduce"in n&&(i=n.scale,n=n.reduce);const o=r(t,n,e),[a,f]=Zo(o.label);let u;return{name:t,output:i===void 0?a:{value:a,scale:i},initialize(c){o.initialize(c),u=f([])},scope(c,s){o.scope(c,s)},reduce(c,s){u.push(o.reduce(c,s))}}}function K5(t){return{name:t,initialize(){},scope(){},reduce(){}}}function Oc(t,n,e,r=Na){const i=E5(t,e),o=r(n,i);let a,f;return{label:Le(o===Jo?null:i,o.label),initialize(u){a=i===void 0?u:dt(u,i),o.scope==="data"&&(f=o.reduceIndex(Un(u),a))},scope(u,c){o.scope===u&&(f=o.reduceIndex(c,a))},reduce(u,c){return o.scope==null?o.reduceIndex(u,a,c):o.reduceIndex(u,a,f,c)}}}function Xr(t,n){return n?oa(t,e=>n[e]):[[,t]]}function Na(t,n,e=Q5){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&ae(t))return n8(t);if(typeof t=="function")return e8(t);if(/^p\d{2}$/i.test(t))return kn(T5(t));switch(`${t}`.toLowerCase()){case"first":return Bc;case"last":return i8;case"identity":return zc;case"count":return Jo;case"distinct":return o8;case"sum":return n==null?Jo:a8;case"proportion":return Pl(n,"data");case"proportion-facet":return Pl(n,"facet");case"deviation":return kn(Ye);case"min":return kn(Rn);case"min-index":return kn(hy);case"max":return kn(on);case"max-index":return kn(ly);case"mean":return Il(Er);case"median":return Il(Nf);case"variance":return kn(Nh);case"mode":return kn(gy)}return e(t)}function Q5(t){throw new Error(`invalid reduce: ${t}`)}function J5(t,n){return jp(t,n,Kp)}function Kp(t,n,e){return Rc(t,n,e,Qp)}function Qp(t,n,e){return Oc(t,n,e,Jp)}function Jp(t,n){return Na(t,n,t8)}function t8(t){switch(`${t}`.toLowerCase()){case"x":return f8;case"y":return u8;case"z":return em}throw new Error(`invalid group reduce: ${t}`)}function tm(t,n){for(const e in n){const r=n[e];if(r!==void 0&&!t.some(i=>i.name===e))return r}}function nm(t,n,e){if(n){const r=n.output.transform(),i=(o,a)=>cn(r[o],r[a]);t.forEach(o=>o.sort(i))}e&&t.forEach(r=>r.reverse())}function n8(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function e8(t){return{reduceIndex(n,e,r){return t(Dc(e,n),r)}}}function kn(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function Il(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return Ot(e)?new Date(r):r}}}const zc={reduceIndex(t,n){return Dc(n,t)}},Bc={reduceIndex(t,n){return n[t[0]]}},r8={reduceIndex(t,n){const r=po(Ze(t,o=>o.length,o=>n[o]),xu),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[4]=[` ${o.length.toLocaleString("en-US")} more`,Jn(o,xu)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},i8={reduceIndex(t,n){return n[t[t.length-1]]}},Jo={label:"Frequency",reduceIndex(t){return t.length}},o8={label:"Distinct",reduceIndex(t,n){const e=new ia;for(const r of t)e.add(n[r]);return e.size}},a8=kn(Jn);function Pl(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>Jn(e,o=>r[o])/i}}const f8={reduceIndex(t,n,{x:e}){return e}},u8={reduceIndex(t,n,{y:e}){return e}},em={reduceIndex(t,n,{z:e}){return e}};function ui(t,{scale:n,type:e,value:r,filter:i,hint:o,label:a=Le(r)},f){return o===void 0&&typeof r?.transform=="function"&&(o=r.hint),rm(f,{scale:n,type:e,value:dt(t,r),label:a,filter:i,hint:o})}function c8(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,ui(n,r,e)]))}function s8(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:n[i];return[r,a==null?o:bt(o,a)]}));return e.channels=t,e}function rm(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&sf(r,Aa)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&sf(r,O5)?null:"opacity";break;case"symbol":e!==!0&&sf(r,X5)?(n.scale=null,n.value=bt(r,Fc)):n.scale="symbol";break;default:n.scale=yt.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!yt.has(e))throw new Error(`unknown scale: ${e}`);return n}function l8(t,n,e,r,i){const{order:o,reverse:a,reduce:f=!0,limit:u}=i;for(const c in i){if(!yt.has(c))continue;let{value:s,order:l=o,reverse:h=a,reduce:d=f,limit:p=u}=Ei(i[c]);const m=s?.startsWith("-");if(m&&(s=s.slice(1)),l=l===void 0?m!==(s==="width"||s==="height")?om:im:p8(l),d==null||d===!1)continue;const b=c==="fx"||c==="fy"?d8(n,r[c]):h8(e,c);if(!b)throw new Error(`missing channel for scale: ${c}`);const y=b.value,[g=0,v=1/0]=fe(p)?p:p<0?[p]:[0,p];if(s==null)b.domain=()=>{let w=Array.from(new ia(y));return h&&(w=w.reverse()),(g!==0||v!==1/0)&&(w=w.slice(g,v)),w};else{const w=s==="data"?t:s==="height"?Fl(e,"y1","y2"):s==="width"?Fl(e,"x1","x2"):Tu(e,s,s==="y"?"y2":s==="x"?"x2":void 0),_=Na(d===!0?"max":d,w);b.domain=()=>{let M=oy(Un(y),T=>_.reduceIndex(T,w),T=>y[T]);return l&&M.sort(l),h&&M.reverse(),(g!==0||v!==1/0)&&(M=M.slice(g,v)),M.map(Lp)}}}}function h8(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function d8(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let o=0;o<e.length;++o){const a=r[e[o][0]];for(const f of t[o])i[f]=a}return n}function Fl(t,n,e){const r=Tu(t,n),i=Tu(t,e);return bt(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function Tu(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function p8(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return im;case"descending":return om}throw new Error(`invalid order: ${t}`)}function im([t,n],[e,r]){return cn(n,r)||cn(t,e)}function om([t,n],[e,r]){return Vo(n,r)||cn(t,e)}function Rl(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}const am=new Map([["accent",Y6],["category10",q6],["dark2",W6],["observable10",H6],["paired",G6],["pastel1",X6],["pastel2",V6],["set1",Z6],["set2",j6],["set3",K6],["tableau10",Q6]]);function m8(t){return t!=null&&am.has(`${t}`.toLowerCase())}const Ol=new Map([...am,["brbg",Cn(I0,dc)],["prgn",Cn(P0,F0)],["piyg",Cn(R0,O0)],["puor",Cn(z0,B0)],["rdbu",Cn(lu,Bo)],["rdgy",Cn(U0,q0)],["rdylbu",Cn(hu,Uo)],["rdylgn",Cn(Y0,W0)],["spectral",Cn(H0,G0)],["burd",zl(lu,Bo)],["buylrd",zl(hu,Uo)],["blues",vt(y1,b1)],["greens",vt(w1,_1)],["greys",vt(v1,x1)],["oranges",vt(C1,A1)],["purples",vt(M1,$1)],["reds",vt(T1,S1)],["turbo",An(P1)],["viridis",An(F1)],["magma",An(R1)],["inferno",An(O1)],["plasma",An(z1)],["cividis",An(E1)],["cubehelix",An(k1)],["warm",An(N1)],["cool",An(L1)],["bugn",vt(X0,V0)],["bupu",vt(Z0,j0)],["gnbu",vt(K0,Q0)],["orrd",vt(J0,t1)],["pubu",vt(r1,i1)],["pubugn",vt(n1,e1)],["purd",vt(o1,a1)],["rdpu",vt(f1,u1)],["ylgn",vt(l1,h1)],["ylgnbu",vt(c1,s1)],["ylorbr",vt(d1,p1)],["ylorrd",vt(m1,g1)],["rainbow",Bl(D1)],["sinebow",Bl(I1)]]);function vt(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?an(n,e):t[e])}function Cn(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?an(n,e):t[e])}function zl(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?an(r=>n(1-r),e):t[e].slice().reverse())}function An(t){return({length:n})=>an(t,Math.max(2,Math.floor(n)))}function Bl(t){return({length:n})=>an(t,Math.floor(n)+1).slice(0,-1)}function fm(t){const n=`${t}`.toLowerCase();if(!Ol.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return Ol.get(n)}function La(t,n){const e=fm(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function g8(t,n="greys"){const e=new Set,[r,i]=La(n,2);for(const o of t)if(o!=null)if(o===!0)e.add(i);else if(o===!1)e.add(r);else return;return[...e]}const Ul=new Map([["brbg",dc],["prgn",F0],["piyg",O0],["puor",B0],["rdbu",Bo],["rdgy",q0],["rdylbu",Uo],["rdylgn",W0],["spectral",G0],["burd",t=>Bo(1-t)],["buylrd",t=>Uo(1-t)],["blues",b1],["greens",_1],["greys",x1],["purples",$1],["reds",S1],["oranges",A1],["turbo",P1],["viridis",F1],["magma",R1],["inferno",O1],["plasma",z1],["cividis",E1],["cubehelix",k1],["warm",N1],["cool",L1],["bugn",V0],["bupu",j0],["gnbu",Q0],["orrd",t1],["pubugn",e1],["pubu",i1],["purd",a1],["rdpu",u1],["ylgnbu",s1],["ylgn",h1],["ylorbr",p1],["ylorrd",g1],["rainbow",D1],["sinebow",I1]]);function Uc(t){const n=`${t}`.toLowerCase();if(!Ul.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return Ul.get(n)}const y8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function b8(t){return t!=null&&y8.has(`${t}`.toLowerCase())}const um=t=>n=>t(1-n),df=[0,1],ql=new Map([["number",Et],["rgb",$e],["hsl",G2],["hcl",Z2],["lab",X2]]);function cm(t){const n=`${t}`.toLowerCase();if(!ql.has(n))throw new Error(`unknown interpolator: ${n}`);return ql.get(n)}function Di(t,n,e,{type:r,nice:i,clamp:o,zero:a,domain:f=lm(t,e),unknown:u,round:c,scheme:s,interval:l,range:h=yt.get(t)===ki?E8(e,f):yt.get(t)===Ni?k8(e,f):yt.get(t)===Li?df:void 0,interpolate:d=yt.get(t)===qn?s==null&&h!==void 0?$e:Uc(s!==void 0?s:r==="cyclical"?"rainbow":"turbo"):c?Ku:Et,reverse:p}){if(l=yr(l,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=cm(d)),p=!!p,h!==void 0){const m=(f=Ht(f)).length,b=(h=Ht(h)).length;if(m!==b){if(d.length===1)throw new Error("invalid piecewise interpolator");d=sa(d,h),h=void 0}}if(d.length===1?(p&&(d=um(d),p=!1),h===void 0&&(h=Float64Array.from(f,(m,b)=>b/(f.length-1)),h.length===2&&(h=df)),n.interpolate((h===df?Ai:Yc)(d))):n.interpolate(d),a){const[m,b]=Bt(f);(m>0||b<0)&&(f=oi(f),(cr(f)||1)===Math.sign(m)?f[0]=0:f[f.length-1]=0)}return p&&(f=bo(f)),n.domain(f).unknown(u),i&&(n.nice(w8(i,r)),f=n.domain()),h!==void 0&&n.range(h),o&&n.clamp(o),{type:r,domain:f,range:h,scale:n,interpolate:d,interval:l}}function w8(t,n){return t===!0?void 0:typeof t=="number"?t:N5(t,n)}function _8(t,n,e){return Di(t,uc(),n,e)}function v8(t,n,e){return sm(t,n,{...e,exponent:.5})}function sm(t,n,{exponent:e=1,...r}){return Di(t,p0().exponent(e),n,{...r,type:"pow"})}function x8(t,n,{base:e=10,domain:r=N8(n),...i}){return Di(t,s0().base(e),n,{...i,domain:r})}function M8(t,n,{constant:e=1,...r}){return Di(t,h0().constant(e),n,r)}function $8(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:o="rdylbu",domain:a=L8(n),unknown:f,interpolate:u,reverse:c}){return e===void 0&&(e=u!==void 0?an(u,i):yt.get(t)===qn?La(o,i):void 0),a.length>0&&(a=m0(a,e===void 0?{length:i}:e).quantiles()),qc(t,n,{domain:a,range:e,reverse:c,unknown:f})}function T8(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:o=lm(t,n),unknown:a,interpolate:f,reverse:u}){const[c,s]=Bt(o);let l;return e===void 0?(l=Zr(c,s,r),l[0]<=c&&l.splice(0,1),l[l.length-1]>=s&&l.pop(),r=l.length+1,e=f!==void 0?an(f,r):yt.get(t)===qn?La(i,r):void 0):(l=an(Et(c,s),r+1).slice(1,-1),c instanceof Date&&(l=l.map(h=>new Date(h)))),cr(Ht(o))<0&&l.reverse(),qc(t,n,{domain:l,range:e,reverse:u,unknown:a})}function qc(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?an(o,e.length+1):yt.get(t)===qn?La(i,e.length+1):void 0,reverse:f}){e=Ht(e);const u=cr(e);if(!isNaN(u)&&!S8(e,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(a=bo(a)),{type:"threshold",scale:g0(u<0?bo(e):e,a===void 0?[]:a).unknown(r),domain:e,range:a}}function S8(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const o=li(i,i=t[e]);if(o!==0&&o!==n)return!1}return!0}function C8(t){return{type:"identity",scale:Y5(yt.get(t))?f0():n=>n}}function ci(t,n=Mp){return t.length?[Rn(t,({value:e})=>e===void 0?e:Rn(e,n)),on(t,({value:e})=>e===void 0?e:on(e,n))]:[0,1]}function lm(t,n){const e=yt.get(t);return(e===ki||e===Li||e===Ni?A8:ci)(n)}function A8(t){return[0,t.length?on(t,({value:n})=>n===void 0?n:on(n,Mp)):1]}function E8(t,n){const e=t.find(({radius:a})=>a!==void 0);if(e!==void 0)return[0,e.radius];const r=Je(t,.5,({value:a})=>a===void 0?NaN:Je(a,.25,Sc)),i=n.map(a=>3*Math.sqrt(a/r)),o=30/on(i);return o<1?i.map(a=>a*o):i}function k8(t,n){const e=Nf(t,({value:o})=>o===void 0?NaN:Nf(o,Math.abs)),r=n.map(o=>12*o/e),i=60/on(r);return i<1?r.map(o=>o*i):r}function N8(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return ci(t,Sc);if(e<0)return ci(t,$p)}return[1,10]}function L8(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function Yc(t){return(n,e)=>r=>t(n+r*(e-n))}let Su=0,Cu;function D8(){const t=Su;return Su=0,Cu=void 0,t}function Qn(t){t!==Cu&&(Cu=t,console.warn(t),++Su)}function Da(t,n,e,r,{type:i,nice:o,clamp:a,domain:f=ci(r),unknown:u,pivot:c=0,scheme:s,range:l,symmetric:h=!0,interpolate:d=yt.get(t)===qn?s==null&&l!==void 0?$e:Uc(s!==void 0?s:"rdbu"):Et,reverse:p}){c=+c,f=Ht(f);let[m,b]=f;if(f.length>2&&Qn(`Warning: the diverging ${t} scale domain contains extra elements.`),li(m,b)<0&&([m,b]=[b,m],p=!p),m=Math.min(m,c),b=Math.max(b,c),typeof d!="function"&&(d=cm(d)),l!==void 0&&(d=d.length===1?Yc(d)(...l):sa(d,l)),p&&(d=um(d)),h){const y=e.apply(c),g=y-e.apply(m),v=e.apply(b)-y;g<v?m=e.invert(y-v):g>v&&(b=e.invert(y+g))}return n.domain([m,c,b]).unknown(u).interpolator(d),a&&n.clamp(a),o&&n.nice(o),{type:i,domain:[m,b],pivot:c,interpolate:d,scale:n}}function I8(t,n,e){return Da(t,hc(),O8,n,e)}function P8(t,n,e){return hm(t,n,{...e,exponent:.5})}function hm(t,n,{exponent:e=1,...r}){return Da(t,D0().exponent(e=+e),U8(e),n,{...r,type:"diverging-pow"})}function F8(t,n,{base:e=10,pivot:r=1,domain:i=ci(n,r<0?$p:Sc),...o}){return Da(t,N0().base(e=+e),z8,n,{domain:i,pivot:r,...o})}function R8(t,n,{constant:e=1,...r}){return Da(t,L0().constant(e=+e),q8(e),n,r)}const O8={apply(t){return t},invert(t){return t}},z8={apply:Math.log,invert:Math.exp},B8={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function U8(t){return t===.5?B8:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function q8(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function dm(t,n,e,r){return Di(t,n,e,r)}function Y8(t,n,e){return dm(t,B6(),n,e)}function W8(t,n,e){return dm(t,U6(),n,e)}const Ii=Symbol("ordinal");function pm(t,n,e,{type:r,interval:i,domain:o,range:a,reverse:f,hint:u}){return i=yr(i,r),o===void 0&&(o=gm(e,i,t)),(r==="categorical"||r===Ii)&&(r="ordinal"),f&&(o=bo(o)),o=n.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),n.range(a)),{type:r,domain:o,range:a,scale:n,hint:u,interval:i}}function H8(t,n,{type:e,interval:r,domain:i,range:o,scheme:a,unknown:f,...u}){r=yr(r,e),i===void 0&&(i=gm(n,r,t));let c;if(yt.get(t)===Ea)c=V8(n),o=o===void 0?Z8(c):bt(o,Fc);else if(yt.get(t)===qn&&(o===void 0&&(e==="ordinal"||e===Ii)&&(o=g8(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=e==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const s=Uc(a),l=o[0],h=o[1]-o[0];o=({length:d})=>an(p=>s(l+h*p),d)}else o=fm(a);if(f===uu)throw new Error(`implicit unknown on ${t} scale is not supported`);return pm(t,fc().unknown(f),n,{...u,type:e,domain:i,range:o,hint:c})}function G8(t,n,{align:e=.5,padding:r=.5,...i}){return mm(vv().align(e).padding(r),n,i,t)}function X8(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return mm(ya().align(e).paddingInner(i).paddingOuter(o),n,a,t)}function mm(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=pm(r,t,n,e),t.round=i,t}function gm(t,n,e){const r=new ia;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(n!==void 0){const[i,o]=Bt(r).map(n.floor,n);return n.range(i,n.offset(o))}if(r.size>1e4&&yt.get(e)===bn)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return po(r,cn)}function Yl(t,n){let e;for(const{hint:r}of t){const i=r?.[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function V8(t){return{fill:Yl(t,"fill"),stroke:Yl(t,"stroke")}}function Z8(t){return Pt(t.fill)?d3:h3}function Au(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,round:f,nice:u,clamp:c,zero:s,align:l,padding:h,projection:d,facet:{label:p=n}={},...m}={}){const b={};for(const[y,g]of t){const v=m[y],w=t4(y,g,{round:yt.get(y)===bn?f:void 0,nice:u,clamp:c,zero:s,align:l,padding:h,projection:d,...v});if(w){let{label:_=y==="fx"||y==="fy"?p:n,percent:M,transform:T,inset:A,insetTop:k=A!==void 0?A:y==="y"?r:0,insetRight:N=A!==void 0?A:y==="x"?i:0,insetBottom:C=A!==void 0?A:y==="y"?o:0,insetLeft:R=A!==void 0?A:y==="x"?a:0}=v||{};if(T==null)T=void 0;else if(typeof T!="function")throw new Error("invalid scale transform; not a function");w.percent=!!M,w.label=_===void 0?K8(g,w):_,w.transform=T,y==="x"||y==="fx"?(w.insetLeft=+R,w.insetRight=+N):(y==="y"||y==="fy")&&(w.insetTop=+k,w.insetBottom=+C),b[y]=w}}return b}function Wl(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:f,label:u}=i;n[r]=o4(i),e[r]=o,o.type=a,f!=null&&(o.interval=f),u!=null&&(o.label=u)}return e}function j8(t,n){const{x:e,y:r,fx:i,fy:o}=t,a=i||o?Wc(n):n;i&&Hl(i,a),o&&Gl(o,a);const f=i||o?ym(t,n):n;e&&Hl(e,f),r&&Gl(r,f)}function K8(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!De(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function Q8(t){return Math.sign(cr(t.domain()))*Math.sign(cr(t.range()))}function Wc(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:u,marginBottom:c,marginLeft:s}}=t;return{marginTop:Math.max(n,f),marginRight:Math.max(e,u),marginBottom:Math.max(r,c),marginLeft:Math.max(i,s),width:o,height:a}}function ym({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:u}=Wc(e);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:f,height:n?n.scale.bandwidth()+r+o:u,facet:{width:f,height:u}}}function Hl(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=n,f=o+e,u=i-a-r;t.range=[f,Math.max(f,u)],De(t)||(t.range=wm(t)),t.scale.range(t.range)}bm(t)}function Gl(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=n,f=o+e,u=i-a-r;t.range=[Math.max(f,u),f],De(t)?t.range.reverse():t.range=wm(t),t.scale.range(t.range)}bm(t)}function bm(t){t.round===void 0&&e4(t)&&J8(t)<=30&&t.scale.round(!0)}function J8({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=n-i,f=Math.abs(r-e)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function wm(t){const n=t.scale.domain().length+_m(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,o)=>e+o/(n-1)*(r-e))}function t4(t,n=[],e={}){const r=n4(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&De({type:r})){const i=n.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Ot)?Qn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Ue(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Ue(r)}".`):i.some(I5)?Qn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Ue(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Ue(r)}".`):i.some(P5)&&Qn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Ue(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Ue(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=Ki(n,e,jn);break;case"identity":switch(yt.get(t)){case bn:e=Ki(n,e,jn);break;case Ea:e=Ki(n,e,r4);break}break;case"utc":case"time":e=Ki(n,e,S5);break}switch(r){case"diverging":return I8(t,n,e);case"diverging-sqrt":return P8(t,n,e);case"diverging-pow":return hm(t,n,e);case"diverging-log":return F8(t,n,e);case"diverging-symlog":return R8(t,n,e);case"categorical":case"ordinal":case Ii:return H8(t,n,e);case"cyclical":case"sequential":case"linear":return _8(t,n,e);case"sqrt":return v8(t,n,e);case"threshold":return qc(t,n,e);case"quantile":return $8(t,n,e);case"quantize":return T8(t,n,e);case"pow":return sm(t,n,e);case"log":return x8(t,n,e);case"symlog":return M8(t,n,e);case"utc":return W8(t,n,e);case"time":return Y8(t,n,e);case"point":return G8(t,n,e);case"band":return X8(t,n,e);case"identity":return C8(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Ue(t){return typeof t=="symbol"?t.description:t}function Xl(t){return typeof t=="string"?`${t}`.toLowerCase():t}const Vl={toString:()=>"projection"};function n4(t,n,{type:e,domain:r,range:i,scheme:o,pivot:a,projection:f}){if(e=Xl(e),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(e=Vl);for(const c of n){const s=Xl(c.type);if(s!==void 0){if(e===void 0)e=s;else if(e!==s)throw new Error(`scale incompatible with channel: ${e} !== ${s}`)}}if(e===Vl)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:c})=>c!==void 0))return;const u=yt.get(t);if(u===ki)return"sqrt";if(u===Li||u===Ni)return"linear";if(u===Ea)return"ordinal";if((r||i||[]).length>2)return pf(u);if(r!==void 0){if(Dl(r))return pf(u);if(Ot(r))return"utc"}else{const c=n.map(({value:s})=>s).filter(s=>s!==void 0);if(c.some(Dl))return pf(u);if(c.some(Ot))return"utc"}if(u===qn){if(a!=null||b8(o))return"diverging";if(m8(o))return"categorical"}return"linear"}function pf(t){switch(t){case bn:return"point";case qn:return Ii;default:return"ordinal"}}function De({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Ii}function _m({type:t}){return t==="threshold"}function e4({type:t}){return t==="point"||t==="band"}function sr(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function Ki(t,{domain:n,...e},r){for(const i of t)i.value!==void 0&&(n===void 0&&(n=i.value?.domain),i.value=r(i.value));return{domain:n===void 0?n:r(n),...e}}function r4(t){return bt(t,Fc)}function i4(t){return n=>{if(!yt.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function o4({scale:t,type:n,domain:e,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:u}){if(n==="identity")return{type:"identity",apply:s=>s,invert:s=>s};const c=t.unknown?t.unknown():void 0;return{type:n,domain:oi(e),...r!==void 0&&{range:oi(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...c!==void 0&&{unknown:c},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:s=>t(s),...t.invert&&{invert:s=>t.invert(s)}}}function a4(t,n){const{fx:e,fy:r}=Au(t,n),i=e?.scale.domain(),o=r?.scale.domain();return i&&o?ry(i,o).map(([a,f],u)=>({x:a,y:f,i:u})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function f4(t,{x:n,y:e}){return n&&=Eu(n),e&&=Eu(e),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function Hc(t,{fx:n,fy:e}){const r=Un(t),i=n?.value,o=e?.value;return n&&e?Ze(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):n?Ze(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Ze(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function u4(t,n,{marginTop:e,marginLeft:r}){return t&&n?({x:i,y:o})=>`translate(${t(i)-r},${n(o)-e})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${n(i)-e})`}function c4(t){const n=[],e=new Uint32Array(Jn(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(e.set(o,i),i+=o.length);n.push(e.slice(0,i))}return n}const s4=new Map([["top",mf],["right",bf],["bottom",gf],["left",yf],["top-left",Qi(mf,yf)],["top-right",Qi(mf,bf)],["bottom-left",Qi(gf,yf)],["bottom-right",Qi(gf,bf)],["top-empty",d4],["right-empty",g4],["bottom-empty",p4],["left-empty",m4],["empty",y4]]);function l4(t){if(t==null)return null;const n=s4.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const Zl=new WeakMap;function Eu(t){let n=Zl.get(t);return n||Zl.set(t,n=new ve(bt(t,(e,r)=>[e,r]))),n}function ue(t,n){return Eu(t).get(n)}function h4(t,n,e){return n=ge(n),e=ge(e),t.find(r=>Object.is(ge(r.x),n)&&Object.is(ge(r.y),e))}function Ia(t,n,e){return h4(t,n,e)?.empty}function mf(t,{y:n},{y:e}){return n?ue(n,e)===0:!0}function gf(t,{y:n},{y:e}){return n?ue(n,e)===n.length-1:!0}function yf(t,{x:n},{x:e}){return n?ue(n,e)===0:!0}function bf(t,{x:n},{x:e}){return n?ue(n,e)===n.length-1:!0}function d4(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=ue(n,r);if(o>0)return Ia(t,e,n[o-1])}function p4(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=ue(n,r);if(o<n.length-1)return Ia(t,e,n[o+1])}function m4(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=ue(n,e);if(o>0)return Ia(t,n[o-1],r)}function g4(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=ue(n,e);if(o<n.length-1)return Ia(t,n[o+1],r)}function y4(t,n,{empty:e}){return e}function Qi(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function wf(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:o})=>r.get(i)?.get(o)??[]):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const vm=Math.PI,En=2*vm,jl=.618;function b4({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,u,c="frame";if(ae(t)){let _;if({type:t,domain:u,inset:_,insetTop:e=_!==void 0?_:e,insetRight:r=_!==void 0?_:r,insetBottom:i=_!==void 0?_:i,insetLeft:o=_!==void 0?_:o,clip:c=c,...f}=t,t==null)return}typeof t!="function"&&({type:t}=xm(t));const{width:s,height:l,marginLeft:h,marginRight:d,marginTop:p,marginBottom:m}=a,b=s-h-d-o-r,y=l-p-m-e-i;if(t=t?.({width:b,height:y,clip:c,...f}),t==null)return;c=w4(c,h,p,s-d,l-m);let g=h+o,v=p+e,w;if(u!=null){const[[_,M],[T,A]]=da(t).bounds(u),k=Math.min(b/(T-_),y/(A-M));k>0?(g-=(k*(_+T)-b)/2,v-=(k*(M+A)-y)/2,w=au({point(N,C){this.stream.point(N*k+g,C*k+v)}})):Qn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return w??=g===0&&v===0?Mm():au({point(_,M){this.stream.point(_+g,M+v)}}),{stream:_=>t.stream(w.stream(c(_)))}}function xm(t){switch(`${t}`.toLowerCase()){case"albers-usa":return nn(fv,.7463,.4673);case"albers":return Ji(Vd,.7463,.4673);case"azimuthal-equal-area":return nn(uv,4,4);case"azimuthal-equidistant":return nn(cv,En,En);case"conic-conformal":return Ji(lv,En,En);case"conic-equal-area":return Ji(Fo,6.1702,2.9781);case"conic-equidistant":return Ji(pv,7.312,3.6282);case"equal-earth":return nn(gv,5.4133,2.6347);case"equirectangular":return nn(hv,En,vm);case"gnomonic":return nn(yv,3.4641,3.4641);case"identity":return{type:Mm};case"reflect-y":return{type:_4};case"mercator":return nn(Qd,En,En);case"orthographic":return nn(bv,2,2);case"stereographic":return nn(wv,2,2);case"transverse-mercator":return nn(_v,En,En);default:throw new Error(`unknown projection type: ${t}`)}}function w4(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Ld(n,e,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function nn(t,n,e){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{const u=t();return a!=null&&u.precision?.(a),o!=null&&u.rotate?.(o),typeof f=="number"&&u.clipAngle?.(f),u.scale(Math.min(r/n,i/e)),u.translate([r/2,i/2]),u},aspectRatio:e/n}}function Ji(t,n,e){const{type:r,aspectRatio:i}=nn(t,n,e);return{type:o=>{const{parallels:a,domain:f,width:u,height:c}=o,s=r(o);return a!=null&&(s.parallels(a),f===void 0&&s.fitSize([u,c],{type:"Sphere"})),s},aspectRatio:i}}const Mm=Ai({stream:t=>t}),_4=Ai(au({point(t,n){this.stream.point(t,-n)}}));function v4(t,n,e,r){const i=e[t],o=e[n],a=i.length,f=e[t]=new Float64Array(a).fill(NaN),u=e[n]=new Float64Array(a).fill(NaN);let c;const s=r.stream({point(l,h){f[c]=l,u[c]=h}});for(c=0;c<a;++c)s.point(i[c],o[c])}function x4({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(ae(t)&&(t=t.type),t!=null)}function M4(t){if(typeof t?.stream=="function")return jl;if(ae(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:n}=xm(t);if(n)return n}return jl}}function $4(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},o={point(a,f){n.push(a),e.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)de(a,o);return[r,i]}function Gc(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:Yp(e)}}function At(t,{document:n}){return zt(fa(t).call(n.documentElement))}function T4(t){let n,e;return(...r)=>((e?.length!==r.length||e.some((i,o)=>i!==r[o]))&&(e=r,n=t(...r)),n)}const S4=T4(t=>new Intl.NumberFormat(t));function C4(t="en-US"){const n=S4(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function A4(t){return d5(t,"Invalid Date")}function E4(t="en-US"){const n=C4(t);return e=>(e instanceof Date?A4:typeof e=="number"?n:Lt)(e)}const lr=E4(),qt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let k4=0;function Kl(){return`plot-clip-${++k4}`}function N4(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:u,stroke:c,strokeWidth:s,strokeOpacity:l,strokeLinejoin:h,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:b,opacity:y,mixBlendMode:g,imageFilter:v,paintOrder:w,pointerEvents:_,shapeRendering:M,channels:T},{ariaLabel:A,fill:k="currentColor",fillOpacity:N,stroke:C="none",strokeOpacity:R,strokeWidth:O,strokeLinecap:x,strokeLinejoin:$,strokeMiterlimit:S,paintOrder:I}){k===null&&(f=null,u=null),C===null&&(c=null,l=null),Pt(k)?!Pt(C)&&(!Pt(f)||T?.fill)&&(C="none"):Pt(C)&&(!Pt(c)||T?.stroke)&&(k="none");const[F,E]=sn(f,k),[P,B]=Ut(u,N),[z,q]=sn(c,C),[G,X]=Ut(l,R),[Z,U]=Ut(y);fi(q)||(s===void 0&&(s=O),d===void 0&&(d=x),h===void 0&&(h=$),p===void 0&&!z5(h)&&(p=S),!fi(E)&&w===void 0&&(w=I));const[H,D]=Ut(s);return k!==null&&(t.fill=St(E,"currentColor"),t.fillOpacity=Cr(B,1)),C!==null&&(t.stroke=St(q,"none"),t.strokeWidth=Cr(D,1),t.strokeOpacity=Cr(X,1),t.strokeLinejoin=St(h,"miter"),t.strokeLinecap=St(d,"butt"),t.strokeMiterlimit=Cr(p,4),t.strokeDasharray=St(m,"none"),t.strokeDashoffset=St(b,"0")),t.target=Lt(a),t.ariaLabel=Lt(A),t.ariaDescription=Lt(i),t.ariaHidden=Lt(o),t.opacity=Cr(U,1),t.mixBlendMode=St(g,"normal"),t.imageFilter=St(v,"none"),t.paintOrder=St(w,"normal"),t.pointerEvents=St(_,"auto"),t.shapeRendering=St(M,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:F,scale:"auto",optional:!0},fillOpacity:{value:P,scale:"auto",optional:!0},stroke:{value:z,scale:"auto",optional:!0},strokeOpacity:{value:G,scale:"auto",optional:!0},strokeWidth:{value:H,optional:!0},opacity:{value:Z,scale:"auto",optional:!0}}}function L4(t,n){n&&t.filter(e=>Tc(n[e])).append("title").call(I4,n)}function D4(t,n){n&&t.filter(([e])=>Tc(n[e])).append("title").call(P4,n)}function I4(t,n){n&&t.text(e=>lr(n[e]))}function P4(t,n){n&&t.text(([e])=>lr(n[e]))}function Ie(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:s,href:l}){r&&j(t,"aria-label",h=>r[h]),o&&j(t,"fill",h=>o[h]),a&&j(t,"fill-opacity",h=>a[h]),f&&j(t,"stroke",h=>f[h]),u&&j(t,"stroke-opacity",h=>u[h]),c&&j(t,"stroke-width",h=>c[h]),s&&j(t,"opacity",h=>s[h]),l&&$m(t,h=>l[h],n),e||L4(t,i)}function F4(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:s,href:l}){r&&j(t,"aria-label",([h])=>r[h]),o&&j(t,"fill",([h])=>o[h]),a&&j(t,"fill-opacity",([h])=>a[h]),f&&j(t,"stroke",([h])=>f[h]),u&&j(t,"stroke-opacity",([h])=>u[h]),c&&j(t,"stroke-width",([h])=>c[h]),s&&j(t,"opacity",([h])=>s[h]),l&&$m(t,([h])=>l[h],n),e||D4(t,i)}function R4({ariaLabel:t,title:n,fill:e,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:f,href:u},{tip:c}){return[t,c?void 0:n,e,r,i,o,a,f,u].filter(s=>s!==void 0)}function O4(t,n,e){const r=oa(t,i=>n[i]);return e===void 0&&r.size>1+t.length>>1&&Qn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*z4(t,n,e,r){const{z:i}=e,{z:o}=r,a=R4(r,e),f=[...n,...a];for(const u of o?O4(t,o,i):[t]){let c,s;t:for(const l of u){for(const h of f)if(!ee(h[l])){s&&s.push(-1);continue t}if(c===void 0){s&&(yield s),c=a.map(h=>ge(h[l])),s=[l];continue}s.push(l);for(let h=0;h<a.length;++h)if(ge(a[h][l])!==c[h]){yield s,c=a.map(p=>ge(p[l])),s=[l];continue t}}s&&(yield s)}}function B4(t,n,e,r){let i;const{clip:o=r.clip}=n;switch(o){case"frame":{const{width:a,height:f,marginLeft:u,marginRight:c,marginTop:s,marginBottom:l}=e,h=Kl();i=`url(#${h})`,t=At("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",h).append("rect").attr("x",u).attr("y",s).attr("width",a-c-u).attr("height",f-s-l)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:a}=r;if(!a)throw new Error('the "sphere" clip option requires a projection');const f=Kl();i=`url(#${f})`,t.append("clipPath").attr("id",f).append("path").attr("d",da(a)({type:"Sphere"}));break}}j(t,"aria-label",n.ariaLabel),j(t,"aria-description",n.ariaDescription),j(t,"aria-hidden",n.ariaHidden),j(t,"clip-path",i)}function Yn(t,n,e,r){B4(t,n,e,r),j(t,"fill",n.fill),j(t,"fill-opacity",n.fillOpacity),j(t,"stroke",n.stroke),j(t,"stroke-width",n.strokeWidth),j(t,"stroke-opacity",n.strokeOpacity),j(t,"stroke-linejoin",n.strokeLinejoin),j(t,"stroke-linecap",n.strokeLinecap),j(t,"stroke-miterlimit",n.strokeMiterlimit),j(t,"stroke-dasharray",n.strokeDasharray),j(t,"stroke-dashoffset",n.strokeDashoffset),j(t,"shape-rendering",n.shapeRendering),j(t,"filter",n.imageFilter),j(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;j(t,"pointer-events",i)}function Wn(t,n){U4(t,"mix-blend-mode",n.mixBlendMode),j(t,"opacity",n.opacity)}function $m(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const o=this.ownerDocument.createElementNS(tr.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(tr.xlink,"href",i),e!=null&&o.setAttribute("target",e),this.parentNode.insertBefore(o,this).appendChild(this)}})}function j(t,n,e){e!=null&&t.attr(n,e)}function U4(t,n,e){e!=null&&t.style(n,e)}function Hn(t,n,{x:e,y:r},i=qt,o=qt){i+=n.dx,o+=n.dy,e?.bandwidth&&(i+=e.bandwidth()/2),r?.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function St(t,n){if((t=Lt(t))!==n)return t}function Cr(t,n){if((t=mt(t))!==n)return t}const q4=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Xc(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!q4.test(t))throw new Error(`invalid class name: ${t}`);return t}function Vc(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function Pa({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?n-i:(a+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-o:(r+e-o)/2]}class tn{constructor(n,e={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:u,sort:c,dx:s=0,dy:l=0,margin:h=0,marginTop:d=h,marginRight:p=h,marginBottom:m=h,marginLeft:b=h,clip:y=i?.clip,channels:g,tip:v,render:w}=r;if(this.data=n,this.sort=ai(c)?c:null,this.initializer=Qo(r).initializer,this.transform=this.initializer?r.transform:ka(r).transform,o===null||o===!1?this.facet=null:(this.facet=hn(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=n===ho&&typeof f=="string"?[f]:f,this.fy=n===ho&&typeof u=="string"?[u]:u),this.facetAnchor=l4(a),e=qp(e),g!==void 0&&(e={...Y4(g),...e}),i!==void 0&&(e={...N4(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([_,M])=>{if(Lc(M.value)){const{value:T,label:A=M.label,scale:k=M.scale}=M.value;M={...M,label:A,scale:k,value:T}}if(n===ho&&typeof M.value=="string"){const{value:T}=M;M={...M,value:[T]}}return[_,M]}).filter(([_,{value:M,optional:T}])=>{if(M!=null)return!0;if(T)return!1;throw new Error(`missing channel value: ${_}`)})),this.dx=+s,this.dy=+l,this.marginTop=+d,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+b,this.clip=Yp(y),this.tip=W4(v),this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(const _ in this.channels){const{scale:M}=e[_];if(!(M!=="x"&&M!=="y"))throw new Error("super-faceting cannot use x or y")}}w!=null&&(this.render=Sm(w,this.render))}initialize(n,e,r){let i=Ht(this.data);n===void 0&&i!=null&&(n=[Un(i)]);const o=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=Ht(i)),n!==void 0&&(n.original=o);const a=c8(this.channels,i);return this.sort!=null&&l8(i,n,a,e,this.sort),{data:i,facets:n,channels:a}}filter(n,e,r){for(const i in e){const{filter:o=ee}=e[i];if(o!==null){const a=r[i];n=n.filter(f=>o(a[f]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in n&&n[o].scale==="y"&&v4(i,o,e,r.projection)}}scale(n,e,r){const i=s8(n,e);return r.projection&&this.project(n,i,r),i}}function Tm(...t){return t.plot=tn.prototype.plot,t}function Sm(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,o,a,f){return t.call(this,e,r,i,o,a,(u,c,s,l,h)=>n.call(this,u,c,s,l,h,f))}}function Y4(t){return Object.fromEntries(Object.entries(qp(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:Ei(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function W4(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?hn(t,"tip",["x","y","xy"]):t}function Pi(t,n){return t?.tip===!0?{...t,tip:n}:ae(t?.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}function H4(t,n,e={}){let r=.5-qt,i=.5+qt,o=.5+qt,a=.5-qt;for(const{marginTop:m,marginRight:b,marginBottom:y,marginLeft:g}of n)m>r&&(r=m),b>i&&(i=b),y>o&&(o=y),g>a&&(a=g);let{margin:f,marginTop:u=f!==void 0?f:r,marginRight:c=f!==void 0?f:i,marginBottom:s=f!==void 0?f:o,marginLeft:l=f!==void 0?f:a}=e;u=+u,c=+c,s=+s,l=+l;let{width:h=640,height:d=G4(t,e,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,u-r+s-o)}=e;h=+h,d=+d;const p={width:h,height:d,marginTop:u,marginRight:c,marginBottom:s,marginLeft:l};if(t.fx||t.fy){let{margin:m,marginTop:b=m!==void 0?m:u,marginRight:y=m!==void 0?m:c,marginBottom:g=m!==void 0?m:s,marginLeft:v=m!==void 0?m:l}=e.facet??{};b=+b,y=+y,g=+g,v=+v,p.facet={marginTop:b,marginRight:y,marginBottom:g,marginLeft:v}}return p}function G4({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:c,marginLeftDefault:s}){const l=e?e.scale.domain().length:1,h=M4(i);if(h){const p=r?r.scale.domain().length:1,m=(1.1*l-.1)/(1.1*p-.1)*h,b=Math.max(.1,Math.min(10,m));return Math.round((a-s-u)*b+f+c)}const d=n?De(n)?n.scale.domain().length:Math.max(7,17/l):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=Ql("y",n)/(Ql("x",t)*o),m=r?r.scale.bandwidth():1,b=e?e.scale.bandwidth():1,y=m*(a-s-u)-t.insetLeft-t.insetRight;return(p*y+n.insetTop+n.insetBottom)/b+f+c}return!!(n||e)*Math.max(1,Math.min(60,d*l))*20+!!r*30+60}function Ql(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=n.scale.exponent();i=u=>Math.pow(u,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[o,a]=Bt(r);return Math.abs(i(a)-i(o))}const Jl=new WeakMap;function Zc(t,n,{x:e,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:u,...c}={}){return a=+a,i!=null&&(e??=null,f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??=null,f={...f,py:{value:o,scale:"y"}}),{x:e,y:r,channels:f,...c,render:Sm(function(s,l,h,d,p,m){p={...p,pointerSticky:!1};const b=p.ownerSVGElement,{data:y}=p.getMarkState(this);let g=Jl.get(b);g||Jl.set(b,g={sticky:!1,roots:[],renders:[]});let v=g.renders.push(q)-1;const{x:w,y:_,fx:M,fy:T}=l;let A=M?M(s.fx)-d.marginLeft:0,k=T?T(s.fy)-d.marginTop:0;w?.bandwidth&&(A+=w.bandwidth()/2),_?.bandwidth&&(k+=_.bandwidth()/2);const N=s.fi!=null;let C;if(N){let U=g.facetStates;U||(g.facetStates=U=new Map),C=U.get(this),C||U.set(this,C=new Map)}const[R,O]=Pa(this,d),{px:x,py:$}=h,S=x?U=>x[U]:Cm(h,R),I=$?U=>$[U]:Am(h,O);let F,E,P,B;function z(U,H){if(N)if(B&&(B=cancelAnimationFrame(B)),U==null)C.delete(s.fi);else{C.set(s.fi,H),B=requestAnimationFrame(()=>{B=null;for(const[D,W]of C)if(W<H||W===H&&D<s.fi){U=null;break}q(U)});return}q(U)}function q(U){if(F===U&&P===g.sticky)return;F=U,P=p.pointerSticky=g.sticky;const H=F==null?[]:[F];N&&(H.fx=s.fx,H.fy=s.fy,H.fi=s.fi);const D=m(H,l,h,d,p);if(E){if(N){const W=E.parentNode,Y=E.getAttribute("transform"),L=D.getAttribute("transform");Y?D.setAttribute("transform",Y):D.removeAttribute("transform"),L?W.setAttribute("transform",L):W.removeAttribute("transform"),D.removeAttribute("aria-label"),D.removeAttribute("aria-description"),D.removeAttribute("aria-hidden")}E.replaceWith(D)}return g.roots[v]=E=D,F==null&&C?.size>1||p.dispatchValue(F==null?null:y[F]),D}function G(U){if(g.sticky||U.pointerType==="mouse"&&U.buttons===1)return;let[H,D]=Gn(U);H-=A,D-=k;const W=H<d.marginLeft||H>d.width-d.marginRight?1:t,Y=D<d.marginTop||D>d.height-d.marginBottom?1:n;let L=null,rt=a*a;for(const V of s){const ot=W*(S(V)-H),at=Y*(I(V)-D),ht=ot*ot+at*at;ht<=rt&&(L=V,rt=ht)}if(L!=null&&(t!==1||n!==1)){const V=S(L)-H,ot=I(L)-D;rt=V*V+ot*ot}z(L,rt)}function X(U){U.pointerType==="mouse"&&F!=null&&(g.sticky&&g.roots.some(H=>H?.contains(U.target))||(g.sticky?(g.sticky=!1,g.renders.forEach(H=>H(null))):(g.sticky=!0,q(F)),U.stopImmediatePropagation()))}function Z(U){U.pointerType==="mouse"&&(g.sticky||z(null))}return b.addEventListener("pointerenter",G),b.addEventListener("pointermove",G),b.addEventListener("pointerdown",X),b.addEventListener("pointerleave",Z),q(null)},u)}}function X4(t){return Zc(1,1,t)}function V4(t){return Zc(1,.01,t)}function th(t){return Zc(.01,1,t)}function Cm({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function Am({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function Em(t){return De(t)&&t.interval===void 0?void 0:"tabular-nums"}function Z4(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:u=16+r,marginLeft:c=0,style:s,ticks:l=(i-c-f)/64,tickFormat:h,fontVariant:d=Em(t),round:p=!0,opacity:m,className:b}=n;const y=Gc(n);b=Xc(b),m=Ut(m)[1],h===null&&(h=()=>null);const g=At("svg",y).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(R=>R.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(Vc,s);let v=R=>R.selectAll(".tick line").attr("y1",a+u-o),w;const _=p?(R,O)=>R.rangeRound(O):(R,O)=>R.range(O),{type:M,domain:T,range:A,interpolate:k,scale:N,pivot:C}=t;if(k){const R=A===void 0?k:sa(k.length===1?Yc(k):k,A);w=_(N.copy(),an(Et(c,i-f),Math.min(T.length+(C!==void 0),A===void 0?1/0:A.length)));const O=256,x=y.document.createElement("canvas");x.width=O,x.height=1;const $=x.getContext("2d");for(let S=0,I=O-1;S<O;++S)$.fillStyle=R(S/I),$.fillRect(S,0,1,1);g.append("image").attr("opacity",m).attr("x",c).attr("y",a).attr("width",i-c-f).attr("height",o-a-u).attr("preserveAspectRatio","none").attr("xlink:href",x.toDataURL())}else if(M==="threshold"){const R=T,O=h===void 0?x=>x:typeof h=="string"?pr(h):h;w=_(uc().domain([-1,A.length-1]),[c,i-f]),g.append("g").attr("fill-opacity",m).selectAll().data(A).enter().append("rect").attr("x",(x,$)=>w($-1)).attr("y",a).attr("width",(x,$)=>w($)-w($-1)).attr("height",o-a-u).attr("fill",x=>x),l=bt(R,(x,$)=>$),h=x=>O(R[x],x)}else w=_(ya().domain(T),[c,i-f]),g.append("g").attr("fill-opacity",m).selectAll().data(T).enter().append("rect").attr("x",w).attr("y",a).attr("width",Math.max(0,w.bandwidth()-1)).attr("height",o-a-u).attr("fill",N),v=()=>{};return g.append("g").attr("transform",`translate(0,${o-u})`).call(Sy(w).ticks(Array.isArray(l)?null:l,typeof h=="string"?h:void 0).tickFormat(typeof h=="function"?h:void 0).tickSize(r).tickValues(Array.isArray(l)?l:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",St(d,"normal")).call(v).call(R=>R.select(".domain").remove()),e!==void 0&&g.append("text").attr("x",c).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),g.node()}const km=Math.PI/180;function jc(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=_f(e),t.markerMid=_f(r),t.markerEnd=_f(i)}function _f(t){if(t==null||t===!1)return null;if(t===!0)return eh;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return nh("auto");case"arrow-reverse":return nh("auto-start-reverse");case"dot":return j4;case"circle":case"circle-fill":return eh;case"circle-stroke":return K4;case"tick":return vf("auto");case"tick-x":return vf(90);case"tick-y":return vf(0)}throw new Error(`invalid marker: ${t}`)}function nh(t){return(n,e)=>At("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function j4(t,n){return At("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function eh(t,n){return At("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function K4(t,n){return At("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function vf(t){return(n,e)=>At("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let Q4=0;function Kc(t,n,{stroke:e},r){return J4(t,n,e&&(i=>e[i]),r)}function J4(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},o=()=>i,a){const f=new Map;function u(c){return function(s){const l=o(s);let h=f.get(c);h||f.set(c,h=new Map);let d=h.get(l);if(!d){const p=this.parentNode.insertBefore(c(l,a),this),m=`plot-marker-${++Q4}`;p.setAttribute("id",m),h.set(l,d=`url(#${m})`)}return d}}n&&t.attr("marker-start",u(n)),e&&t.attr("marker-mid",u(e)),r&&t.attr("marker-end",u(r))}function Qc({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=Lm(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function Nm({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=Lm(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function Lm(t,n,e){return t===void 0&&n===void 0&&e===void 0?qt?[1,0]:[.5,.5]:[n,e]}function Dm(t,{interval:n}){return t={...Ei(t)},t.interval=Ic(t.interval===void 0?n:t.interval),t}function Im(t,n,e,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=e,{value:f,interval:u}=Dm(i,e);if(f==null||u==null&&!r)return e;const c=Le(i);if(u==null){let d;const p={transform:m=>d||(d=dt(m,f)),label:c};return{...e,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0&&!(o===a&&r)?p:a}}let s,l;function h(d){return l!==void 0&&d===s?l:l=bt(dt(s=d,f),p=>u.floor(p))}return n({...e,[t]:void 0,[`${t}1`]:o===void 0?{transform:h,label:c}:o,[`${t}2`]:a===void 0?{transform:d=>h(d).map(p=>u.offset(p)),label:c}:a})}function Pm(t,n,e){const{[t]:r}=e,{value:i,interval:o}=Dm(r,e);return i==null||o==null?e:n({...e,[t]:{label:Le(r),transform:a=>{const f=bt(dt(a,i),c=>o.floor(c)),u=f.map(c=>o.offset(c));return f.map(Ot(f)?(c,s)=>c==null||isNaN(c=+c)||(s=u[s],s==null)||isNaN(s=+s)?void 0:new Date((c+s)/2):(c,s)=>c==null||(s=u[s],s==null)?NaN:(+c+ +s)/2)}}})}function Fm(t={}){return Im("x",Qc,t)}function t7(t={}){return Im("y",Nm,t)}function n7(t={}){return Pm("x",Qc,t)}function e7(t={}){return Pm("y",Nm,t)}const Rm={ariaLabel:"rule",fill:null,stroke:"currentColor"};class r7 extends tn{constructor(n,e={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:u=a}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Pi(e,"x"),Rm),this.insetTop=mt(f),this.insetBottom=mt(u),jc(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:u,y1:c,y2:s}=r,{width:l,height:h,marginTop:d,marginRight:p,marginLeft:m,marginBottom:b}=i,{insetTop:y,insetBottom:g}=this;return At("svg:g",o).call(Yn,this,i,o).call(Hn,this,{x:u&&a},qt,0).call(v=>v.selectAll().data(n).enter().append("line").call(Wn,this).attr("x1",u?w=>u[w]:(m+l-p)/2).attr("x2",u?w=>u[w]:(m+l-p)/2).attr("y1",c&&!sr(f)?w=>c[w]+y:d+y).attr("y2",s&&!sr(f)?f.bandwidth?w=>s[w]+f.bandwidth()-g:w=>s[w]-g:h-b-g).call(Ie,this,r).call(Kc,this,r,o)).node()}}class i7 extends tn{constructor(n,e={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:u=a}=e;super(n,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Pi(e,"y"),Rm),this.insetRight=mt(f),this.insetLeft=mt(u),jc(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{y:u,x1:c,x2:s}=r,{width:l,height:h,marginTop:d,marginRight:p,marginLeft:m,marginBottom:b}=i,{insetLeft:y,insetRight:g}=this;return At("svg:g",o).call(Yn,this,i,o).call(Hn,this,{y:u&&f},0,qt).call(v=>v.selectAll().data(n).enter().append("line").call(Wn,this).attr("x1",c&&!sr(a)?w=>c[w]+y:m+y).attr("x2",s&&!sr(a)?a.bandwidth?w=>s[w]+a.bandwidth()-g:w=>s[w]-g:l-p-g).attr("y1",u?w=>u[w]:(d+h-b)/2).attr("y2",u?w=>u[w]:(d+h-b)/2).call(Ie,this,r).call(Kc,this,r,o)).node()}}function o7(t,n){let{x:e=Ct,y:r,y1:i,y2:o,...a}=t7(n);return[i,o]=Om(r,i,o),new r7(t,{...a,x:e,y1:i,y2:o})}function a7(t,n){let{y:e=Ct,x:r,x1:i,x2:o,...a}=Fm(n);return[i,o]=Om(r,i,o),new i7(t,{...a,y:e,x1:i,x2:o})}function Om(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function zm(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let o=0;o<e;++o)i+=n[o](r)+t[o+1];return i}}const f7={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Bm="";class Jc extends tn{constructor(n,e={}){const{x:r,y:i,text:o=fe(n)&&Up(n)?Ct:kc,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:u=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:c=1,lineWidth:s=1/0,textOverflow:l,monospace:h,fontFamily:d=h?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:b,fontWeight:y,rotate:g}=e,[v,w]=Ut(g,0),[_,M]=d7(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:_,optional:!0},rotate:{value:D5(v),optional:!0},text:{value:o,filter:Tc,optional:!0}},e,f7),this.rotate=w,this.textAnchor=St(f,"middle"),this.lineAnchor=hn(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+s,this.textOverflow=Um(l),this.monospace=!!h,this.fontFamily=Lt(d),this.fontSize=M,this.fontStyle=Lt(m),this.fontVariant=Lt(b),this.fontWeight=Lt(y),this.frameAnchor=Pc(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${s}`);this.splitLines=Wm(this),this.clipLine=Hm(this)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:u,y:c,rotate:s,text:l,title:h,fontSize:d}=r,{rotate:p}=this,[m,b]=Pa(this,i);return At("svg:g",o).call(Yn,this,i,o).call(Ym,this,l,i).call(Hn,this,{x:u&&a,y:c&&f}).call(y=>y.selectAll().data(n).enter().append("text").call(Wn,this).call(u7,this,l,h).attr("transform",zm`translate(${u?g=>u[g]:m},${c?g=>c[g]:b})${s?g=>` rotate(${s[g]})`:p?` rotate(${p})`:""}`).call(j,"font-size",d&&(g=>d[g])).call(Ie,this,r)).node()}}function Um(t){return t==null?null:hn(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function u7(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:u}=n;t.each(function(c){const s=f(lr(e[c])??"").map(u),l=s.length,h=i==="top"?.71:i==="bottom"?1-l:(164-l*100)/200;if(l>1){let d=0;for(let p=0;p<l;++p){if(++d,!s[p])continue;const m=this.ownerDocument.createElementNS(tr.svg,"tspan");m.setAttribute("x",0),p===d-1?m.setAttribute("y",`${(h+p)*o}em`):m.setAttribute("dy",`${d*o}em`),m.textContent=s[p],this.appendChild(m),d=0}}else h&&this.setAttribute("y",`${h*o}em`),this.textContent=s[0];if(a&&!r&&s[0]!==e[c]){const d=this.ownerDocument.createElementNS(tr.svg,"title");d.textContent=e[c],this.appendChild(d)}})}function qm(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=Op(n,e)),new Jc(t,{...r,x:n,y:e})}function c7(t,{x:n=Ct,...e}={}){return new Jc(t,e7({...e,x:n}))}function s7(t,{y:n=Ct,...e}={}){return new Jc(t,n7({...e,y:n}))}function Ym(t,n,e){j(t,"text-anchor",n.textAnchor),j(t,"font-family",n.fontFamily),j(t,"font-size",n.fontSize),j(t,"font-style",n.fontStyle),j(t,"font-variant",n.fontVariant===void 0?l7(e):n.fontVariant),j(t,"font-weight",n.fontWeight)}function l7(t){return t&&(F5(t)||Ot(t))?"tabular-nums":void 0}const h7=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function d7(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),h7.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function p7(t,n,e){const r=[];let i,o=0;for(const[a,f,u]of m7(t)){if(i===void 0&&(i=a),o>i&&e(t,i,f)>n&&(r.push(t.slice(i,o)+(t[o-1]===Bm?"-":"")),i=a),u){r.push(t.slice(i,f)),i=void 0;continue}o=f}return r}function*m7(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case Bm:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const rh={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function ts(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=br(t,i))r+=rh[t[i]]??(Xm(t,i)?120:rh.e);return r}function ns(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=br(t,i))r+=Xm(t,i)?126:63;return r}function Wm({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?ns:ts,i=n*100;return o=>p7(o,i,r)}function Hm({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return o=>o;const r=t?ns:ts,i=n*100;switch(e){case"clip-start":return o=>oh(o,i,r,"");case"clip-end":return o=>ih(o,i,r,"");case"ellipsis-start":return o=>oh(o,i,r,Qe);case"ellipsis-middle":return o=>g7(o,i,r,Qe);case"ellipsis-end":return o=>ih(o,i,r,Qe)}}const Qe="";function hr(t,n,e,r){const i=[];let o=0;for(let a=0,f=0,u=t.length;a<u;a=f){f=br(t,a);const c=e(t,a,f);if(o+c>n){for(o+=r;o>n&&a>0;)f=a,a=i.pop(),o-=e(t,a,f);return[a,n-o]}o+=c,i.push(a)}return[-1,0]}function ih(t,n,e,r){t=t.trim();const i=e(r),[o]=hr(t,n,e,i);return o<0?t:t.slice(0,o).trimEnd()+r}function g7(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r)/2,[a,f]=hr(t,n/2,e,o),[u]=hr(t,i-n/2-f+o,e,-o);return u<0?r:t.slice(0,a).trimEnd()+r+t.slice(br(t,u)).trimStart()}function oh(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r),[a]=hr(t,i-n+o,e,-o);return a<0?r:r+t.slice(br(t,a)).trimStart()}const ku=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,ah=/\p{Extended_Pictographic}/uy;function br(t,n){return n+=y7(t,n)?2:1,w7(t,n)&&(n=ku.lastIndex),b7(t,n)?br(t,n+1):n}function Gm(t,n){return t.charCodeAt(n)<128}function y7(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function b7(t,n){return t.charCodeAt(n)===8205}function w7(t,n){return Gm(t,n)?!1:(ku.lastIndex=n,ku.test(t))}function Xm(t,n){return Gm(t,n)?!1:(ah.lastIndex=n,ah.test(t))}const _7={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Vm=3.5,v7=Vm*5,Zm={draw(t,n,e){const r=n*e/v7;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},x7={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},M7=new Map([["arrow",Zm],["spike",x7]]);function $7(t){return t&&typeof t.draw=="function"}function T7(t){if($7(t))return t;const n=M7.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class jm extends tn{constructor(n,e={}){const{x:r,y:i,r:o=Vm,length:a,rotate:f,shape:u=Zm,anchor:c="middle",frameAnchor:s}=e,[l,h]=Ut(a,12),[d,p]=Ut(f,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:l,scale:"length",optional:!0},rotate:{value:d,optional:!0}},e,_7),this.r=+o,this.length=h,this.rotate=p,this.shape=T7(u),this.anchor=hn(c,"anchor",["start","middle","end"]),this.frameAnchor=Pc(s)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:u,y:c,length:s,rotate:l}=r,{length:h,rotate:d,anchor:p,shape:m,r:b}=this,[y,g]=Pa(this,i);return At("svg:g",o).call(Yn,this,i,o).call(Hn,this,{x:u&&a,y:c&&f}).call(v=>v.selectAll().data(n).enter().append("path").call(Wn,this).attr("transform",zm`translate(${u?w=>u[w]:y},${c?w=>c[w]:g})${l?w=>` rotate(${l[w]})`:d?` rotate(${d})`:""}${p==="start"?"":p==="end"?s?w=>` translate(0,${s[w]})`:` translate(0,${h})`:s?w=>` translate(0,${s[w]/2})`:` translate(0,${h/2})`}`).attr("d",s?w=>{const _=To();return m.draw(_,s[w],b),_}:(()=>{const w=To();return m.draw(w,h,b),w})()).call(Ie,this,r)).node()}}function S7(t,n={}){const{x:e=Ct,...r}=n;return new jm(t,{...r,x:e})}function C7(t,n={}){const{y:e=Ct,...r}=n;return new jm(t,{...r,y:e})}function ce(t,n){return arguments.length<2&&!fe(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function Fa({anchor:t}={},n){return t===void 0?n[0]:hn(t,"anchor",n)}function Km(t){return Fa(t,["left","right"])}function Qm(t){return Fa(t,["right","left"])}function Jm(t){return Fa(t,["bottom","top"])}function tg(t){return Fa(t,["top","bottom"])}function ng(){const[t,n]=ce(...arguments);return rg("y",Km(n),t,n)}function A7(){const[t,n]=ce(...arguments);return rg("fy",Qm(n),t,n)}function eg(){const[t,n]=ce(...arguments);return ig("x",Jm(n),t,n)}function E7(){const[t,n]=ce(...arguments);return ig("fx",tg(n),t,n)}function rg(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:s,textStroke:l,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=t==="y"?6:0,tickPadding:m,tickRotate:b,x:y,margin:g,marginTop:v=g===void 0?20:g,marginRight:w=g===void 0?n==="right"?40:0:g,marginBottom:_=g===void 0?20:g,marginLeft:M=g===void 0?n==="left"?40:0:g,label:T,labelAnchor:A,labelArrow:k,labelOffset:N,...C}){return p=mt(p),m=mt(m),b=mt(b),A!==void 0&&(A=hn(A,"labelAnchor",["center","top","bottom"])),k=hg(k),Tm(p&&!Pt(o)?k7(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:b,x:y,...C}):null,Pt(u)?null:L7(t,n,e,{fill:u,fillOpacity:c,stroke:l,strokeOpacity:h,strokeWidth:d,textAnchor:s,tickSize:p,tickPadding:m,tickRotate:b,x:y,marginTop:v,marginRight:w,marginBottom:_,marginLeft:M,...C}),!Pt(u)&&T!==null?qm([],ug({fill:u,fillOpacity:c,...C},function(R,O,x,$,S){const I=$[t],{marginTop:F,marginRight:E,marginBottom:P,marginLeft:B}=t==="y"&&S.inset||S,z=A??(I.bandwidth?"center":"top"),q=N??(n==="right"?E:B)-3;return z==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=z,this.frameAnchor=`${z}-${n}`,this.rotate=0),this.dy=z==="top"?3-F:z==="bottom"?P-3:0,this.dx=n==="right"?q:-q,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[lg(t,I,{anchor:n,label:T,labelAnchor:z,labelArrow:k})]}}}})):null)}function ig(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:s,textStroke:l,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=t==="x"?6:0,tickPadding:m,tickRotate:b,y,margin:g,marginTop:v=g===void 0?n==="top"?30:0:g,marginRight:w=g===void 0?20:g,marginBottom:_=g===void 0?n==="bottom"?30:0:g,marginLeft:M=g===void 0?20:g,label:T,labelAnchor:A,labelArrow:k,labelOffset:N,...C}){return p=mt(p),m=mt(m),b=mt(b),A!==void 0&&(A=hn(A,"labelAnchor",["center","left","right"])),k=hg(k),Tm(p&&!Pt(o)?N7(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:b,y,...C}):null,Pt(u)?null:D7(t,n,e,{fill:u,fillOpacity:c,stroke:l,strokeOpacity:h,strokeWidth:d,textAnchor:s,tickSize:p,tickPadding:m,tickRotate:b,y,marginTop:v,marginRight:w,marginBottom:_,marginLeft:M,...C}),!Pt(u)&&T!==null?qm([],ug({fill:u,fillOpacity:c,...C},function(R,O,x,$,S){const I=$[t],{marginTop:F,marginRight:E,marginBottom:P,marginLeft:B}=t==="x"&&S.inset||S,z=A??(I.bandwidth?"center":"right"),q=N??(n==="top"?F:P)-3;return z==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${z}`,this.textAnchor=z==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-q:q,this.dx=z==="right"?E-3:z==="left"?3-B:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[lg(t,I,{anchor:n,label:T,labelAnchor:z,labelArrow:k})]}}}})):null)}function k7(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="y"?"-empty":""),frameAnchor:f=n,tickSize:u,inset:c=0,insetLeft:s=c,insetRight:l=c,dx:h=0,y:d=t==="y"?void 0:null,...p}){return wr(C7,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:d,...p,dx:n==="left"?+h-qt+ +s:+h+qt-l,anchor:"start",length:u,shape:n==="left"?U7:q7})}function N7(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="x"?"-empty":""),frameAnchor:f=n,tickSize:u,inset:c=0,insetTop:s=c,insetBottom:l=c,dy:h=0,x:d=t==="x"?void 0:null,...p}){return wr(S7,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:d,...p,dy:n==="bottom"?+h-qt-l:+h+qt+ +s,anchor:"start",length:u,shape:n==="bottom"?z7:B7})}function L7(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*km):0),text:u,textAnchor:c=Math.abs(a)>60?"middle":n==="left"?"end":"start",lineAnchor:s=a>60?"top":a<-60?"bottom":"middle",fontVariant:l,inset:h=0,insetLeft:d=h,insetRight:p=h,dx:m=0,y:b=t==="y"?void 0:null,...y}){return wr(s7,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u,textAnchor:c,lineAnchor:s,fontVariant:l,rotate:a,y:b,...y,dx:n==="left"?+m-o-f+ +d:+m+ +o+ +f-p},function(g,v,w,_,M){l===void 0&&(this.fontVariant=sg(g)),u===void 0&&(M.text=cg(g,v,w,_,n))})}function D7(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*km):0),text:u,textAnchor:c=Math.abs(a)>=10?a<0^n==="bottom"?"start":"end":"middle",lineAnchor:s=Math.abs(a)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:l,inset:h=0,insetTop:d=h,insetBottom:p=h,dy:m=0,x:b=t==="x"?void 0:null,...y}){return wr(c7,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:s,fontVariant:l,rotate:a,x:b,...y,dy:n==="bottom"?+m+ +o+ +f-p:+m-o-f+ +d},function(g,v,w,_,M){l===void 0&&(this.fontVariant=sg(g)),u===void 0&&(M.text=cg(g,v,w,_,n))})}function I7(){const[t,n]=ce(...arguments);return og("y",Km(n),t,n)}function P7(){const[t,n]=ce(...arguments);return og("fy",Qm(n),t,n)}function F7(){const[t,n]=ce(...arguments);return ag("x",Jm(n),t,n)}function R7(){const[t,n]=ce(...arguments);return ag("fx",tg(n),t,n)}function og(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:o=n==="left"?i:null,x2:a=n==="right"?i:null,...f}){return wr(a7,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:o,x2:a,...fg(f)})}function ag(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:o=n==="top"?i:null,y2:a=n==="bottom"?i:null,...f}){return wr(o7,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:o,y2:a,...fg(f)})}function fg({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...o}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...o}}function ug({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:c,clip:s=!1},l){return[,t]=sn(t),[,n]=Ut(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:c,clip:s,initializer:l}}function wr(t,n,e,r,i,o){let a;function f(s,l,h,d,p,m){const b=s==null&&(n==="fx"||n==="fy"),{[n]:y}=d;if(!y)throw new Error(`missing scale: ${n}`);const g=y.domain();let{interval:v,ticks:w,tickFormat:_,tickSpacing:M=n==="x"?80:35}=i;if(typeof w=="string"&&dg(y)&&(v=w,w=void 0),w===void 0&&(w=yr(v,y.type)??O7(y,M)),s==null){if(fe(w))s=Ht(w);else if(Ge(w))s=xf(w,...Bt(g));else if(y.interval){let A=y.interval;if(y.ticks){const[k,N]=Bt(g),C=(N-k)/A[Ci];A=El(A,C/w)??A,s=xf(A,k,N)}else{s=g;const k=s.length;A=El(A,k/w)??A,A!==y.interval&&(s=xf(A,...Bt(s)))}if(A===y.interval){const k=Math.round(s.length/w);k>1&&(s=s.filter((N,C)=>C%k===0))}}else y.ticks?s=y.ticks(w):s=g;if(!y.ticks&&s.length&&s!==g){const A=new ia(g);s=s.filter(k=>A.has(k)),s.length||Qn(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?l=[Un(s)]:a[n]={scale:n,value:Ct}}o?.call(this,y,s,w,_,a);const T=Object.fromEntries(Object.entries(a).map(([A,k])=>[A,{...k,value:dt(s,k.value)}]));return b&&(l=m.filterFacets(s,T)),{data:s,facets:l,channels:T}}const u=Qo(i).initializer,c=t(e,Qo({...i,initializer:f},u));return e==null?(a=c.channels,c.channels={}):a={},r!==void 0&&Object.assign(c,r),c.clip===void 0&&(c.clip=!1),c}function O7(t,n){const[e,r]=Bt(t.range());return(r-e)/n}function cg(t,n,e,r,i){return{value:es(t,n,e,r,i)}}function es(t,n,e,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&n&&Ot(n)?w5(t.type,n,i)??lr:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):r===void 0?lr:typeof r=="string"?(Ot(t.domain())?$i:pr)(r):Ai(r)}function xf(t,n,e){return t.range(n,t.offset(t.floor(e)))}const z7={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},B7={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},U7={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},q7={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function sg(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function lg(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&dg(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!n.bandwidth||n.interval)&&!/[]/.test(r)),!o)return r;if(o===!0){const a=Q8(n);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return` ${r}`;case"right":return`${r} `;case"up":return e==="right"?`${r} `:` ${r}`;case"down":return e==="right"?`${r} `:` ${r}`}return r}}function hg(t="auto"){return Pt(t)?!1:typeof t=="boolean"?t:hn(t,"labelArrow",["auto","up","right","down","left"])}function dg(t){return Ot(t.domain())}function fh(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function Y7(t,{opacity:n,...e}={}){if(!De(t)&&!_m(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return pg(t,e,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Ut(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function W7(t,{fill:n=t.hint?.fill!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=t.hint?.stroke!==void 0?t.hint.stroke:Pt(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},u){const[c,s]=sn(n),[l,h]=sn(r),d=fh(u,c),p=fh(u,l),m=a*a*Math.PI;return e=Ut(e)[1],i=Ut(i)[1],o=Ut(o)[1],pg(t,f,(b,y,g,v)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",g).attr("height",v).attr("fill",c==="color"?w=>d.scale(w):s).attr("fill-opacity",e).attr("stroke",l==="color"?w=>p.scale(w):h).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",w=>{const _=To();return t.scale(w).draw(_,m),_}))}function pg(t,n={},e){let{columns:r,tickFormat:i,fontVariant:o=Em(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:u=a,marginLeft:c=0,className:s,style:l,width:h}=n;const d=Gc(n);s=Xc(s),i=es(t.scale,t.domain,void 0,i);const p=At("div",d).attr("class",`${s}-swatches ${s}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`:where(.${s}-swatches-columns .${s}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${s}-swatches-columns .${s}-swatch::before) {
  flex-shrink: 0;
}
:where(.${s}-swatches-columns .${s}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${s}-swatch`).call(e,t,f,u).call(b=>b.append("div").attr("class",`${s}-swatch-label`).attr("title",i).text(i))):(m=`:where(.${s}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${s}-swatches-wrap .${s}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${s}-swatch`).call(e,t,f,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(b=>b.insert("style","*").text(`:where(.${s}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${s}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",c?`${+c}px`:null).style("width",h===void 0?null:`${+h}px`).style("font-variant",St(o,"normal")).call(Vc,l).node()}const Nu=new Map([["symbol",W7],["color",gg],["opacity",G7]]);function H7(t,n,e={}){return(r,i)=>{if(!Nu.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Nu.get(r)(t[r],mg(n,e[r],i),o=>t[o])}}function mg({className:t,...n},{label:e,ticks:r,tickFormat:i}={},o){return B5(o,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function gg(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return Y7(t,e);case"ramp":return Z4(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function G7({type:t,interpolate:n,...e},{legend:r=!0,color:i=te(0,0,0),...o}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return gg({type:t,...e,interpolate:X7(i)},{legend:r,...o})}function X7(t){const{r:n,g:e,b:r}=te(t)||te(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function V7(t,n,e){const r=[];for(const[i,o]of Nu){const a=e[i];if(a?.legend&&i in t){const f=o(t[i],mg(n,t[i],a),u=>t[u]);f!=null&&r.push(f)}}return r}const Z7={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},j7={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class K7 extends tn{constructor(n={}){const{anchor:e=null,inset:r=0,insetTop:i=r,insetRight:o=r,insetBottom:a=r,insetLeft:f=r,rx:u,ry:c}=n;super(ho,void 0,n,e==null?Z7:j7),this.anchor=Ip(e,"anchor",["top","right","bottom","left"]),this.insetTop=mt(i),this.insetRight=mt(o),this.insetBottom=mt(a),this.insetLeft=mt(f),this.rx=mt(u),this.ry=mt(c)}render(n,e,r,i,o){const{marginTop:a,marginRight:f,marginBottom:u,marginLeft:c,width:s,height:l}=i,{anchor:h,insetTop:d,insetRight:p,insetBottom:m,insetLeft:b,rx:y,ry:g}=this,v=c+b,w=s-f-p,_=a+d,M=l-u-m;return At(h?"svg:line":"svg:rect",o).datum(0).call(Yn,this,i,o).call(Wn,this).call(Ie,this,r).call(Hn,this,{}).call(h==="left"?T=>T.attr("x1",v).attr("x2",v).attr("y1",_).attr("y2",M):h==="right"?T=>T.attr("x1",w).attr("x2",w).attr("y1",_).attr("y2",M):h==="top"?T=>T.attr("x1",v).attr("x2",w).attr("y1",_).attr("y2",_):h==="bottom"?T=>T.attr("x1",v).attr("x2",w).attr("y1",M).attr("y2",M):T=>T.attr("x",v).attr("y",_).attr("width",w-v).attr("height",M-_).attr("rx",y).attr("ry",g)).node()}}function Q7(t){return new K7(t)}const Mf={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},J7=new Set(["geometry","href","src","ariaLabel","scales"]);class tx extends tn{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&fe(n)&&Up(n)&&(e={...e,title:Ct});const{x:r,y:i,x1:o,x2:a,y1:f,y2:u,anchor:c,preferredAnchor:s="bottom",monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:d,fontStyle:p,fontVariant:m,fontWeight:b,lineHeight:y=1,lineWidth:g=20,frameAnchor:v,format:w,textAnchor:_="start",textOverflow:M,textPadding:T=8,title:A,pointerSize:k=12,pathFilter:N="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:u,scale:"y",optional:f==null},title:{value:A,optional:!0}},e,Mf),this.anchor=$u(c,"anchor"),this.preferredAnchor=$u(s,"preferredAnchor"),this.frameAnchor=Pc(v),this.textAnchor=St(_,"middle"),this.textPadding=+T,this.pointerSize=+k,this.pathFilter=Lt(N),this.lineHeight=+y,this.lineWidth=+g,this.textOverflow=Um(M),this.monospace=!!l,this.fontFamily=Lt(h),this.fontSize=mt(d),this.fontStyle=Lt(p),this.fontVariant=Lt(m),this.fontWeight=Lt(b);for(const C in Mf)C in this.channels&&(this[C]=Mf[C]);this.splitLines=Wm(this),this.clipLine=Hm(this),this.format=typeof w=="string"||typeof w=="function"?{title:w}:{...w}}render(n,e,r,i,o){const a=this,{x:f,y:u,fx:c,fy:s}=e,{ownerSVGElement:l,document:h}=o,{anchor:d,monospace:p,lineHeight:m,lineWidth:b}=this,{textPadding:y,pointerSize:g,pathFilter:v}=this,{marginTop:w,marginLeft:_}=i,{x1:M,y1:T,x2:A,y2:k,x:N=M??A,y:C=T??k}=r,R=c?c(n.fx)-_:0,O=s?s(n.fy)-w:0,[x,$]=Pa(this,i),S=Cm(r,x),I=Am(r,$),F=p?ns:ts,E=F(Qe);let P,B;"title"in r?(P=uh.call(this,{title:r.channels.title},e),B=ox):(P=uh.call(this,r.channels,e),B=ax);const z=At("svg:g",o).call(Yn,this,i,o).call(Ym,this).call(Hn,this,{x:N&&f,y:C&&u}).call(X=>X.selectAll().data(n).enter().append("g").attr("transform",Z=>`translate(${Math.round(S(Z))},${Math.round(I(Z))})`).call(Wn,this).call(Z=>Z.append("path").attr("filter",v)).call(Z=>Z.append("text").each(function(U){const H=zt(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const D=B.call(a,U,n,P,e,r);if(typeof D=="string")for(const W of a.splitLines(D))q(H,{value:a.clipLine(W)});else{const W=new Set;for(const Y of D){const{label:L=""}=Y;L&&W.has(L)||(W.add(L),q(H,Y))}}})));function q(X,{label:Z,value:U,color:H,opacity:D}){Z??="",U??="";const W=H!=null||D!=null;let Y,L=b*100;const[rt]=hr(Z,L,F,E);if(rt>=0)Z=Z.slice(0,rt).trimEnd()+Qe,Y=U.trim(),U="";else{(Z||!U&&!W)&&(U=" "+U);const[ot]=hr(U,L-F(Z),F,E);ot>=0&&(Y=U.trim(),U=U.slice(0,ot).trimEnd()+Qe)}const V=X.append("tspan").attr("x",0).attr("dy",`${m}em`).text("");Z&&V.append("tspan").attr("font-weight","bold").text(Z),U&&V.append(()=>h.createTextNode(U)),W&&V.append("tspan").text(" ").attr("fill",H).attr("fill-opacity",D).style("user-select","none"),Y&&V.append("title").text(Y)}function G(){const{width:X,height:Z}=i.facet??i;z.selectChildren().each(function(U){let{x:H,width:D,height:W}=this.getBBox();D=Math.round(D),W=Math.round(W);let Y=d;if(Y===void 0){const V=S(U)+R,ot=I(U)+O,at=V+D+g+y*2<X,ht=V-D-g-y*2>0,dn=ot+W+g+y*2<Z,se=ot-W-g-y*2>0;Y=at&&ht?dn&&se?a.preferredAnchor:se?"bottom":"top":dn&&se?at?"left":"right":(at||ht)&&(dn||se)?`${se?"bottom":"top"}-${at?"left":"right"}`:a.preferredAnchor}const L=this.firstChild,rt=this.lastChild;if(L.setAttribute("d",ix(Y,g,y,D,W)),H)for(const V of rt.childNodes)V.setAttribute("x",-H);rt.setAttribute("y",`${+ex(Y,rt.childNodes.length,m).toFixed(6)}em`),rt.setAttribute("transform",`translate(${rx(Y,g,y,D,W)})`)}),z.attr("visibility",null)}return n.length&&(z.attr("visibility","hidden"),l.isConnected?Promise.resolve().then(G):typeof requestAnimationFrame<"u"&&requestAnimationFrame(G)),z.node()}}function nx(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=Op(n,e)),new tx(t,{...r,x:n,y:e})}function ex(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function rx(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function ix(t,n,e,r,i){const o=r+e*2,a=i+e*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}function uh(t,n){const e={};let r=this.format;r=ch(r,t,"x"),r=ch(r,t,"y"),this.format=r;for(const i in r){const o=r[i];if(!(o===null||o===!1))if(i==="fx"||i==="fy")e[i]=!0;else{const a=Rl(t,i);a&&(e[i]=a)}}for(const i in t){if(i in e||i in r||J7.has(i))continue;const o=Rl(t,i);o&&(e[i]=o)}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const i in e){const o=this.format[i];if(typeof o=="string"){const a=e[i]?.value??n[i]?.domain()??[];this.format[i]=(Ot(a)?$i:pr)(o)}else if(o===void 0||o===!0){const a=n[i];this.format[i]=a?.bandwidth?es(a,a.domain()):lr}}return e}function ch(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const o=Object.entries(t),a=t[e];return o.splice(o.findIndex(([f])=>f===e)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function ox(t,n,{title:e}){return this.format.title(e.value[t],t)}function*ax(t,n,e,r,i){for(const o in e){if(o==="fx"||o==="fy"){yield{label:ta(r,e,o),value:this.format[o](n[o],t)};continue}if(o==="x1"&&"x2"in e||o==="y1"&&"y2"in e)continue;const a=e[o];if(o==="x2"&&"x1"in e)yield{label:lh(r,e,"x"),value:sh(this.format.x2,e.x1,a,t)};else if(o==="y2"&&"y1"in e)yield{label:lh(r,e,"y"),value:sh(this.format.y2,e.y1,a,t)};else{const f=a.value[t],u=a.scale;if(!ee(f)&&u==null)continue;yield{label:ta(r,e,o),value:this.format[o](f,t),color:u==="color"?i[o][t]:null,opacity:u==="opacity"?i[o][t]:null}}}}function sh(t,n,e,r){return e.hint?.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}${t(e.value[r],r)}`}function lh(t,n,e){const r=ta(t,n,`${e}1`,e),i=ta(t,n,`${e}2`,e);return r===i?r:`${r}${i}`}function ta(t,n,e,r=e){const i=n[e],o=t[i?.scale??e];return String(o?.label??i?.label??r)}function zr(t={}){const{facet:n,style:e,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=t,u=Xc(t.className),c=t.marks===void 0?[]:dh(t.marks);c.push(...dx(c));const s=lx(n,t),l=new Map;for(const E of c){const P=ph(E,s,t);P&&l.set(E,P)}const h=new Map;s&&Ar(h,[s],t),Ar(h,l,t);const d=dh(px(c,h,t));for(const E of d){const P=ph(E,s,t);P&&l.set(E,P)}c.unshift(...d);let p=a4(h,t);if(p!==void 0){const E=s?wf(p,s):void 0;for(const B of c){if(B.facet===null||B.facet==="super")continue;const z=l.get(B);z!==void 0&&(z.facetsIndex=B.fx!=null||B.fy!=null?wf(p,z):E)}const P=new Set;for(const{facetsIndex:B}of l.values())B?.forEach((z,q)=>{z?.length>0&&P.add(q)});p.forEach(0<P.size&&P.size<p.length?(B,z)=>B.empty=!P.has(z):B=>B.empty=!1);for(const B of c)if(B.facet==="exclude"){const z=l.get(B);z!==void 0&&(z.facetsIndex=c4(z.facetsIndex))}}for(const E of yt.keys())Mu(t[E])&&E!=="fx"&&E!=="fy"&&h.set(E,[]);const m=new Map;for(const E of c){if(m.has(E))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:P,channels:B}=l.get(E)??{},{data:z,facets:q,channels:G}=E.initialize(P,B,t);rs(G,t),m.set(E,{data:z,facets:q,channels:G})}const b=Au(Ar(h,m,t),t),y=H4(b,c,t);j8(b,y);const g=Wl(b),{fx:v,fy:w}=g,_=v||w?ym(b,y):y,M=v||w?vx(g,y):y,T=Gc(t),A=T.document,k=fa("svg").call(A.documentElement);let N=k;T.ownerSVGElement=k,T.className=u,T.projection=b4(t,_),T.filterFacets=(E,P)=>wf(p,{channels:P,groups:Hc(E,P)}),T.getMarkState=E=>{const P=m.get(E),B=l.get(E);return{...P,channels:{...P.channels,...B?.channels}}},T.dispatchValue=E=>{N.value!==E&&(N.value=E,N.dispatchEvent(new Event("input",{bubbles:!0})))};const C=new Set;for(const[E,P]of m)if(E.initializer!=null){const B=E.facet==="super"?M:_,z=E.initializer(P.data,P.facets,P.channels,g,B,T);if(z.data!==void 0&&(P.data=z.data),z.facets!==void 0&&(P.facets=z.facets),z.channels!==void 0){const{fx:q,fy:G,...X}=z.channels;sx(X),Object.assign(P.channels,X);for(const Z of Object.values(X)){const{scale:U}=Z;U!=null&&!q5(yt.get(U))&&(yg(Z,t),C.add(U))}(q!=null||G!=null)&&l.set(E,!0)}}if(C.size){const E=new Map;Ar(E,m,t,q=>C.has(q)),Ar(h,m,t,q=>C.has(q));const P=_x(Au(E,t),b),{scales:B,...z}=Wl(P);Object.assign(b,P),Object.assign(g,z),Object.assign(g.scales,B)}let R,O;p!==void 0&&(R={x:v?.domain(),y:w?.domain()},p=f4(p,R),O=u4(v,w,y));for(const[E,P]of m)P.values=E.scale(P.channels,g,T);const{width:x,height:$}=y;zt(k).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",x).attr("height",$).attr("viewBox",`0 0 ${x} ${$}`).attr("aria-label",a).attr("aria-description",f).call(E=>E.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(Vc,e);for(const E of c){const{channels:P,values:B,facets:z}=m.get(E);if(p===void 0||E.facet==="super"){let q=null;if(z&&(q=z[0],q=E.filter(q,P,B),q.length===0))continue;const G=E.render(q,g,B,M,T);if(G==null)continue;k.appendChild(G)}else{let q;for(const G of p){if(!(E.facetAnchor?.(p,R,G)??!G.empty))continue;let X=null;if(z){const U=l.has(E);if(X=z[U?G.i:0],X=E.filter(X,P,B),X.length===0)continue;!U&&X===z[0]&&(X=A5(X)),X.fx=G.x,X.fy=G.y,X.fi=G.i}const Z=E.render(X,g,B,_,T);if(Z!=null){(q??=zt(k).append("g")).append(()=>Z).datum(G);for(const U of["aria-label","aria-description","aria-hidden","transform"])Z.hasAttribute(U)&&(q.attr(U,Z.getAttribute(U)),Z.removeAttribute(U))}}q?.selectChildren().attr("transform",O)}}const S=V7(b,T,t),{figure:I=r!=null||i!=null||o!=null||S.length>0}=t;I&&(N=A.createElement("figure"),N.className=`${u}-figure`,N.style.maxWidth="initial",r!=null&&N.append(hh(A,r,"h2")),i!=null&&N.append(hh(A,i,"h3")),N.append(...S,k),o!=null&&N.append(fx(A,o)),"value"in k&&(N.value=k.value,delete k.value)),N.scale=i4(g.scales),N.legend=H7(b,T,t);const F=D8();return F>0&&zt(k).append("text").attr("x",x).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${F.toLocaleString("en-US")} warning${F===1?"":"s"}. Please check the console.`),N}function hh(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function fx(t,n){const e=t.createElement("figcaption");return e.append(n),e}function dh(t){return t.flat(1/0).filter(n=>n!=null).map(ux)}function ux(t){return typeof t.render=="function"?t:new cx(t)}class cx extends tn{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function rs(t,n){for(const e in t)yg(t[e],n);return t}function yg(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?u=>u==null?NaN:u*100:Bp(a,i)}=n[e]??{};f!=null&&(t.value=bt(t.value,f),t.transform=!1)}function sx(t){for(const n in t)rm(n,t[n])}function Ar(t,n,e,r=$5){for(const{channels:i}of n.values())for(const o in i){const a=i[o],{scale:f}=a;if(f!=null&&r(f))if(f==="projection"){if(!x4(e)){const u=e.x?.domain===void 0,c=e.y?.domain===void 0;if(u||c){const[s,l]=$4(a);u&&$f(t,"x",s),c&&$f(t,"y",l)}}}else $f(t,f,a)}return t}function $f(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function lx(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=Ht(t.data);if(i==null)throw new Error("missing facet data");const o={};e!=null&&(o.fx=ui(i,{value:e,scale:"fx"})),r!=null&&(o.fy=ui(i,{value:r,scale:"fy"})),rs(o,n);const a=Hc(i,o);return{channels:o,groups:a,data:t.data}}function ph(t,n,e){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const u=Ht(t.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(u===null)return;const c={};return r!=null&&(c.fx=ui(u,{value:r,scale:"fx"})),i!=null&&(c.fy=ui(u,{value:i,scale:"fy"})),rs(c,e),{channels:c,groups:Hc(u,c)}}if(n===void 0)return;const{channels:o,groups:a,data:f}=n;if(t.facet!=="auto"||t.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&Ht(t.data)?.length===f.length&&Qn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function hx(t,n={}){return Qo({...n,x:null,y:null},(e,r,i,o,a,f)=>f.getMarkState(t))}function dx(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?V4:/^y$/i.test(i)?th:X4,r=i(hx(e,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===th?"left":"bottom");const a=nx(e.data,r);a.facet=e.facet,a.facetAnchor=e.facetAnchor,n.push(a)}}return n}function px(t,n,e){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:u,grid:c,facet:s={},facet:{axis:l=u,grid:h}=s,x:{axis:d=u,grid:p=d===null?null:c}=i,y:{axis:m=u,grid:b=m===null?null:c}=o,fx:{axis:y=l,grid:g=y===null?null:h}=a,fy:{axis:v=l,grid:w=v===null?null:h}=f}=e;(r||!Mu(i)&&!mh("x",t))&&(d=p=null),(r||!Mu(o)&&!mh("y",t))&&(m=b=null),n.has("fx")||(y=g=null),n.has("fy")||(v=w=null),d===void 0&&(d=!eo(t,"x")),m===void 0&&(m=!eo(t,"y")),y===void 0&&(y=!eo(t,"fx")),v===void 0&&(v=!eo(t,"fy")),d===!0&&(d="bottom"),m===!0&&(m="left"),y===!0&&(y=d==="top"||d===null?"bottom":"top"),v===!0&&(v=m==="right"||m===null?"left":"right");const _=[];return no(_,w,P7,f),to(_,v,A7,"right","left",s,f),no(_,g,R7,a),to(_,y,E7,"top","bottom",s,a),no(_,b,I7,o),to(_,m,ng,"left","right",e,o),no(_,p,F7,i),to(_,d,eg,"bottom","top",e,i),_}function to(t,n,e,r,i,o,a){if(!n)return;const f=mx(n);a=gx(f?r:n,o,a);const{line:u}=a;(e===ng||e===eg)&&u&&!fi(u)&&t.push(Q7(yx(a))),t.push(e(a)),f&&t.push(e({...a,anchor:i,label:null}))}function no(t,n,e,r){!n||fi(n)||t.push(e(bx(n,r)))}function mx(t){return/^\s*both\s*$/i.test(t)}function gx(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:l,label:h=n.label,labelAnchor:d,labelArrow:p=n.labelArrow,labelOffset:m}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:l,label:h,labelAnchor:d,labelArrow:p,labelOffset:m}}function yx(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function bx(t,{stroke:n=Aa(t)?t:void 0,ticks:e=wx(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function wx(t){switch(typeof t){case"number":return!0;case"string":return!Aa(t)}return fe(t)||typeof t?.range=="function"}function eo(t,n){const e=`${n}-axis `;return t.some(r=>r.ariaLabel?.startsWith(e))}function mh(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function _x(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function vx({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:u}=Wc(e),c=t&&gh(t),s=n&&gh(n);return{marginTop:n?s[0]:r,marginRight:t?f-c[1]:i,marginBottom:n?u-s[1]:o,marginLeft:t?c[0]:a,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:f,height:u}}function gh(t){const n=t.domain();let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const xx=new Map([["basis",p3],["basis-closed",m3],["basis-open",g3],["bundle",y3],["bump-x",r3],["bump-y",i3],["cardinal",b3],["cardinal-closed",w3],["cardinal-open",_3],["catmull-rom",v3],["catmull-rom-closed",x3],["catmull-rom-open",M3],["linear",Ti],["linear-closed",$3],["monotone-x",T3],["monotone-y",S3],["natural",C3],["step",A3],["step-after",k3],["step-before",E3]]);function bg(t=Ti,n){if(typeof t=="function")return t;const e=xx.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown curve: ${t}`);if(n!==void 0){if("beta"in e)return e.beta(n);if("tension"in e)return e.tension(n);if("alpha"in e)return e.alpha(n)}return e}function Mx(t=na,n){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?na:bg(t,n)}function na(t){return Ti(t)}function Lu(t={y:"count"},n={}){[t,n]=Cx(t,n);const{x:e,y:r}=n;return Sx(Ax(e,n,Ct),null,null,r,t,Qc(n))}function $x(t,n,e={}){if(e?.interval==null)return e;const{reduce:r=Bc}=e,i={filter:null};return e[n]!=null&&(i[n]=r),e[`${n}1`]!=null&&(i[`${n}1`]=r),e[`${n}2`]!=null&&(i[`${n}2`]=r),t(i,e)}function Tx(t={}){return $x(Lu,"y",Pi(t,"x"))}function Sx(t,n,e,r,{data:i=zc,filter:o=Jo,sort:a,reverse:f,...u}={},c={}){t=yh(t),n=yh(n),u=kx(u,c),i=vg(i,Ct),a=a==null?void 0:wg("sort",a,c),o=o==null?void 0:_g("filter",o,c),r!=null&&Gr(u,"y","y1","y2")&&(r=null);const[s,l]=It(t),[h,d]=It(t),[p,m]=It(n),[b,y]=It(n),[g,v]=r!=null?[r,"y"]:[],[w,_]=It(g),{x:M,y:T,z:A,fill:k,stroke:N,x1:C,x2:R,y1:O,y2:x,domain:$,cumulative:S,thresholds:I,interval:F,...E}=c,[P,B]=It(A),[z]=sn(k),[q]=sn(N),[G,X]=It(z),[Z,U]=It(q);return{..."z"in c&&{z:P||A},..."fill"in c&&{fill:G||k},..."stroke"in c&&{stroke:Z||N},...ka(E,(H,D,W)=>{const Y=Ko(dt(H,g),W?.[v]),L=dt(H,A),rt=dt(H,z),V=dt(H,q),ot=tm(u,{z:L,fill:rt,stroke:V}),at=[],ht=[],dn=Y&&_([]),se=L&&B([]),Eg=rt&&X([]),kg=V&&U([]),os=t&&l([]),Ng=t&&d([]),as=n&&m([]),Lg=n&&y([]),Dg=Dx(t,n,H);let Ig=0;for(const Pe of u)Pe.initialize(H);a&&a.initialize(H),o&&o.initialize(H);for(const Pe of D){const fs=[];for(const Fe of u)Fe.scope("facet",Pe);a&&a.scope("facet",Pe),o&&o.scope("facet",Pe);for(const[Fe,Pg]of Xr(Pe,ot))for(const[Fg,Fi]of Xr(Pg,Y))for(const[pn,Tn]of Dg(Fi))if(ot&&(Tn.z=Fe),!(o&&!o.reduce(pn,Tn))){fs.push(Ig++),ht.push(i.reduceIndex(pn,H,Tn)),Y&&dn.push(Fg),L&&se.push(ot===L?Fe:L[(pn.length>0?pn:Fi)[0]]),rt&&Eg.push(ot===rt?Fe:rt[(pn.length>0?pn:Fi)[0]]),V&&kg.push(ot===V?Fe:V[(pn.length>0?pn:Fi)[0]]),os&&(os.push(Tn.x1),Ng.push(Tn.x2)),as&&(as.push(Tn.y1),Lg.push(Tn.y2));for(const Rg of u)Rg.reduce(pn,Tn);a&&a.reduce(pn,Tn)}at.push(fs)}return nm(at,a,f),{data:ht,facets:at}}),...!Gr(u,"x")&&(s?{x1:s,x2:h,x:jo(s,h)}:{x:M,x1:C,x2:R}),...!Gr(u,"y")&&(p?{y1:p,y2:b,y:jo(p,b)}:{y:T,y1:O,y2:x}),...w&&{[v]:w},...Object.fromEntries(u.map(({name:H,output:D})=>[H,D]))}}function Cx({cumulative:t,domain:n,thresholds:e,interval:r,...i},o){return[i,{cumulative:t,domain:n,thresholds:e,interval:r,...o}]}function Ax(t,{cumulative:n,domain:e,thresholds:r,interval:i},o){return t={...Ei(t)},t.domain===void 0&&(t.domain=e),t.cumulative===void 0&&(t.cumulative=n),t.thresholds===void 0&&(t.thresholds=r),t.interval===void 0&&(t.interval=i),t.value===void 0&&(t.value=o),t.thresholds=Ex(t.thresholds,t.interval),t}function yh(t){if(t==null)return;const{value:n,cumulative:e,domain:r=Bt,thresholds:i}=t,o=a=>{let f=dt(a,n),u;if(Ot(f)||Lx(i)){f=bt(f,Dp,Float64Array);let[s,l]=typeof r=="function"?r(f):r,h=typeof i=="function"&&!Ge(i)?i(f,s,l):i;typeof h=="number"&&(h=S0(s,l,h)),Ge(h)&&(r===Bt&&(s=h.floor(s),l=h.offset(h.floor(l))),h=h.range(s,h.offset(l))),u=h}else{f=jn(f);let[s,l]=typeof r=="function"?r(f):r,h=typeof i=="function"&&!Ge(i)?i(f,s,l):i;if(typeof h=="number")if(r===Bt){let d=yo(s,l,h);if(isFinite(d))if(d>0){let p=Math.round(s/d),m=Math.round(l/d);p*d<=s||--p,m*d>l||++m;let b=m-p+1;h=new Float64Array(b);for(let y=0;y<b;++y)h[y]=(p+y)*d}else if(d<0){d=-d;let p=Math.round(s*d),m=Math.round(l*d);p/d<=s||--p,m/d>l||++m;let b=m-p+1;h=new Float64Array(b);for(let y=0;y<b;++y)h[y]=(p+y)/d}else h=[s];else h=[s]}else h=Zr(s,l,h);else Ge(h)&&(r===Bt&&(s=h.floor(s),l=h.offset(h.floor(l))),h=h.range(s,h.offset(l)));u=h}const c=[];if(u.length===1)c.push([u[0],u[0]]);else for(let s=1;s<u.length;++s)c.push([u[s-1],u[s]]);return c.bin=(e<0?Px:e>0?Ix:is)(c,u,f),c};return o.label=Le(n),o}function Ex(t,n,e=bh){if(t===void 0)return n===void 0?e:yr(n);if(typeof t=="string"){switch(t.toLowerCase()){case"freedman-diaconis":return py;case"scott":return Oh;case"sturges":return sy;case"auto":return bh}return Ec(t)}return t}function kx(t,n){return jp(t,n,wg)}function wg(t,n,e){return Rc(t,n,e,_g)}function _g(t,n,e){return Oc(t,n,e,vg)}function vg(t,n){return Na(t,n,Nx)}function Nx(t){switch(`${t}`.toLowerCase()){case"x":return Fx;case"x1":return Ox;case"x2":return zx;case"y":return Rx;case"y1":return Bx;case"y2":return Ux;case"z":return em}throw new Error(`invalid bin reduce: ${t}`)}function bh(t,n,e){return Math.min(200,Oh(t,n,e))}function Lx(t){return L5(t)||fe(t)&&Ot(t)}function Dx(t,n,e){const r=t?.(e),i=n?.(e);return r&&i?function*(o){const a=r.bin(o);for(const[f,[u,c]]of r.entries()){const s=i.bin(a[f]);for(const[l,[h,d]]of i.entries())yield[s[l],{data:e,x1:u,y1:h,x2:c,y2:d}]}}:r?function*(o){const a=r.bin(o);for(const[f,[u,c]]of r.entries())yield[a[f],{data:e,x1:u,x2:c}]}:function*(o){const a=i.bin(o);for(const[f,[u,c]]of i.entries())yield[a[f],{data:e,y1:u,y2:c}]}}function is(t,n,e){return n=jn(n),r=>{const i=t.map(()=>[]);for(const o of r)i[ra(n,e[o])-1]?.push(o);return i}}function Ix(t,n,e){const r=is(t,n,e);return i=>{const o=r(i);for(let a=1,f=o.length;a<f;++a){const u=o[a-1],c=o[a];for(const s of u)c.push(s)}return o}}function Px(t,n,e){const r=is(t,n,e);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const f=o[a+1],u=o[a];for(const c of f)u.push(c)}return o}}function xg(t,n){const e=(+t+ +n)/2;return t instanceof Date?new Date(e):e}const Fx={reduceIndex(t,n,{x1:e,x2:r}){return xg(e,r)}},Rx={reduceIndex(t,n,{y1:e,y2:r}){return xg(e,r)}},Ox={reduceIndex(t,n,{x1:e}){return e}},zx={reduceIndex(t,n,{x2:e}){return e}},Bx={reduceIndex(t,n,{y1:e}){return e}},Ux={reduceIndex(t,n,{y2:e}){return e}};function qx(t={}){return Pp(t)?t:{...t,x:Ct}}function Yx(t={}){return Fp(t)?t:{...t,y:Ct}}function Wx(t,n){if(n.length===1)return{data:t,facets:n};const e=t.length,r=new Uint8Array(e);let i=0;for(const f of n)for(const u of f)r[u]&&++i,r[u]=1;if(i===0)return{data:t,facets:n};t=oi(t);const o=t[kp]=new Uint32Array(e+i);n=n.map(f=>oi(f,Uint32Array));let a=e;r.fill(0);for(const f of n)for(let u=0,c=f.length;u<c;++u){const s=f[u];r[s]?(f[u]=a,t[a]=t[s],o[a]=s,++a):o[s]=s,r[s]=1}return{data:t,facets:n}}function Hx(t={},n={}){arguments.length===1&&([t,n]=Mg(t));const{y1:e,y:r=e,x:i,...o}=n,[a,f,u,c]=$g(r,i,"y","x",t,o);return{...a,y1:e,y:f,x1:u,x2:c,x:jo(u,c)}}function Gx(t={},n={}){arguments.length===1&&([t,n]=Mg(t));const{x1:e,x:r=e,y:i,...o}=n,[a,f,u,c]=$g(r,i,"x","y",t,o);return{...a,x1:e,x:f,y1:u,y2:c,y:jo(u,c)}}function Xx({x:t,x1:n,x2:e,...r}={}){return r=Pi(r,"y"),n===void 0&&e===void 0?Hx({x:t,...r}):([n,e]=Rp(t,n,e),{...r,x1:n,x2:e})}function Vx({y:t,y1:n,y2:e,...r}={}){return r=Pi(r,"x"),n===void 0&&e===void 0?Gx({y:t,...r}):([n,e]=Rp(t,n,e),{...r,y1:n,y2:e})}function Mg(t){const{offset:n,order:e,reverse:r,...i}=t;return[{offset:n,order:e,reverse:r},i]}const Zx={length:!0};function $g(t,n=M5,e,r,{offset:i,order:o,reverse:a},f){if(n===null)throw new Error(`stack requires ${r}`);const u=zp(f),[c,s]=It(t),[l,h]=Zo(n),[d,p]=Zo(n);return l.hint=d.hint=Zx,i=jx(i),o=Jx(o,i,r),[ka(f,(m,b,y)=>{({data:m,facets:b}=Wx(m,b));const g=t==null?void 0:s(Ko(dt(m,t),y?.[e])),v=dt(m,n,Float64Array),w=dt(m,u),_=o&&o(m,g,v,w),M=m.length,T=h(new Float64Array(M)),A=p(new Float64Array(M)),k=[];for(const N of b){const C=g?Array.from(oa(N,R=>g[R]).values()):[N];if(_)for(const R of C)R.sort(_);for(const R of C){let O=0,x=0;a&&R.reverse();for(const $ of R){const S=v[$];S<0?O=A[$]=(T[$]=O)+S:S>0?x=A[$]=(T[$]=x)+S:A[$]=T[$]=x}}k.push(C)}return i&&i(k,T,A,w),{data:m,facets:b}}),c,l,d]}function jx(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return Kx;case"center":case"silhouette":return Qx;case"wiggle":return Sg}throw new Error(`unknown offset: ${t}`)}}function Tg(t,n){let e=0,r=0;for(const i of t){const o=n[i];o<e&&(e=o),o>r&&(r=o)}return[e,r]}function Kx(t,n,e){for(const r of t)for(const i of r){const[o,a]=Tg(i,e);for(const f of i){const u=1/(a-o||1);n[f]=u*(n[f]-o),e[f]=u*(e[f]-o)}}}function Qx(t,n,e){for(const r of t){for(const i of r){const[o,a]=Tg(i,e);for(const f of i){const u=(a+o)/2;n[f]-=u,e[f]-=u}}Cg(r,n,e)}Ag(t,n,e)}function Sg(t,n,e,r){for(const i of t){const o=new ve;let a=0;for(const f of i){let u=-1;const c=f.map(d=>Math.abs(e[d]-n[d])),s=f.map(d=>{u=r?r[d]:++u;const p=e[d]-n[d],m=o.has(u)?p-o.get(u):0;return o.set(u,p),m}),l=[0,...iy(s)];for(const d of f)n[d]+=a,e[d]+=a;const h=Jn(c);h&&(a-=Jn(c,(d,p)=>(s[p]/2+l[p])*d)/h)}Cg(i,n,e)}Ag(t,n,e)}function Cg(t,n,e){const r=Rn(t,i=>Rn(i,o=>n[o]));for(const i of t)for(const o of i)n[o]-=r,e[o]-=r}function Ag(t,n,e){const r=t.length;if(r===1)return;const i=t.map(f=>f.flat()),o=i.map(f=>(Rn(f,u=>n[u])+on(f,u=>e[u]))/2),a=Rn(o);for(let f=0;f<r;f++){const u=a-o[f];for(const c of i[f])n[c]+=u,e[c]+=u}}function Jx(t,n,e){if(t===void 0&&n===Sg)return wh(cn);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?Vo:cn;switch((r?t.slice(1):t).toLowerCase()){case"value":case e:return t9(i);case"z":return n9(i);case"sum":return e9(i);case"appearance":return r9(i);case"inside-out":return wh(i)}return _h(Np(t))}if(typeof t=="function")return(t.length===1?_h:i9)(t);if(Array.isArray(t))return o9(t);throw new Error(`invalid order: ${t}`)}}function t9(t){return(n,e,r)=>(i,o)=>t(r[i],r[o])}function n9(t){return(n,e,r,i)=>(o,a)=>t(i[o],i[a])}function e9(t){return Ra(t,(n,e,r,i)=>Yu(Un(n),o=>Jn(o,a=>r[a]),o=>i[o]))}function r9(t){return Ra(t,(n,e,r,i)=>Yu(Un(n),o=>e[Rh(o,a=>r[a])],o=>i[o]))}function wh(t){return Ra(t,(n,e,r,i)=>{const o=Un(n),a=Yu(o,l=>e[Rh(l,h=>r[h])],l=>i[l]),f=Ze(o,l=>Jn(l,h=>r[h]),l=>i[l]),u=[],c=[];let s=0;for(const l of a)s<0?(s+=f.get(l),u.push(l)):(s-=f.get(l),c.push(l));return c.reverse().concat(u)})}function _h(t){return n=>{const e=dt(n,t);return(r,i)=>cn(e[r],e[i])}}function i9(t){return n=>(e,r)=>t(n[e],n[r])}function o9(t){return Ra(cn,()=>t)}function Ra(t,n){return(e,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new ve(n(e,r,i,o).map((f,u)=>[f,u]));return(f,u)=>t(a.get(o[f]),a.get(o[u]))}}const a9={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class f9 extends tn{constructor(n,e={}){const{x1:r,y1:i,x2:o,y2:a,z:f,curve:u,tension:c}=e;super(n,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0},z:{value:zp(e),optional:!0}},e,a9),this.z=f,this.curve=bg(u,c)}filter(n){return n}render(n,e,r,i,o){const{x1:a,y1:f,x2:u=a,y2:c=f}=r;return At("svg:g",o).call(Yn,this,i,o).call(Hn,this,e,0,0).call(s=>s.selectAll().data(z4(n,[a,f,u,c],this,r)).enter().append("path").call(Wn,this).call(F4,this,r).attr("d",e3().curve(this.curve).defined(l=>l>=0).x0(l=>a[l]).y0(l=>f[l]).x1(l=>u[l]).y1(l=>c[l]))).node()}}function vh(t,n){const{x:e=kc,...r}=Tx(n);return new f9(t,Vx(Yx({...r,x1:e,x2:void 0})))}const u9={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class c9 extends tn{constructor(n,e={}){const{x1:r,y1:i,x2:o,y2:a,curve:f,tension:u}=e;super(n,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},e,u9),this.curve=Mx(f,u),jc(this,e)}project(n,e,r){this.curve!==na&&super.project(n,e,r)}render(n,e,r,i,o){const{x1:a,y1:f,x2:u=a,y2:c=f}=r,{curve:s}=this;return At("svg:g",o).call(Yn,this,i,o).call(Hn,this,e).call(l=>l.selectAll().data(n).enter().append("path").call(Wn,this).attr("d",s===na&&o.projection?s9(o.projection,a,f,u,c):h=>{const d=To(),p=s(d);return p.lineStart(),p.point(a[h],f[h]),p.point(u[h],c[h]),p.lineEnd(),d}).call(Ie,this,r).call(Kc,this,r,o)).node()}}function s9(t,n,e,r,i){const o=da(t);return n=jn(n),e=jn(e),r=jn(r),i=jn(i),a=>o({type:"LineString",coordinates:[[n[a],e[a]],[r[a],i[a]]]})}function xh(t,{x:n,x1:e,x2:r,y:i,y1:o,y2:a,...f}={}){return[e,r]=Mh(n,e,r),[o,a]=Mh(i,o,a),new c9(t,{...f,x1:e,x2:r,y1:o,y2:a})}function Mh(t,n,e){if(t===void 0){if(n===void 0){if(e!==void 0)return[e]}else if(e===void 0)return[n]}else{if(n===void 0)return e===void 0?[t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}class l9 extends tn{constructor(n,e,r={},i){super(n,e,r,i);const{inset:o=0,insetTop:a=o,insetRight:f=o,insetBottom:u=o,insetLeft:c=o,rx:s,ry:l}=r;this.insetTop=mt(a),this.insetRight=mt(f),this.insetBottom=mt(u),this.insetLeft=mt(c),this.rx=St(s,"auto"),this.ry=St(l,"auto")}render(n,e,r,i,o){const{rx:a,ry:f}=this;return At("svg:g",o).call(Yn,this,i,o).call(this._transform,this,e).call(u=>u.selectAll().data(n).enter().append("rect").call(Wn,this).attr("x",this._x(e,r,i)).attr("width",this._width(e,r,i)).attr("y",this._y(e,r,i)).attr("height",this._height(e,r,i)).call(j,"rx",a).call(j,"ry",f).call(Ie,this,r)).node()}_x(n,{x:e},{marginLeft:r}){const{insetLeft:i}=this;return e?o=>e[o]+i:r+i}_y(n,{y:e},{marginTop:r}){const{insetTop:i}=this;return e?o=>e[o]+i:r+i}_width({x:n},{x:e},{marginRight:r,marginLeft:i,width:o}){const{insetLeft:a,insetRight:f}=this,u=e&&n?n.bandwidth():o-r-i;return Math.max(0,u-a-f)}_height({y:n},{y:e},{marginTop:r,marginBottom:i,height:o}){const{insetTop:a,insetBottom:f}=this,u=e&&n?n.bandwidth():o-r-i;return Math.max(0,u-a-f)}}const h9={ariaLabel:"bar"};class d9 extends l9{constructor(n,e={}){const{x1:r,x2:i,y:o}=e;super(n,{x1:{value:r,scale:"x"},x2:{value:i,scale:"x"},y:{value:o,scale:"y",type:"band",optional:!0}},e,h9)}_transform(n,e,{x:r}){n.call(Hn,e,{x:r},0,0)}_x({x:n},{x1:e,x2:r},{marginLeft:i}){const{insetLeft:o}=this;return sr(n)?i+o:a=>Math.min(e[a],r[a])+o}_width({x:n},{x1:e,x2:r},{marginRight:i,marginLeft:o,width:a}){const{insetLeft:f,insetRight:u}=this;return sr(n)?a-i-o-f-u:c=>Math.max(0,Math.abs(r[c]-e[c])-f-u)}}function $h(t,n={}){return C5(n)||(n={...n,y:kc,x2:Ct}),new d9(t,Xx(Fm(qx(n))))}tn.prototype.plot=function({marks:t=[],...n}={}){return zr({...n,marks:[...t,this]})};function p9(t){let n,e;return{c(){n=ct("div"),e=ct("canvas"),st(e,"width",Du),st(e,"height",Iu),st(e,"class","svelte-1ix7a3f")},m(r,i){ro(r,n,i),tt(n,e),t[1](e)},p:Kn,i:Kn,o:Kn,d(r){r&&Br(n),t[1](null)}}}const Du=800,Iu=1200;function m9(t,n,e){Object.keys(Xo[0]);let r,i,o=_c;const a=Qd().scale(4500).translate([Du/2,Iu/2]).center([-.118092,51.509865]);let[f,u]=Bt(Xo.map(h=>h.Total));const c=hc().domain([-u,0,u]).interpolator(dc);qg(()=>{zt(r).call(R3().scaleExtent([1,8]).on("zoom",({transform:h})=>s(r,h)))});function s(h,d){if(!h)return;i=h.getContext("2d");const p=da(a,i);i.save(),i.clearRect(0,0,Du,Iu),i.translate(d.x,d.y),i.scale(d.k,d.k),i.lineWidth=.1,i.strokeStyle="grey",i.beginPath();for(let m of $c.features){let b=m.properties.LSOA21CD,g=h5[b].Total;i.beginPath(),p(m),i.fillStyle=c(g),i.fill()}console.log("END RENDER"),i.restore()}function l(h){Xe[h?"unshift":"push"](()=>{r=h,e(0,r)})}return t.$$.update=()=>{t.$$.dirty&1&&s(r,o)},[r,l]}let g9=class extends Bu{constructor(n){super(),zu(this,n,m9,p9,Pu,{})}};function y9(t){let n,e,r,i,o,a,f,u,c,s,l,h,d,p,m,b,y,g,v,w,_,M,T,A,k,N,C,R,O,x,$,S,I,F,E,P,B,z,q,G,X,Z,U,H,D,W;return A=new g9({}),{c(){n=ct("h1"),n.textContent="Overview",e=Tt(),r=ct("div"),i=ct("div"),o=ct("h3"),o.textContent="Benefits per pathway",a=Tt(),f=ct("input"),u=Tt(),c=ct("label"),c.textContent="Barchart",s=ct("br"),l=Tt(),h=ct("input"),d=Tt(),p=ct("label"),p.textContent="Violin",m=ct("br"),b=Tt(),y=ct("input"),g=Tt(),v=ct("label"),v.textContent="Distribution",w=Tt(),_=ct("div"),_.innerHTML="",M=Tt(),T=ct("div"),Eh(A.$$.fragment),k=Tt(),N=ct("div"),C=ct("h3"),C.textContent="Benefits per Co-Benefit",R=Tt(),O=ct("input"),x=Tt(),$=ct("label"),$.textContent="Barchart",S=ct("br"),I=Tt(),F=ct("input"),E=Tt(),P=ct("label"),P.textContent="Violin",B=ct("br"),z=Tt(),q=ct("input"),G=Tt(),X=ct("label"),X.textContent="Distribution",Z=Tt(),U=ct("div"),U.innerHTML="",st(f,"type","radio"),st(f,"name","visType"),f.value="barchart",f.checked=!0,st(c,"for","html"),st(h,"type","radio"),st(h,"name","visType"),h.value="violin",st(p,"for","css"),st(y,"type","radio"),st(y,"name","visType"),y.value="distribution",st(v,"for","javascript"),st(_,"class","plot"),st(T,"id","map"),st(T,"class","svelte-1ayf9s7"),st(O,"type","radio"),st(O,"name","visTypeCB"),O.value="barchart",O.checked=!0,st($,"for","html"),st(F,"type","radio"),st(F,"name","visTypeCB"),F.value="violin",st(P,"for","css"),st(q,"type","radio"),st(q,"name","visTypeCB"),q.value="distribution",st(X,"for","javascript"),st(U,"class","plot"),st(r,"id","main"),st(r,"class","svelte-1ayf9s7")},m(Y,L){ro(Y,n,L),ro(Y,e,L),ro(Y,r,L),tt(r,i),tt(i,o),tt(i,a),tt(i,f),tt(i,u),tt(i,c),tt(i,s),tt(i,l),tt(i,h),tt(i,d),tt(i,p),tt(i,m),tt(i,b),tt(i,y),tt(i,g),tt(i,v),tt(i,w),tt(i,_),t[7](_),tt(r,M),tt(r,T),Ru(A,T,null),tt(r,k),tt(r,N),tt(N,C),tt(N,R),tt(N,O),tt(N,x),tt(N,$),tt(N,S),tt(N,I),tt(N,F),tt(N,E),tt(N,P),tt(N,B),tt(N,z),tt(N,q),tt(N,G),tt(N,X),tt(N,Z),tt(N,U),t[8](U),t[9](r),H=!0,D||(W=[Re(f,"change",t[3]),Re(h,"change",t[3]),Re(y,"change",t[3]),Re(O,"change",t[4]),Re(F,"change",t[4]),Re(q,"change",t[4])],D=!0)},p:Kn,i(Y){H||(Fu(A.$$.fragment,Y),H=!0)},o(Y){Ah(A.$$.fragment,Y),H=!1},d(Y){Y&&(Br(n),Br(e),Br(r)),t[7](null),Ou(A),t[8](null),t[9](null),D=!1,si(W)}}}let Tf=400;function b9(t,n,e){let r,i,o,a="barchart",f="barchart";console.log(1111);function u(d){e(5,a=d.currentTarget.value)}function c(d){e(6,f=d.currentTarget.value)}function s(d){Xe[d?"unshift":"push"](()=>{i=d,e(0,i)})}function l(d){Xe[d?"unshift":"push"](()=>{o=d,e(1,o)})}function h(d){Xe[d?"unshift":"push"](()=>{r=d,e(2,r)})}return t.$$.update=()=>{t.$$.dirty&33&&(i?.firstChild?.remove(),a=="barchart"?i?.append(zr({height:Tf,marginLeft:170,y:{type:"band"},marks:[$h(he,ji({x:"mean"},{x:"Total",y:"scenario",tip:!0})),xh(he,ji({x1:d=>Er(d)-Ye(d),x2:d=>Er(d)+Ye(d)},{x:"Total",y:"scenario",stroke:"gray",strokeWidth:3}))]})):a=="distribution"&&i?.append(zr({height:Tf,marginLeft:170,facet:{data:he,y:"scenario"},marks:[vh(he,Lu({y:"count"},{x:"Total",tip:!0}))]}))),t.$$.dirty&98&&(o?.firstChild?.remove(),f=="barchart"?o?.append(zr({height:Tf,marginLeft:170,y:{type:"band"},marks:[$h(vu,ji({x:"mean"},{x:"cost",y:"coBenefit",tip:!0})),xh(vu,ji({x1:d=>Er(d)-Ye(d),x2:d=>Er(d)+Ye(d)},{x:"cost",y:"coBenefit",stroke:"gray",strokeWidth:3}))]})):a=="distribution"&&o?.append(zr({facet:{data:he,y:"scenario"},marks:[vh(he,Lu({y:"count"},{x:"Total",tip:!0}))]})))},[i,o,r,u,c,a,f,s,l,h]}class w9 extends Bu{constructor(n){super(),zu(this,n,b9,y9,Pu,{})}}function _9(t){let n,e;return n=new w9({}),{c(){Eh(n.$$.fragment)},m(r,i){Ru(n,r,i),e=!0},p:Kn,i(r){e||(Fu(n.$$.fragment,r),e=!0)},o(r){Ah(n.$$.fragment,r),e=!1},d(r){Ou(n,r)}}}function v9(t){return gr.map(n=>n["Median.Income"]),[]}class x9 extends Bu{constructor(n){super(),zu(this,n,v9,_9,Pu,{})}}new x9({target:document.getElementById("app")});
