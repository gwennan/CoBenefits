import{s as Qn,d as T,q as $n,v as tr,i as Wt,b as f,x as ie,r as m,B as ye,g as L,c as y,e as P,p as F,f as ct,j as D,h as b,t as ut,y as er,z as wt}from"../chunks/BCTyX47f.js";import{S as nr,i as rr,d as ar,t as sr,a as or,m as lr,c as ir,b as cr}from"../chunks/8Kg-X87S.js";import{N as ur,e as _n}from"../chunks/Do0lbjIu.js";import{n as fr}from"../chunks/DRyxMU8n.js";import{an as hr,ai as Ce,ao as jn,y as Ze,g as Me,S as Un,i as qn,a as Wn,M as Qe,T as $e,a1 as dr,l as tn,n as en,ap as pr,o as _e,aq as Xe,ar as vr,a3 as we,as as mr,q as gr,at as yr,N as br,au as Cr,av as Yn,aw as _r,ax as wr,ad as Kn,ay as Mr,A as Gn,Y as xr,x as Er,az as kr,a5 as ce,aA as Zn,a6 as Ar,aB as Lr,B as ot,u as mt,a9 as gt,D as wn,C as Dr,aC as zr,a4 as Mn}from"../chunks/CvoddFb4.js";import{M as Tr,g as Br}from"../chunks/4N1o8F0c.js";import{S as Je,N as ne,C as xn,M as lt,A as Nr,T as We,V as Ir,e as Vr,b as En,f as be,h as Sr}from"../chunks/CXyd_JTm.js";import{g as yt,o as kn,p as Pr,q as An,c as Hr,r as Ln,s as Fr,t as Or}from"../chunks/yndP5zWl.js";import{A as Rr,b as jt,a as Dn}from"../chunks/D6g-7Txl.js";import{t as jr,e as Xn,m as Ur,d as zn,s as qr,f as Wr,a as Ye,b as Tn}from"../chunks/CHvUI5rQ.js";import{a as Yr,b as Ke,d as Kr}from"../chunks/D92kKu6L.js";const Gr=Zr(Xr);function Zr(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:a,width:s,height:i}=e;if(!((s=Math.floor(s))>=0))throw new RangeError("invalid width");if(!((i=Math.floor(i!==void 0?i:a.length/s))>=0))throw new RangeError("invalid height");if(!s||!i||!n&&!r)return e;const h=n&&t(n),u=r&&t(r),o=a.slice();return h&&u?(te(h,o,a,s,i),te(h,a,o,s,i),te(h,o,a,s,i),ee(u,a,o,s,i),ee(u,o,a,s,i),ee(u,a,o,s,i)):h?(te(h,a,o,s,i),te(h,o,a,s,i),te(h,a,o,s,i)):u&&(ee(u,a,o,s,i),ee(u,o,a,s,i),ee(u,a,o,s,i)),e}}function te(t,e,n,r,a){for(let s=0,i=r*a;s<i;)t(e,n,s,s+=r,1)}function ee(t,e,n,r,a){for(let s=0,i=r*a;s<r;++s)t(e,n,s,s+i,r)}function Xr(t){const e=Math.floor(t);if(e===t)return Jr(t);const n=t-e,r=2*t+1;return(a,s,i,h,u)=>{if(!((h-=u)>=i))return;let o=e*s[i];const l=u*e,v=l+u;for(let c=i,g=i+l;c<g;c+=u)o+=s[Math.min(h,c)];for(let c=i,g=h;c<=g;c+=u)o+=s[Math.min(h,c+l)],a[c]=(o+n*(s[Math.max(i,c-v)]+s[Math.min(h,c+v)]))/r,o-=s[Math.max(i,c-l)]}}function Jr(t){const e=2*t+1;return(n,r,a,s,i)=>{if(!((s-=i)>=a))return;let h=t*r[a];const u=i*t;for(let o=a,l=a+u;o<l;o+=i)h+=r[Math.min(s,o)];for(let o=a,l=s;o<=l;o+=i)h+=r[Math.min(s,o+u)],n[o]=h/e,h-=r[Math.max(a,o-u)]}}function Qr(t,e,n){let r;for(;;){const a=hr(t,e,n);if(a===r||a===0||!isFinite(a))return[t,e];a>0?(t=Math.floor(t/a)*a,e=Math.ceil(e/a)*a):a<0&&(t=Math.ceil(t*a)/a,e=Math.floor(e*a)/a),r=a}}var $r=Array.prototype,Jn=$r.slice;function ta(t,e){return t-e}function ea(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}const Bt=t=>()=>t;function na(t,e){for(var n=-1,r=e.length,a;++n<r;)if(a=ra(t,e[n]))return a;return 0}function ra(t,e){for(var n=e[0],r=e[1],a=-1,s=0,i=t.length,h=i-1;s<i;h=s++){var u=t[s],o=u[0],l=u[1],v=t[h],c=v[0],g=v[1];if(aa(u,v,e))return 0;l>r!=g>r&&n<(c-o)*(r-l)/(g-l)+o&&(a=-a)}return a}function aa(t,e,n){var r;return sa(t,e,n)&&oa(t[r=+(t[0]===e[0])],n[r],e[r])}function sa(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function oa(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function la(){}var Mt=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Bn(){var t=1,e=1,n=jr,r=u;function a(o){var l=n(o);if(Array.isArray(l))l=l.slice().sort(ta);else{const v=Ce(o,ia);for(l=jn(...Qr(v[0],v[1],l),l);l[l.length-1]>=v[1];)l.pop();for(;l[1]<v[0];)l.shift()}return l.map(v=>s(o,v))}function s(o,l){const v=l==null?NaN:+l;if(isNaN(v))throw new Error(`invalid value: ${l}`);var c=[],g=[];return i(o,v,function(_){r(_,o,v),ea(_)>0?c.push([_]):g.push(_)}),g.forEach(function(_){for(var C=0,B=c.length,E;C<B;++C)if(na((E=c[C])[0],_)!==-1){E.push(_);return}}),{type:"MultiPolygon",value:l,coordinates:c}}function i(o,l,v){var c=new Array,g=new Array,_,C,B,E,p,M;for(_=C=-1,E=Ut(o[0],l),Mt[E<<1].forEach(x);++_<t-1;)B=E,E=Ut(o[_+1],l),Mt[B|E<<1].forEach(x);for(Mt[E<<0].forEach(x);++C<e-1;){for(_=-1,E=Ut(o[C*t+t],l),p=Ut(o[C*t],l),Mt[E<<1|p<<2].forEach(x);++_<t-1;)B=E,E=Ut(o[C*t+t+_+1],l),M=p,p=Ut(o[C*t+_+1],l),Mt[B|E<<1|p<<2|M<<3].forEach(x);Mt[E|p<<3].forEach(x)}for(_=-1,p=o[C*t]>=l,Mt[p<<2].forEach(x);++_<t-1;)M=p,p=Ut(o[C*t+_+1],l),Mt[p<<2|M<<3].forEach(x);Mt[p<<3].forEach(x);function x(V){var k=[V[0][0]+_,V[0][1]+C],A=[V[1][0]+_,V[1][1]+C],O=h(k),N=h(A),w,S;(w=g[O])?(S=c[N])?(delete g[w.end],delete c[S.start],w===S?(w.ring.push(A),v(w.ring)):c[w.start]=g[S.end]={start:w.start,end:S.end,ring:w.ring.concat(S.ring)}):(delete g[w.end],w.ring.push(A),g[w.end=N]=w):(w=c[N])?(S=g[O])?(delete c[w.start],delete g[S.end],w===S?(w.ring.push(A),v(w.ring)):c[S.start]=g[w.end]={start:S.start,end:w.end,ring:S.ring.concat(w.ring)}):(delete c[w.start],w.ring.unshift(k),c[w.start=O]=w):c[O]=g[N]={start:O,end:N,ring:[k,A]}}}function h(o){return o[0]*2+o[1]*(t+1)*4}function u(o,l,v){o.forEach(function(c){var g=c[0],_=c[1],C=g|0,B=_|0,E=Ge(l[B*t+C]);g>0&&g<t&&C===g&&(c[0]=Nn(g,Ge(l[B*t+C-1]),E,v)),_>0&&_<e&&B===_&&(c[1]=Nn(_,Ge(l[(B-1)*t+C]),E,v))})}return a.contour=s,a.size=function(o){if(!arguments.length)return[t,e];var l=Math.floor(o[0]),v=Math.floor(o[1]);if(!(l>=0&&v>=0))throw new Error("invalid size");return t=l,e=v,a},a.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:Array.isArray(o)?Bt(Jn.call(o)):Bt(o),a):n},a.smooth=function(o){return arguments.length?(r=o?u:la,a):r===u},a}function ia(t){return isFinite(t)?t:NaN}function Ut(t,e){return t==null?!1:+t>=e}function Ge(t){return t==null||isNaN(t=+t)?-1/0:t}function Nn(t,e,n,r){const a=r-e,s=n-e,i=isFinite(a)||isFinite(s)?a/s:Math.sign(a)/Math.sign(s);return isNaN(i)?t:t+i-.5}function ca(t){return t[0]}function ua(t){return t[1]}function fa(){return 1}function ha(){var t=ca,e=ua,n=fa,r=960,a=500,s=20,i=2,h=s*3,u=r+h*2>>i,o=a+h*2>>i,l=Bt(20);function v(p){var M=new Float32Array(u*o),x=Math.pow(2,-i),V=-1;for(const z of p){var k=(t(z,++V,p)+h)*x,A=(e(z,V,p)+h)*x,O=+n(z,V,p);if(O&&k>=0&&k<u&&A>=0&&A<o){var N=Math.floor(k),w=Math.floor(A),S=k-N-.5,Y=A-w-.5;M[N+w*u]+=(1-S)*(1-Y)*O,M[N+1+w*u]+=S*(1-Y)*O,M[N+1+(w+1)*u]+=S*Y*O,M[N+(w+1)*u]+=(1-S)*Y*O}}return Gr({data:M,width:u,height:o},s*x),M}function c(p){var M=v(p),x=l(M),V=Math.pow(2,2*i);return Array.isArray(x)||(x=jn(Number.MIN_VALUE,Ze(M)/V,x)),Bn().size([u,o]).thresholds(x.map(k=>k*V))(M).map((k,A)=>(k.value=+x[A],g(k)))}c.contours=function(p){var M=v(p),x=Bn().size([u,o]),V=Math.pow(2,2*i),k=A=>{A=+A;var O=g(x.contour(M,A*V));return O.value=A,O};return Object.defineProperty(k,"max",{get:()=>Ze(M)/V}),k};function g(p){return p.coordinates.forEach(_),p}function _(p){p.forEach(C)}function C(p){p.forEach(B)}function B(p){p[0]=p[0]*Math.pow(2,i)-h,p[1]=p[1]*Math.pow(2,i)-h}function E(){return h=s*3,u=r+h*2>>i,o=a+h*2>>i,c}return c.x=function(p){return arguments.length?(t=typeof p=="function"?p:Bt(+p),c):t},c.y=function(p){return arguments.length?(e=typeof p=="function"?p:Bt(+p),c):e},c.weight=function(p){return arguments.length?(n=typeof p=="function"?p:Bt(+p),c):n},c.size=function(p){if(!arguments.length)return[r,a];var M=+p[0],x=+p[1];if(!(M>=0&&x>=0))throw new Error("invalid size");return r=M,a=x,E()},c.cellSize=function(p){if(!arguments.length)return 1<<i;if(!((p=+p)>=1))throw new Error("invalid cell size");return i=Math.floor(Math.log(p)/Math.LN2),E()},c.thresholds=function(p){return arguments.length?(l=typeof p=="function"?p:Array.isArray(p)?Bt(Jn.call(p)):Bt(p),c):l},c.bandwidth=function(p){if(!arguments.length)return Math.sqrt(s*(s+1));if(!((p=+p)>=0))throw new Error("invalid bandwidth");return s=(Math.sqrt(4*p*p+1)-1)/2,E()},c}const da={ariaLabel:"cell"};class pa extends Rr{constructor(e,{x:n,y:r,...a}={}){super(e,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},a,da)}_transform(e,n){e.call(Me,n,{},0,0)}}function In(t,{x:e,y:n,...r}={}){return[e,n]=Un(e,n),new pa(t,{...r,x:e,y:n})}const va={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class ma extends Qe{constructor(e,n={}){const{x:r,y:a,z:s,curve:i,tension:h}=n;super(e,{x:{value:r,scale:"x"},y:{value:a,scale:"y"},z:{value:$e(n),optional:!0}},n,va),this.z=s,this.curve=Ur(i,h),dr(this,n)}filter(e){return e}project(e,n,r){this.curve!==zn&&super.project(e,n,r)}render(e,n,r,a,s){const{x:i,y:h}=r,{curve:u}=this;return tn("svg:g",s).call(en,this,a,s).call(Me,this,n).call(o=>o.selectAll().data(pr(e,[i,h],this,r)).enter().append("path").call(_e,this).call(Xe,this,r).call(vr,this,r,s).attr("d",u===zn&&s.projection?ga(s.path(),i,h):qr().curve(u).defined(l=>l>=0).x(l=>i[l]).y(l=>h[l]))).node()}}function ga(t,e,n){return e=we(e),n=we(n),r=>{let a=[];const s=[a];for(const i of r)i===-1?(a=[],s.push(a)):a.push([e[i],n[i]]);return t({type:"MultiLineString",coordinates:s})}}function ya(t,{x:e=Wn,y:n=qn,...r}={}){return new ma(t,Xn({...r,x:e,y:n}))}const ba={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Ca extends Qe{constructor(e,{x:n,y:r,z:a,weight:s,fill:i,stroke:h,...u}={}){const o=Vn(i)&&(i="currentColor",!0),l=Vn(h)&&(h="currentColor",!0);super(e,{x:{value:n,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},z:{value:$e({z:a,fill:i,stroke:h}),optional:!0},weight:{value:s,optional:!0}},Ma({...u,fill:i,stroke:h},o,l),ba),o&&(this.fill=void 0),l&&(this.stroke=void 0),this.z=a}filter(e){return e}render(e,n,r,a,s){const{contours:i}=r,h=mr();return tn("svg:g",s).call(en,this,a,s).call(Me,this,{}).call(u=>u.selectAll().data(e).enter().append("path").call(_e,this).call(gr,this,r).attr("d",o=>h(i[o]))).node()}}function _a(t,{x:e,y:n,...r}={}){return[e,n]=Un(e,n),new Ca(t,{...r,x:e,y:n})}const wa=new Set(["x","y","z","weight"]);function Ma(t,e,n){let{bandwidth:a,thresholds:s}=t;return a=a===void 0?20:+a,s=s===void 0?20:typeof s?.[Symbol.iterator]=="function"?we(s):+s,yr(t,function(i,h,u,o,l,v){const c=u.weight?we(u.weight.value):null,g=u.z?.value,{z:_}=this,[C,B]=br(this,l),{width:E,height:p}=l,{x:M,y:x}=Cr(u,o,v),V=Object.fromEntries(Object.entries(u).filter(([z])=>!wa.has(z)).map(([z,q])=>[z,{...q,value:[]}])),k=e&&[],A=n&&[],O=ha().x(M?z=>M[z]:C).y(x?z=>x[z]:B).weight(c?z=>c[z]:1).size([E,p]).bandwidth(a),N=[];for(const z of h){const q=[];N.push(q);for(const U of g?Yn(z,g,_):[z]){const Q=O.contours(U);q.push([U,Q])}}let w=s;if(!(w instanceof _r)){let z=0;for(const q of N)for(const[,U]of q){const Q=U.max;Q>z&&(z=Q)}w=Float64Array.from({length:s-1},(q,U)=>z*100*(U+1)/s)}const S=[],Y=[];for(const z of N){const q=[];S.push(q);for(const[U,Q]of z)for(const rt of w){q.push(Y.length),Y.push(Q(rt/100)),k&&k.push(rt),A&&A.push(rt);for(const j in V)V[j].value.push(u[j].value[U[0]])}}return k&&k.push(0),A&&A.push(0),{data:i,facets:S,channels:{...V,...k&&{fill:{value:k,scale:"color"}},...A&&{stroke:{value:A,scale:"color"}},contours:{value:Y}}}})}function Vn(t){return/^density$/i.test(t)}function xa(t,e,n){var r=1e-8,a=e-1,s=n-1,i=0,h,u,o,l,v,c,g,_;if(t<=0)return 0;if(t>=1)return 1;for(h=Math.log(e/(e+n)),u=Math.log(n/(e+n)),o=Math.exp(e*h)/e,l=Math.exp(n*u)/n,g=o+l,t<o/g?c=Math.pow(e*g*t,1/e):c=1-Math.pow(n*g*(1-t),1/n),_=-re(e)-re(n)+re(e+n);i<10;i++){if(c===0||c===1)return c;if(v=Ea(c,e,n)-t,o=Math.exp(a*Math.log(c)+s*Math.log(1-c)+_),l=v/o,c-=o=l/(1-.5*Math.min(1,l*(a/c-s/(1-c)))),c<=0&&(c=.5*(c+o)),c>=1&&(c=.5*(c+o+1)),Math.abs(o)<r*c&&i>0)break}return c}function Ea(t,e,n){var r=t===0||t===1?0:Math.exp(re(e+n)-re(e)-re(n)+e*Math.log(t)+n*Math.log(1-t));return t<0||t>1?!1:t<(e+1)/(e+n+2)?r*Sn(t,e,n)/e:1-r*Sn(1-t,n,e)/n}function Sn(t,e,n){var r=1e-30,a=1,s=e+n,i=e+1,h=e-1,u=1,o=1-s*t/i,l,v,c,g;for(Math.abs(o)<r&&(o=r),o=1/o,g=o;a<=100&&(l=2*a,v=a*(n-a)*t/((h+l)*(e+l)),o=1+v*o,Math.abs(o)<r&&(o=r),u=1+v/u,Math.abs(u)<r&&(u=r),o=1/o,g*=o*u,v=-(e+a)*(s+a)*t/((e+l)*(i+l)),o=1+v*o,Math.abs(o)<r&&(o=r),u=1+v/u,Math.abs(u)<r&&(u=r),o=1/o,c=o*u,g*=c,!(Math.abs(c-1)<3e-7));a++);return g}function re(t){var e=0,n=[76.18009172947146,-86.5053203294167,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],r=1.000000000190015,a,s,i;for(i=(s=a=t)+5.5,i-=(a+.5)*Math.log(i);e<6;e++)r+=n[e]/++s;return Math.log(2.506628274631*r/a)-i}function ka(t,e){var n=xa(2*Math.min(t,1-t),.5*e,.5);return n=Math.sqrt(e*(1-n)/n),t>.5?n:-n}const Aa={ariaLabel:"linear-regression",fill:"currentColor",fillOpacity:.1,stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class La extends Qe{constructor(e,n={}){const{x:r,y:a,z:s,ci:i=.95,precision:h=4}=n;if(super(e,{x:{value:r,scale:"x"},y:{value:a,scale:"y"},z:{value:$e(n),optional:!0}},n,Aa),this.z=s,this.ci=+i,this.precision=+h,!(0<=this.ci&&this.ci<1))throw new Error(`invalid ci; not in [0, 1): ${i}`);if(!(this.precision>0))throw new Error(`invalid precision: ${h}`)}render(e,n,r,a,s){const{x:i,y:h,z:u}=r,{ci:o}=this;return tn("svg:g",s).call(en,this,a,s).call(Me,this,n).call(l=>l.selectAll().data(u?Yn(e,u,this.z):[e]).enter().call(v=>v.append("path").attr("fill","none").call(_e,this).call(Xe,this,{...r,fill:null,fillOpacity:null}).attr("d",c=>this._renderLine(c,i,h)).call(o&&!Mr(this.fill)?c=>c.select(Da).attr("stroke","none").call(_e,this).call(Xe,this,{...r,stroke:null,strokeOpacity:null,strokeWidth:null}).attr("d",g=>this._renderBand(g,i,h)):()=>{}))).node()}}function Da(){return this.parentNode.insertBefore(this.ownerDocument.createElementNS(fr.svg,"path"),this)}class za extends La{constructor(e,n){super(e,n)}_renderBand(e,n,r){const{ci:a,precision:s}=this,[i,h]=Ce(e,l=>n[l]),u=Pn(e,n,r),o=Ba(e,n,r,(1-a)/2,u);return Wr().x(l=>l).y0(l=>o(l,-1)).y1(l=>o(l,1))(Kn(i,h-s/2,s).concat(h))}_renderLine(e,n,r){const[a,s]=Ce(e,h=>n[h]),i=Pn(e,n,r);return`M${a},${i(a)}L${s},${i(s)}`}}function Ta(t,{x:e=Wn,y:n=qn,stroke:r,fill:a=wr(r)?"currentColor":r,...s}={}){return new za(t,Xn({...s,x:e,y:n,fill:a,stroke:r}))}function Pn(t,e,n){let r=0,a=0,s=0,i=0;for(const l of t){const v=e[l],c=n[l];r+=v,a+=c,s+=v*c,i+=v*v}const h=t.length,u=(h*s-r*a)/(h*i-r*r),o=(a-u*r)/h;return l=>u*l+o}function Ba(t,e,n,r,a){const s=Gn(t,l=>e[l])/t.length;let i=0,h=0;for(const l of t)i+=(e[l]-s)**2,h+=(n[l]-a(e[l]))**2;const u=Math.sqrt(h/(t.length-2)),o=ka(r,t.length-2);return(l,v)=>{const c=a(l),g=u*Math.sqrt(1/t.length+(l-s)**2/i);return c+v*o*g}}function Hn(t,e){return arguments.length===1&&({basis:t,...e}=t),Yr(Na(t),e)}function Na(t){if(t===void 0)return Fn;if(typeof t=="function")return xe(xr(t));if(/^p\d{2}$/i.test(t))return ae(Lr(t));switch(`${t}`.toLowerCase()){case"deviation":return Sa;case"first":return Fn;case"last":return Va;case"max":return Pa;case"mean":return Ha;case"median":return Fa;case"min":return Oa;case"sum":return Ra;case"extent":return Ia}throw new Error(`invalid basis: ${t}`)}function xe(t){return{mapIndex(e,n,r){const a=+t(e,n);for(const s of e)r[s]=n[s]===null?NaN:n[s]/a}}}function ae(t){return xe((e,n)=>t(e,r=>n[r]))}const Ia={mapIndex(t,e,n){const[r,a]=Ce(t,i=>e[i]),s=a-r;for(const i of t)n[i]=e[i]===null?NaN:(e[i]-r)/s}},Fn=xe((t,e)=>{for(let n=0;n<t.length;++n){const r=e[t[n]];if(Zn(r))return r}}),Va=xe((t,e)=>{for(let n=t.length-1;n>=0;--n){const r=e[t[n]];if(Zn(r))return r}}),Sa={mapIndex(t,e,n){const r=ce(t,s=>e[s]),a=Ar(t,s=>e[s]);for(const s of t)n[s]=e[s]===null?NaN:a?(e[s]-r)/a:0}},Pa=ae(Ze),Ha=ae(ce),Fa=ae(kr),Oa=ae(Er),Ra=ae(Gn);function On(t,e,n){const r=t.slice();return r[46]=e[n],r[47]=e,r[48]=n,r}function ja(t){let e,n,r="Data Zones Distribution (vs. UK average)",a,s,i=`Histogram shows the number of data zones distributed across
                                    different household social economic factors.`,h,u,o="",l=t[46],v,c,g,_,C,B,E,p,M,x=`Density plot refers to UK distribution while the
                                        scattered points refer to data zones in the local authority.`,V,k,A="",O,N,w,S="";const Y=()=>t[24](u,l),z=()=>t[24](null,l),q=()=>t[25](k,l),U=()=>t[25](null,l),Q=()=>t[26](w,l),rt=()=>t[26](null,l);return{c(){e=b("div"),n=b("h3"),n.textContent=r,a=D(),s=b("p"),s.textContent=i,h=D(),u=b("div"),u.innerHTML=o,v=D(),c=b("div"),g=b("div"),_=b("h3"),C=ut("Co-benefits Recieved by Data Zones across "),B=ut(t[46]),E=ut(`
                                        Values`),p=D(),M=b("p"),M.textContent=x,V=D(),k=b("div"),k.innerHTML=A,O=D(),N=b("div"),w=b("div"),w.innerHTML=S,this.h()},l(j){e=y(j,"DIV",{class:!0});var K=P(e);n=y(K,"H3",{class:!0,"data-svelte-h":!0}),F(n)!=="svelte-1d86f13"&&(n.textContent=r),a=L(K),s=y(K,"P",{class:!0,"data-svelte-h":!0}),F(s)!=="svelte-xcsopb"&&(s.textContent=i),h=L(K),u=y(K,"DIV",{class:!0,"data-svelte-h":!0}),F(u)!=="svelte-1gvlz6w"&&(u.innerHTML=o),K.forEach(T),v=L(j),c=y(j,"DIV",{class:!0});var X=P(c);g=y(X,"DIV",{});var st=P(g);_=y(st,"H3",{class:!0});var ft=P(_);C=ct(ft,"Co-benefits Recieved by Data Zones across "),B=ct(ft,t[46]),E=ct(ft,`
                                        Values`),ft.forEach(T),p=L(st),M=y(st,"P",{class:!0,"data-svelte-h":!0}),F(M)!=="svelte-18bgpzu"&&(M.textContent=x),V=L(st),k=y(st,"DIV",{class:!0,"data-svelte-h":!0}),F(k)!=="svelte-aesnqn"&&(k.innerHTML=A),st.forEach(T),O=L(X),N=y(X,"DIV",{});var tt=P(N);w=y(tt,"DIV",{class:!0,"data-svelte-h":!0}),F(w)!=="svelte-xsgztl"&&(w.innerHTML=S),tt.forEach(T),X.forEach(T),this.h()},h(){m(n,"class","component-title"),m(s,"class","description short"),m(u,"class","plot"),m(e,"class","component"),m(_,"class","component-title"),m(M,"class","description short"),m(k,"class","plot"),m(w,"class","plot"),m(c,"class","component")},m(j,K){Wt(j,e,K),f(e,n),f(e,a),f(e,s),f(e,h),f(e,u),Y(),Wt(j,v,K),Wt(j,c,K),f(c,g),f(g,_),f(_,C),f(_,B),f(_,E),f(g,p),f(g,M),f(g,V),f(g,k),q(),f(c,O),f(c,N),f(N,w),Q()},p(j,K){t=j,l!==t[46]&&(z(),l=t[46],Y()),l!==t[46]&&(U(),l=t[46],q()),l!==t[46]&&(rt(),l=t[46],Q())},d(j){j&&(T(e),T(v),T(c)),z(),U(),rt()}}}function Ua(t){let e,n,r="",a=t[46];const s=()=>t[23](n,a),i=()=>t[23](null,a);return{c(){e=b("div"),n=b("div"),n.innerHTML=r,this.h()},l(h){e=y(h,"DIV",{class:!0});var u=P(e);n=y(u,"DIV",{class:!0,"data-svelte-h":!0}),F(n)!=="svelte-1shkadq"&&(n.innerHTML=r),u.forEach(T),this.h()},h(){m(n,"class","plot"),m(e,"class","component")},m(h,u){Wt(h,e,u),f(e,n),s()},p(h,u){t=h,a!==t[46]&&(i(),a=t[46],s())},d(h){h&&T(e),i()}}}function Rn(t){let e,n,r,a,s,i;function h(l,v){return l[7]?Ua:ja}let u=h(t),o=u(t);return{c(){e=b("div"),n=b("h2"),r=ut(t[46]),a=D(),s=b("div"),o.c(),i=D(),this.h()},l(l){e=y(l,"DIV",{});var v=P(e);n=y(v,"H2",{});var c=P(n);r=ct(c,t[46]),c.forEach(T),a=L(v),s=y(v,"DIV",{class:!0});var g=P(s);o.l(g),g.forEach(T),i=L(v),v.forEach(T),this.h()},h(){m(s,"class","row")},m(l,v){Wt(l,e,v),f(e,n),f(n,r),f(e,a),f(e,s),o.m(s,null),f(e,i)},p(l,v){u===(u=h(l))&&o?o.p(l,v):(o.d(1),o=u(l),o&&(o.c(),o.m(s,null)))},d(l){l&&T(e),o.d()}}}function qa(t){let e,n,r,a,s,i="Data Report",h,u,o=t[10][t[9]]+"",l,v,c,g=`Explore how this local authority will benefit from achieving Net Zero and general factors
            of their households.`,_,C,B,E,p,M,x="UK",V,k,A,O,N,w="England/Wales",S,Y,z,q,U,Q="Scotland",rt,j,K,X,st="Northern Ireland",ft,tt,bt,ue=`<p class="section-subtitle">Overview</p> <h2 class="section-title">How much co-benefit values would this area recieve?</h2> <p class="description">We calculate and model 11 types of co-benefits across five different pathyways
                suggested by Climate Change Committee in the Sixth Carbon Budget from 2025-2050 on the level of data
                zones across UK.</p>`,se,d,I,et,Ct="11 Types of Co-Benefits Values (vs. UK Average)",G,ht,nt,at=t[10][t[9]]+"",Yt,oe,Ee,xt,nn="",ke,dt,Nt,rn=t[10][t[9]]+"",Ae,Le,De,It,an="Scroll for zooming in and out.",ze,_t,sn="",Te,pt,Vt,on=`<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total co-benefits, types of co-benefits,
                and five pathways.</p>`,Be,Et,St,ln="Total Co-benefits Distribution from 2025-2050 (vs. UK Average)",Ne,Kt,kt,cn="",Ie,At,Pt,un=`11 Types of Co-benefits Distribution Following Balance Pathway from
                2025-2050`,Ve,Gt,Zt,Lt,fn="",Se,Dt,$,Ht,hn="Households",Pe,Ft,dn="Social Economic Factors of Households",He,Ot,pn=`We describe the distribution of household economic factors aggregated on the data
                zone level and the different level of co-benefits recieved by those data zones.`,Fe,Rt,Oe,zt,vn="Aggregate Plots",Re,Tt,fe,je,mn;e=new ur({});let Xt=_n(Je),Z=[];for(let H=0;H<Xt.length;H+=1)Z[H]=Rn(On(t,Xt,H));return{c(){cr(e.$$.fragment),n=D(),r=b("div"),a=b("div"),s=b("p"),s.textContent=i,h=D(),u=b("h1"),l=ut(o),v=D(),c=b("p"),c.textContent=g,_=D(),C=b("div"),B=ut(`Compare the Local District Area with average of:
            `),E=b("input"),p=D(),M=b("label"),M.textContent=x,V=b("br"),k=D(),A=b("input"),O=D(),N=b("label"),N.textContent=w,S=b("br"),Y=D(),z=b("input"),q=D(),U=b("label"),U.textContent=Q,rt=D(),j=b("input"),K=D(),X=b("label"),X.textContent=st,ft=D(),tt=b("div"),bt=b("div"),bt.innerHTML=ue,se=D(),d=b("div"),I=b("div"),et=b("h3"),et.textContent=Ct,G=D(),ht=b("p"),nt=ut("Co-benefits values in "),Yt=ut(at),oe=ut(` verus average value across all local
                    authorities in UK.`),Ee=D(),xt=b("div"),xt.innerHTML=nn,ke=D(),dt=b("div"),Nt=b("h3"),Ae=ut(rn),Le=ut(" on UK Map"),De=D(),It=b("p"),It.textContent=an,ze=D(),_t=b("div"),_t.innerHTML=sn,Te=D(),pt=b("div"),Vt=b("div"),Vt.innerHTML=on,Be=D(),Et=b("div"),St=b("h3"),St.textContent=ln,Ne=D(),Kt=b("div"),kt=b("div"),kt.innerHTML=cn,Ie=D(),At=b("div"),Pt=b("h3"),Pt.textContent=un,Ve=D(),Gt=b("div"),Zt=b("div"),Lt=b("div"),Lt.innerHTML=fn,Se=D(),Dt=b("div"),$=b("div"),Ht=b("p"),Ht.textContent=hn,Pe=D(),Ft=b("h2"),Ft.textContent=dn,He=D(),Ot=b("p"),Ot.textContent=pn,Fe=D(),Rt=b("input"),Oe=D(),zt=b("label"),zt.textContent=vn,Re=D(),Tt=b("div");for(let H=0;H<Z.length;H+=1)Z[H].c();this.h()},l(H){ir(e.$$.fragment,H),n=L(H),r=y(H,"DIV",{class:!0});var J=P(r);a=y(J,"DIV",{class:!0});var R=P(a);s=y(R,"P",{class:!0,"data-svelte-h":!0}),F(s)!=="svelte-1gxb8h1"&&(s.textContent=i),h=L(R),u=y(R,"H1",{class:!0});var le=P(u);l=ct(le,o),le.forEach(T),v=L(R),c=y(R,"P",{class:!0,"data-svelte-h":!0}),F(c)!=="svelte-g7xah4"&&(c.textContent=g),_=L(R),C=y(R,"DIV",{class:!0});var W=P(C);B=ct(W,`Compare the Local District Area with average of:
            `),E=y(W,"INPUT",{type:!0,name:!0}),p=L(W),M=y(W,"LABEL",{for:!0,style:!0,class:!0,"data-svelte-h":!0}),F(M)!=="svelte-18af2yn"&&(M.textContent=x),V=y(W,"BR",{}),k=L(W),A=y(W,"INPUT",{type:!0,name:!0}),O=L(W),N=y(W,"LABEL",{for:!0,style:!0,class:!0,"data-svelte-h":!0}),F(N)!=="svelte-143ew7m"&&(N.textContent=w),S=y(W,"BR",{}),Y=L(W),z=y(W,"INPUT",{type:!0,name:!0}),q=L(W),U=y(W,"LABEL",{for:!0,style:!0,class:!0,"data-svelte-h":!0}),F(U)!=="svelte-9bwbr5"&&(U.textContent=Q),rt=L(W),j=y(W,"INPUT",{type:!0,name:!0}),K=L(W),X=y(W,"LABEL",{for:!0,style:!0,class:!0,"data-svelte-h":!0}),F(X)!=="svelte-dsbk13"&&(X.textContent=st),W.forEach(T),R.forEach(T),ft=L(J),tt=y(J,"DIV",{class:!0});var he=P(tt);bt=y(he,"DIV",{class:!0,"data-svelte-h":!0}),F(bt)!=="svelte-ppwlk3"&&(bt.innerHTML=ue),se=L(he),d=y(he,"DIV",{id:!0,class:!0});var de=P(d);I=y(de,"DIV",{class:!0});var Jt=P(I);et=y(Jt,"H3",{class:!0,"data-svelte-h":!0}),F(et)!=="svelte-1o9zf4n"&&(et.textContent=Ct),G=L(Jt),ht=y(Jt,"P",{class:!0});var pe=P(ht);nt=ct(pe,"Co-benefits values in "),Yt=ct(pe,at),oe=ct(pe,` verus average value across all local
                    authorities in UK.`),pe.forEach(T),Ee=L(Jt),xt=y(Jt,"DIV",{class:!0,"data-svelte-h":!0}),F(xt)!=="svelte-1gmwtaj"&&(xt.innerHTML=nn),Jt.forEach(T),ke=L(de),dt=y(de,"DIV",{class:!0});var Qt=P(dt);Nt=y(Qt,"H3",{class:!0});var Ue=P(Nt);Ae=ct(Ue,rn),Le=ct(Ue," on UK Map"),Ue.forEach(T),De=L(Qt),It=y(Qt,"P",{class:!0,"data-svelte-h":!0}),F(It)!=="svelte-1ask2se"&&(It.textContent=an),ze=L(Qt),_t=y(Qt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),F(_t)!=="svelte-13ehpmu"&&(_t.innerHTML=sn),Qt.forEach(T),de.forEach(T),he.forEach(T),Te=L(J),pt=y(J,"DIV",{class:!0});var $t=P(pt);Vt=y($t,"DIV",{class:!0,"data-svelte-h":!0}),F(Vt)!=="svelte-a3uzt2"&&(Vt.innerHTML=on),Be=L($t),Et=y($t,"DIV",{class:!0});var ve=P(Et);St=y(ve,"H3",{class:!0,"data-svelte-h":!0}),F(St)!=="svelte-td9req"&&(St.textContent=ln),Ne=L(ve),Kt=y(ve,"DIV",{class:!0});var gn=P(Kt);kt=y(gn,"DIV",{class:!0,"data-svelte-h":!0}),F(kt)!=="svelte-vuq0y7"&&(kt.innerHTML=cn),gn.forEach(T),ve.forEach(T),Ie=L($t),At=y($t,"DIV",{class:!0});var me=P(At);Pt=y(me,"H3",{class:!0,"data-svelte-h":!0}),F(Pt)!=="svelte-199w57s"&&(Pt.textContent=un),Ve=L(me),Gt=y(me,"DIV",{class:!0});var yn=P(Gt);Zt=y(yn,"DIV",{class:!0});var bn=P(Zt);Lt=y(bn,"DIV",{class:!0,"data-svelte-h":!0}),F(Lt)!=="svelte-18dxhf7"&&(Lt.innerHTML=fn),bn.forEach(T),yn.forEach(T),me.forEach(T),$t.forEach(T),Se=L(J),Dt=y(J,"DIV",{class:!0});var ge=P(Dt);$=y(ge,"DIV",{class:!0});var vt=P($);Ht=y(vt,"P",{class:!0,"data-svelte-h":!0}),F(Ht)!=="svelte-ceroz1"&&(Ht.textContent=hn),Pe=L(vt),Ft=y(vt,"H2",{class:!0,"data-svelte-h":!0}),F(Ft)!=="svelte-so6kne"&&(Ft.textContent=dn),He=L(vt),Ot=y(vt,"P",{class:!0,"data-svelte-h":!0}),F(Ot)!=="svelte-1u75598"&&(Ot.textContent=pn),Fe=L(vt),Rt=y(vt,"INPUT",{type:!0}),Oe=L(vt),zt=y(vt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(zt)!=="svelte-1kwkdzm"&&(zt.textContent=vn),vt.forEach(T),Re=L(ge),Tt=y(ge,"DIV",{id:!0,class:!0});var Cn=P(Tt);for(let qe=0;qe<Z.length;qe+=1)Z[qe].l(Cn);Cn.forEach(T),ge.forEach(T),J.forEach(T),this.h()},h(){m(s,"class","page-subtitle"),m(u,"class","page-title"),m(c,"class","description"),m(E,"type","radio"),m(E,"name","compare"),E.value="UK",E.checked=!0,m(M,"for","html"),ye(M,"color",ne.UK),m(M,"class","svelte-1g0cn2j"),m(A,"type","radio"),m(A,"name","compare"),A.value="Eng/Wales",m(N,"for","html"),ye(N,"color",ne["Eng/Wales"]),m(N,"class","svelte-1g0cn2j"),m(z,"type","radio"),m(z,"name","compare"),z.value="Scotland",m(U,"for","javascript"),ye(U,"color",ne.Scotland),m(U,"class","svelte-1g0cn2j"),m(j,"type","radio"),m(j,"name","compare"),j.value="NI",m(X,"for","javascript"),ye(X,"color",ne.NI),m(X,"class","svelte-1g0cn2j"),m(C,"class","radio-set"),m(a,"class","section header"),m(bt,"class","section-header"),m(et,"class","component-title"),m(ht,"class","description"),m(xt,"class","plot"),m(I,"class","component column"),m(Nt,"class","component-title"),m(It,"class","description"),m(_t,"id","map"),m(_t,"class","svelte-1g0cn2j"),m(dt,"class","component column"),m(d,"id","vis-block"),m(d,"class","svelte-1g0cn2j"),m(tt,"class","section"),m(Vt,"class","section-header"),m(St,"class","component-title"),m(kt,"class","plot"),m(Kt,"class","row"),m(Et,"class","component singlevis"),m(Pt,"class","component-title"),m(Lt,"class","plot"),m(Zt,"class","row"),m(Gt,"class","row"),m(At,"class","component singlevis"),m(pt,"class","section"),m(Ht,"class","section-subtitle"),m(Ft,"class","section-title"),m(Ot,"class","description"),m(Rt,"type","checkbox"),m(zt,"for","checkbox"),m(zt,"class","svelte-1g0cn2j"),m($,"class","section-header"),m(Tt,"id","multiple-comp"),m(Tt,"class","svelte-1g0cn2j"),m(Dt,"class","section"),m(r,"class","page-container")},m(H,J){lr(e,H,J),Wt(H,n,J),Wt(H,r,J),f(r,a),f(a,s),f(a,h),f(a,u),f(u,l),f(a,v),f(a,c),f(a,_),f(a,C),f(C,B),f(C,E),f(C,p),f(C,M),f(C,V),f(C,k),f(C,A),f(C,O),f(C,N),f(C,S),f(C,Y),f(C,z),f(C,q),f(C,U),f(C,rt),f(C,j),f(C,K),f(C,X),f(r,ft),f(r,tt),f(tt,bt),f(tt,se),f(tt,d),f(d,I),f(I,et),f(I,G),f(I,ht),f(ht,nt),f(ht,Yt),f(ht,oe),f(I,Ee),f(I,xt),t[18](xt),f(d,ke),f(d,dt),f(dt,Nt),f(Nt,Ae),f(Nt,Le),f(dt,De),f(dt,It),f(dt,ze),f(dt,_t),t[19](_t),f(r,Te),f(r,pt),f(pt,Vt),f(pt,Be),f(pt,Et),f(Et,St),f(Et,Ne),f(Et,Kt),f(Kt,kt),t[20](kt),f(pt,Ie),f(pt,At),f(At,Pt),f(At,Ve),f(At,Gt),f(Gt,Zt),f(Zt,Lt),t[21](Lt),f(r,Se),f(r,Dt),f(Dt,$),f($,Ht),f($,Pe),f($,Ft),f($,He),f($,Ot),f($,Fe),f($,Rt),Rt.checked=t[7],f($,Oe),f($,zt),f(Dt,Re),f(Dt,Tt);for(let R=0;R<Z.length;R+=1)Z[R]&&Z[R].m(Tt,null);t[27](r),fe=!0,je||(mn=[ie(E,"change",t[11]),ie(A,"change",t[11]),ie(z,"change",t[11]),ie(j,"change",t[11]),ie(Rt,"change",t[22])],je=!0)},p(H,J){if(J[0]&128&&(Rt.checked=H[7]),J[0]&184){Xt=_n(Je);let R;for(R=0;R<Xt.length;R+=1){const le=On(H,Xt,R);Z[R]?Z[R].p(le,J):(Z[R]=Rn(le),Z[R].c(),Z[R].m(Tt,null))}for(;R<Z.length;R+=1)Z[R].d(1);Z.length=Xt.length}},i(H){fe||(or(e.$$.fragment,H),fe=!0)},o(H){sr(e.$$.fragment,H),fe=!1},d(H){H&&(T(n),T(r)),ar(e,H),t[18](null),t[19](null),t[20](null),t[21](null),$n(Z,H),t[27](null),je=!1,tr(mn)}}}let it=400;function qt(t){const e=t.querySelector("figure");e&&e.remove();const n=t.querySelector("svg");n&&n.remove()}function Wa(t,e,n){let r,a,s,i,h={},u={},o={},l={},v="barchart",c=!1,{data:g}=e;const _=g.LAD;let C="UK",B,E,p,M,x,V,k=!1;async function A(){n(14,B=await yt(kn())),await yt(Pr()),n(15,E=await yt(An([]))),p=await yt(Hr(xn)),n(16,M=await yt(Ln())),x=await yt(Fr(_)),V=await yt(Or(_)),n(17,k=!0)}A();const O=g.LADToName;let N,w;er(()=>{N=new Tr(_,"LAD",w,"val",!0),N.initMap()});function S(){{let d=ot({height:it/1.4,...lt,x:{type:"band"},style:{fontSize:"18px"},marks:[jt(E,mt({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),jt(x,mt({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const I=gt(d).selectAll("g[aria-label='bar']"),et=gt(I.nodes()[0]),Ct=gt(I.nodes()[1]);console.log(2323232323,et.node()),Ct.selectAll("rect").each(function(){console.log(2,this)}),Ct.remove()},1e3)}}function Y(){a?.append(ot({height:it,width:811,MARGINS:lt,x:{type:"band"},marks:[jt(M,mt({y:"mean"},{y:"val",x:"co_benefit_type",dx:Nr,fill:ne[C],tip:!0})),jt(V,mt({y:"sum"},{y:"total",x:"co_benefit_type",tip:!0}))]}))}function z(){Je.forEach(d=>{let I;c?(En.includes(d)?I=ot({height:it/3,width:500*2,...lt,style:{fontSize:"18px"},color:{legend:!0,scheme:"greys"},x:{domain:Kn(0,6),ticks:new Set(x.map(G=>G[d]))},marks:[In(x,mt({fill:"count"},{x:d,stroke:"black"})),In([Math.floor(ce(B.map(G=>G[d])))],{x:G=>G,stroke:"red",fill:null,strokeWidth:2})]}):I=ot({height:it/3,width:500*2,...lt,style:{fontSize:"18px"},color:{legend:!0},marks:[Ke(x,{x:d,tip:!0}),Ke([ce(x.map(G=>G[d]))],{stroke:"blue",strokeWidth:2}),Ke([ce(B.map(G=>G[d]))],{stroke:"red",strokeWidth:2})]}),h[d]?.append(I)):(En.includes(d)?I=ot({height:it/2,width:500,...lt,marginLeft:100,x:{grid:!0,label:d,tickFormat:G=>Math.floor(G)},style:{fontSize:"18px"},color:{legend:!0},marks:[jt(B,Hn(mt({y:"count"},{x:d,dx:20,fill:be}))),jt(x,Hn(mt({y:"count"},{x:d})))]}):I=ot({height:it/2,...lt,style:{fontSize:"18px"},marks:[Ye(x,Tn({y:"proportion"},{x:d,tip:!0,fill:be,stroke:be,fillOpacity:.2,strokeWidth:3})),Ye(B,Tn({y:"proportion"},{x:d,tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),u[d]?.append(void 0),h[d]?.append(I));let Ct=ot({height:it/2,...lt,style:{fontSize:"18px"},color:{range:["rgb(227, 248, 255)","lightblue"]},marks:[_a(Br(B,3e4),{x:d,y:"total",fill:"density",thresholds:10}),Kr(x,{x:d,y:"total",fill:"black",r:2}),Ta(x,{x:d,y:"total"}),Dr(),zr({anchor:"bottom"})]});o[d]?.append(Ct)})}function q(){for(let d of Sr){let I=ot({height:it,width:410,...lt,marginRight:0,marginLeft:100,marks:[Dn(p,Mn({x:"mean"},{x:"val",y:"co_benefit_type",dy:-10,fill:be,tip:!0})),Dn(V,Mn({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});l[d]?.append(I)}}function U(){let d=x.flatMap(nt=>We.map(at=>({time:at,value:nt[at],scenario:nt.scenario,zone:"local"}))),I=B.flatMap(nt=>We.map(at=>({time:at,value:nt[at],scenario:nt.scenario,zone:"UK"}))),et=d.concat(I),Ct=ot({height:it,width:800,...lt,paddingLeft:200,marginRight:0,x:{tickSize:0,label:null,ticks:[]},color:{range:[Ir,ne[C]]},marks:[jt(et,mt({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!0,fill:"zone"}))]});s?.append(Ct),gt(s).select("g[aria-label='bar']").selectAll("g").each(function(nt,at){const Yt=gt(this).selectAll("rect").nodes()[0],oe=gt(Yt).attr("transform")||"";gt(Yt).attr("transform",`${oe} translate(-20, 0)`),gt(this).selectAll("rect").nodes()[0].getAttribute("height"),gt(this).selectAll("rect").nodes()[1].getAttribute("height"),gt(this).selectAll("rect")}),ot({height:it,width:800,...lt,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[ya(et,mt({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let G=V.flatMap(nt=>We.map(at=>({time:at,value:nt[at],cobenefit:nt.co_benefit_type}))),ht=ot({height:it,width:1e3,...lt,paddingLeft:200,marginRight:0,insetLeft:10,insetRight:10,insetBottom:30,style:{fontSize:"10px"},y:{tickFormat:".2f",label:"Value (Â£)"},x:{label:"Year"},color:{legend:!0,range:Vr,domain:xn},marks:[Ye(G,mt({y:"mean"},{x:"time",y:"value",tip:!0,fill:"cobenefit"})),wn([0],{strokeWidth:8,stroke:"white",opacity:1,strokeLinecap:"round"}),wn([0],{strokeWidth:2,stroke:"#333333",opacity:1,strokeLinecap:"round"})]});i?.append(ht)}async function Q(d){C=d.currentTarget.value,n(16,M=await yt(Ln("total",C))),n(15,E=await yt(An([],C))),n(14,B=await yt(kn(C)))}function rt(d){wt[d?"unshift":"push"](()=>{a=d,n(0,a)})}function j(d){wt[d?"unshift":"push"](()=>{w=d,n(8,w)})}function K(d){wt[d?"unshift":"push"](()=>{s=d,n(1,s)})}function X(d){wt[d?"unshift":"push"](()=>{i=d,n(2,i)})}function st(){c=this.checked,n(7,c)}function ft(d,I){wt[d?"unshift":"push"](()=>{h[I]=d,n(3,h)})}function tt(d,I){wt[d?"unshift":"push"](()=>{h[I]=d,n(3,h)})}function bt(d,I){wt[d?"unshift":"push"](()=>{u[I]=d,n(4,u)})}function ue(d,I){wt[d?"unshift":"push"](()=>{o[I]=d,n(5,o)})}function se(d){wt[d?"unshift":"push"](()=>{r=d,n(6,r)})}return t.$$set=d=>{"data"in d&&n(12,g=d.data)},t.$$.update=()=>{t.$$.dirty[0]&253959&&(a&&qt(a),s&&qt(s),i&&qt(i),k&&M&&E&&B&&(console.log("render"),S(),Y(),U())),t.$$.dirty[0]&131128&&(Object.values(h).forEach(d=>{d&&qt(d)}),Object.values(u).forEach(d=>{d&&qt(d)}),Object.values(o).forEach(d=>{d&&qt(d)}),k&&z()),t.$$.dirty[0]&131072&&(Object.values(l).forEach(d=>{d&&qt(d)}),k&&q())},[a,s,i,h,u,o,r,c,w,_,O,Q,g,v,B,E,M,k,rt,j,K,X,st,ft,tt,bt,ue,se]}class rs extends nr{constructor(e){super(),rr(this,e,Wa,qa,Qn,{data:12},null,[-1,-1])}}export{rs as component};
