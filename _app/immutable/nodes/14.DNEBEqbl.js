import{s as Ne,a as E,e as r,g as L,c,b as x,p as U,f as _,q as t,x as ue,i as ee,h as a,y as K,z as Se,v as Me,A as fe,w as Te,t as De,d as xe,n as Pe,B as Ve,C as Ie}from"../chunks/scheduler.B9T0ItC_.js";import{S as Ue,i as Fe,c as we,b as Oe,m as He,t as qe,a as ze,d as je}from"../chunks/index.BVM93j1J.js";import{N as Ge,e as de}from"../chunks/NavigationBar.CRF45Iqq.js";import"../chunks/transform.Cxf8x_5z.js";import"../chunks/index.CqwntdJ0.js";import{M as Ye}from"../chunks/map.B3u-HGJc.js";import{g as ce,d as be,e as Ce,f as Re,h as Je}from"../chunks/duckdb.BytYIbn2.js";import{C as ve,a as Ke,S as ke,b as Ze,g as Be}from"../chunks/globals.Dux9G-f8.js";function ye(i,e,l){const s=i.slice();return s[30]=e[l],s}function Ee(i,e,l){const s=i.slice();return s[27]=e[l],s}function Qe(i){let e,l,s="Social Economic Factor",p,g,C=de(ke),u=[];for(let d=0;d<C.length;d+=1)u[d]=Le(ye(i,C,d));return{c(){e=r("div"),l=r("h2"),l.textContent=s,p=E(),g=r("div");for(let d=0;d<u.length;d+=1)u[d].c();this.h()},l(d){e=c(d,"DIV",{class:!0});var n=x(e);l=c(n,"H2",{"data-svelte-h":!0}),U(l)!=="svelte-1ld89ev"&&(l.textContent=s),p=L(n),g=c(n,"DIV",{id:!0,class:!0});var f=x(g);for(let h=0;h<u.length;h+=1)u[h].l(f);f.forEach(_),n.forEach(_),this.h()},h(){t(g,"id","time"),t(g,"class","svelte-1fccofk"),t(e,"class","tabcontent svelte-1fccofk")},m(d,n){ee(d,e,n),a(e,l),a(e,p),a(e,g);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(g,null)},p(d,n){if(n[0]&514){C=de(ke);let f;for(f=0;f<C.length;f+=1){const h=ye(d,C,f);u[f]?u[f].p(h,n):(u[f]=Le(h),u[f].c(),u[f].m(g,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=C.length}},d(d){d&&_(e),Te(u,d)}}}function We(i){let e,l,s,p="Co-Benefits",g,C,u,d,n="Time",f,h,b,I,T,A="Total",B,y,M,j,V="2025-2029",q,N,G,Y,F="2030-2034",ae,R,o,S,w="2035-2039",X,te,Z,H,se="2040-2044",$,le,Q,z,oe="2045-2049",re,ie,J=de(ve.concat({id:"total",label:"Total"})),m=[];for(let v=0;v<J.length;v+=1)m[v]=Ae(Ee(i,J,v));return{c(){e=r("div"),l=r("div"),s=r("h2"),s.textContent=p,g=E();for(let v=0;v<m.length;v+=1)m[v].c();C=E(),u=r("div"),d=r("h2"),d.textContent=n,f=E(),h=r("div"),b=r("label"),I=r("input"),T=r("span"),T.textContent=A,B=E(),y=r("label"),M=r("input"),j=r("span"),j.textContent=V,q=E(),N=r("label"),G=r("input"),Y=r("span"),Y.textContent=F,ae=E(),R=r("label"),o=r("input"),S=r("span"),S.textContent=w,X=E(),te=r("label"),Z=r("input"),H=r("span"),H.textContent=se,$=E(),le=r("label"),Q=r("input"),z=r("span"),z.textContent=oe,this.h()},l(v){e=c(v,"DIV",{class:!0});var D=x(e);l=c(D,"DIV",{class:!0});var k=x(l);s=c(k,"H2",{"data-svelte-h":!0}),U(s)!=="svelte-uglilz"&&(s.textContent=p),g=L(k);for(let ge=0;ge<m.length;ge+=1)m[ge].l(k);k.forEach(_),C=L(D),u=c(D,"DIV",{class:!0});var O=x(u);d=c(O,"H2",{"data-svelte-h":!0}),U(d)!=="svelte-hletp"&&(d.textContent=n),f=L(O),h=c(O,"DIV",{id:!0,class:!0});var P=x(h);b=c(P,"LABEL",{class:!0});var ne=x(b);I=c(ne,"INPUT",{type:!0,name:!0,class:!0}),T=c(ne,"SPAN",{class:!0,"data-svelte-h":!0}),U(T)!=="svelte-2fqrek"&&(T.textContent=A),ne.forEach(_),B=L(P),y=c(P,"LABEL",{class:!0});var W=x(y);M=c(W,"INPUT",{type:!0,name:!0,class:!0}),j=c(W,"SPAN",{class:!0,"data-svelte-h":!0}),U(j)!=="svelte-177152l"&&(j.textContent=V),W.forEach(_),q=L(P),N=c(P,"LABEL",{class:!0});var he=x(N);G=c(he,"INPUT",{type:!0,name:!0,class:!0}),Y=c(he,"SPAN",{class:!0,"data-svelte-h":!0}),U(Y)!=="svelte-sne3j9"&&(Y.textContent=F),he.forEach(_),ae=L(P),R=c(P,"LABEL",{class:!0});var pe=x(R);o=c(pe,"INPUT",{type:!0,name:!0,class:!0}),S=c(pe,"SPAN",{class:!0,"data-svelte-h":!0}),U(S)!=="svelte-13ifhof"&&(S.textContent=w),pe.forEach(_),X=L(P),te=c(P,"LABEL",{class:!0});var me=x(te);Z=c(me,"INPUT",{type:!0,name:!0,class:!0}),H=c(me,"SPAN",{class:!0,"data-svelte-h":!0}),U(H)!=="svelte-1pug1mv"&&(H.textContent=se),me.forEach(_),$=L(P),le=c(P,"LABEL",{class:!0});var _e=x(le);Q=c(_e,"INPUT",{type:!0,name:!0,class:!0}),z=c(_e,"SPAN",{class:!0,"data-svelte-h":!0}),U(z)!=="svelte-3f05xd"&&(z.textContent=oe),_e.forEach(_),P.forEach(_),O.forEach(_),D.forEach(_),this.h()},h(){t(l,"class","component"),t(I,"type","radio"),t(I,"name","toggle"),I.value="total",I.checked=!0,t(I,"class","svelte-1fccofk"),t(T,"class","svelte-1fccofk"),t(b,"class","time-radio svelte-1fccofk"),t(M,"type","radio"),t(M,"name","toggle"),M.value="Y2025_2029",t(M,"class","svelte-1fccofk"),t(j,"class","svelte-1fccofk"),t(y,"class","time-radio svelte-1fccofk"),t(G,"type","radio"),t(G,"name","toggle"),G.value="Y2030_2034",t(G,"class","svelte-1fccofk"),t(Y,"class","svelte-1fccofk"),t(N,"class","time-radio svelte-1fccofk"),t(o,"type","radio"),t(o,"name","toggle"),o.value="Y2035_2039",t(o,"class","svelte-1fccofk"),t(S,"class","svelte-1fccofk"),t(R,"class","time-radio svelte-1fccofk"),t(Z,"type","radio"),t(Z,"name","toggle"),Z.value="Y2040_2044",t(Z,"class","svelte-1fccofk"),t(H,"class","svelte-1fccofk"),t(te,"class","time-radio svelte-1fccofk"),t(Q,"type","radio"),t(Q,"name","toggle"),Q.value="Y2045_2049",t(Q,"class","svelte-1fccofk"),t(z,"class","svelte-1fccofk"),t(le,"class","time-radio svelte-1fccofk"),t(h,"id","time"),t(h,"class","svelte-1fccofk"),t(u,"class","component"),t(e,"class","tabcontent svelte-1fccofk")},m(v,D){ee(v,e,D),a(e,l),a(l,s),a(l,g);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(l,null);a(e,C),a(e,u),a(u,d),a(u,f),a(u,h),a(h,b),a(b,I),a(b,T),a(h,B),a(h,y),a(y,M),a(y,j),a(h,q),a(h,N),a(N,G),a(N,Y),a(h,ae),a(h,R),a(R,o),a(R,S),a(h,X),a(h,te),a(te,Z),a(te,H),a(h,$),a(h,le),a(le,Q),a(le,z),re||(ie=[K(I,"change",i[7]),K(M,"change",i[7]),K(G,"change",i[7]),K(o,"change",i[7]),K(Z,"change",i[7]),K(Q,"change",i[7])],re=!0)},p(v,D){if(D[0]&64){J=de(ve.concat({id:"total",label:"Total"}));let k;for(k=0;k<J.length;k+=1){const O=Ee(v,J,k);m[k]?m[k].p(O,D):(m[k]=Ae(O),m[k].c(),m[k].m(l,null))}for(;k<m.length;k+=1)m[k].d(1);m.length=J.length}},d(v){v&&_(e),Te(m,v),re=!1,Se(ie)}}}function Le(i){let e,l,s,p,g,C,u,d;return{c(){e=r("input"),s=E(),p=r("label"),g=De(i[30]),C=r("br"),this.h()},l(n){e=c(n,"INPUT",{type:!0,id:!0,name:!0,class:!0}),s=L(n),p=c(n,"LABEL",{for:!0});var f=x(p);g=xe(f,i[30]),f.forEach(_),C=c(n,"BR",{}),this.h()},h(){t(e,"type","radio"),t(e,"id","html"),t(e,"name","fav_language"),e.value=i[30],e.checked=l=i[30]==i[1],t(e,"class","svelte-1fccofk"),t(p,"for","html")},m(n,f){ee(n,e,f),ee(n,s,f),ee(n,p,f),a(p,g),ee(n,C,f),u||(d=K(e,"change",i[9]),u=!0)},p(n,f){f[0]&2&&l!==(l=n[30]==n[1])&&(e.checked=l)},d(n){n&&(_(e),_(s),_(p),_(C)),u=!1,d()}}}function Xe(i){let e,l;return{c(){e=r("img"),this.h()},l(s){e=c(s,"IMG",{style:!0,class:!0,src:!0}),this.h()},h(){Ve(e,"opacity","0"),t(e,"class","icon svelte-1fccofk"),Ie(e.src,l=Be("Air quality"))||t(e,"src",l)},m(s,p){ee(s,e,p)},d(s){s&&_(e)}}}function $e(i){let e,l;return{c(){e=r("img"),this.h()},l(s){e=c(s,"IMG",{alt:!0,class:!0,src:!0}),this.h()},h(){t(e,"alt","cobenefit icon"),t(e,"class","icon svelte-1fccofk"),Ie(e.src,l=Be(i[27].id))||t(e,"src",l)},m(s,p){ee(s,e,p)},d(s){s&&_(e)}}}function Ae(i){let e,l,s,p,g,C=i[27].label+"",u,d,n,f,h,b;function I(B,y){return B[27].id!="total"?$e:Xe}let A=I(i)(i);return{c(){e=r("div"),A.c(),l=E(),s=r("input"),p=E(),g=r("label"),u=De(C),d=E(),n=r("br"),f=E(),this.h()},l(B){e=c(B,"DIV",{class:!0});var y=x(e);A.l(y),l=L(y),s=c(y,"INPUT",{type:!0,name:!0}),p=L(y),g=c(y,"LABEL",{for:!0});var M=x(g);u=xe(M,C),M.forEach(_),d=L(y),n=c(y,"BR",{}),f=L(y),y.forEach(_),this.h()},h(){t(s,"type","radio"),t(s,"name","cobenef"),s.value=i[27].id,s.checked=!0,t(g,"for","css"),t(e,"class","checkbox-div svelte-1fccofk")},m(B,y){ee(B,e,y),A.m(e,null),a(e,l),a(e,s),a(e,p),a(e,g),a(g,u),a(e,d),a(e,n),a(e,f),h||(b=K(s,"change",i[6]),h=!0)},p:Pe,d(B){B&&_(e),A.d(),h=!1,b()}}}function et(i){let e,l,s,p,g=`<h2>Map</h2> <p>This interactive map allows to explore both the co-benefit values and the socio-economic factor at the local
            authorities and datazones levels.</p>`,C,u,d,n,f="",h,b,I="",T,A,B="Export",y,M,j,V,q,N,G="CoBenefits",Y,F,ae=`Socio-Economic
                    Factors`,R,o,S,w,X,te="Local Authorities",Z,H,se,$,le="Data Zones",Q,z,oe,re;e=new Ge({});function ie(v,D){if(v[0]=="Cobenefit")return We;if(v[0]=="SEF")return Qe}let J=ie(i),m=J&&J(i);return{c(){we(e.$$.fragment),l=E(),s=r("div"),p=r("div"),p.innerHTML=g,C=E(),u=r("div"),d=r("div"),n=r("div"),n.innerHTML=f,h=E(),b=r("div"),b.innerHTML=I,T=E(),A=r("button"),A.textContent=B,y=E(),M=r("div"),j=E(),V=r("div"),q=r("div"),N=r("button"),N.textContent=G,Y=E(),F=r("button"),F.textContent=ae,R=E(),o=r("div"),S=r("input"),w=E(),X=r("label"),X.textContent=te,Z=E(),H=r("input"),se=E(),$=r("label"),$.textContent=le,Q=E(),m&&m.c(),this.h()},l(v){Oe(e.$$.fragment,v),l=L(v),s=c(v,"DIV",{class:!0});var D=x(s);p=c(D,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),U(p)!=="svelte-kh4rrc"&&(p.innerHTML=g),C=L(D),u=c(D,"DIV",{id:!0,class:!0});var k=x(u);d=c(k,"DIV",{class:!0,id:!0});var O=x(d);n=c(O,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),U(n)!=="svelte-1ej9vmv"&&(n.innerHTML=f),h=L(O),b=c(O,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),U(b)!=="svelte-1j653gg"&&(b.innerHTML=I),T=L(O),A=c(O,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),U(A)!=="svelte-zgluur"&&(A.textContent=B),y=L(O),M=c(O,"DIV",{id:!0,class:!0}),x(M).forEach(_),O.forEach(_),j=L(k),V=c(k,"DIV",{class:!0,id:!0});var P=x(V);q=c(P,"DIV",{class:!0});var ne=x(q);N=c(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),U(N)!=="svelte-14nmzoo"&&(N.textContent=G),Y=L(ne),F=c(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),U(F)!=="svelte-xxvynj"&&(F.textContent=ae),ne.forEach(_),R=L(P),o=c(P,"DIV",{class:!0});var W=x(o);S=c(W,"INPUT",{type:!0,name:!0}),w=L(W),X=c(W,"LABEL",{for:!0,"data-svelte-h":!0}),U(X)!=="svelte-p8irzv"&&(X.textContent=te),Z=L(W),H=c(W,"INPUT",{type:!0,name:!0}),se=L(W),$=c(W,"LABEL",{for:!0,"data-svelte-h":!0}),U($)!=="svelte-1ytveqc"&&($.textContent=le),W.forEach(_),Q=L(P),m&&m.l(P),P.forEach(_),k.forEach(_),D.forEach(_),this.h()},h(){t(p,"class","component"),t(p,"id","heaser"),t(n,"id","map"),t(n,"class","svelte-1fccofk"),t(b,"id","map-legend"),t(b,"class","svelte-1fccofk"),t(A,"id","export-button"),t(A,"class","svelte-1fccofk"),t(M,"id","tooltip"),t(M,"class","tooltip svelte-1fccofk"),t(d,"class","component column svelte-1fccofk"),t(d,"id","mapComp"),t(N,"class","tablinks svelte-1fccofk"),N.value="Cobenefit",ue(N,"active",i[0]=="Cobenefit"),t(F,"class","tablinks svelte-1fccofk"),F.value="SEF",ue(F,"active",i[0]=="SEF"),t(q,"class","tab svelte-1fccofk"),t(S,"type","radio"),t(S,"name","granularity"),S.value="LAD",S.checked=!0,t(X,"for","LAD"),t(H,"type","radio"),t(H,"name","granularity"),H.value="LSOA",t($,"for","LSOA"),t(o,"class","component"),t(V,"class","component column svelte-1fccofk"),t(V,"id","control-panel"),t(u,"id","map-row"),t(u,"class","row svelte-1fccofk"),t(s,"class","page-container svelte-1fccofk")},m(v,D){He(e,v,D),ee(v,l,D),ee(v,s,D),a(s,p),a(s,C),a(s,u),a(u,d),a(d,n),i[18](n),a(d,h),a(d,b),i[19](b),a(d,T),a(d,A),i[20](A),a(d,y),a(d,M),a(u,j),a(u,V),a(V,q),a(q,N),a(q,Y),a(q,F),a(V,R),a(V,o),a(o,S),a(o,w),a(o,X),a(o,Z),a(o,H),a(o,se),a(o,$),a(V,Q),m&&m.m(V,null),i[21](s),z=!0,oe||(re=[K(A,"click",tt),K(N,"click",i[8]),K(F,"click",i[8]),K(S,"change",i[10]),K(H,"change",i[10])],oe=!0)},p(v,D){(!z||D[0]&1)&&ue(N,"active",v[0]=="Cobenefit"),(!z||D[0]&1)&&ue(F,"active",v[0]=="SEF"),J===(J=ie(v))&&m?m.p(v,D):(m&&m.d(1),m=J&&J(v),m&&(m.c(),m.m(V,null)))},i(v){z||(qe(e.$$.fragment,v),z=!0)},o(v){ze(e.$$.fragment,v),z=!1},d(v){v&&(_(l),_(s)),je(e,v),i[18](null),i[19](null),i[20](null),m&&m.d(),i[21](null),oe=!1,Se(re)}}}function tt(){const e=document.getElementsByClassName("maplibregl-canvas")[0].toDataURL("image/png");var l=document.createElement("a");l.download="map.png",l.href=e,l.dataset.downloadurl=["image/png",l.download,l.href].join(":"),document.body.appendChild(l),l.click(),document.body.removeChild(l)}function lt(i,e,l){let{data:s}=e,p,g,C,u,d,n,f="Cobenefit",h="BNZ",b=ve.map(o=>o.id),I="total",T="LAD",A="EPC",B;function y(){C=n.legend(M()),l(4,u.innerHTML="",u),u.append(C)}function M(){if(f=="SEF")return`${A} (${Ze(A)})`;if(f=="Cobenefit")return"Cobenefits (Millions of Â£)"}Me(async()=>{let o;T=="LAD"?o=await ce(be(Array.from(b),"UK",I)):T=="LSOA"&&(o=await ce(Ce(Array.from(b),h,I))),l(12,n=new Ye(o,T,g,"val",!0,"Lookup_Value",!0)),n.initMap(),C=n.legend(),u.append(C)});const j=o=>{const S=o.currentTarget.value;S=="total"?l(14,b=ve.map(w=>w.id)):l(14,b=[S])},V=o=>{const S=o.currentTarget.value;l(15,I=S)};function q(o,S){l(0,f=o.currentTarget.value)}const N=o=>{l(1,A=o.currentTarget.value)},G=o=>{n.removeLayers(),n.removeSources(),l(16,T=o.currentTarget.value),l(12,n.granularity=T,n),T=="LSOA"?l(12,n.border=!1,n):l(12,n.border=!0,n)};function Y(o){fe[o?"unshift":"push"](()=>{g=o,l(3,g)})}function F(o){fe[o?"unshift":"push"](()=>{u=o,l(4,u)})}function ae(o){fe[o?"unshift":"push"](()=>{d=o,l(5,d)})}function R(o){fe[o?"unshift":"push"](()=>{p=o,l(2,p)})}return i.$$set=o=>{"data"in o&&l(11,s=o.data)},i.$$.update=()=>{i.$$.dirty[0]&258051&&n?.loaded&&(f=="Cobenefit"?T=="LAD"?l(17,B=ce(be(Array.from(b),"UK",I))):T=="LSOA"&&l(17,B=ce(Ce(Array.from(b),h,I))):l(0,f="SEF")&&(T=="LAD"?l(17,B=ce(Re(A))):T=="LSOA"&&l(17,B=ce(Je(A)))),B.then(o=>{let S=!1;n.map.getStyle().layers.length==0&&(S=!0);let w;f=="Cobenefit"?b.length==1?(w=JSON.parse(JSON.stringify(Ke(b[0]))),w.shift(),w=w.reverse()):w=["red","white","black"]:w=["white","black"],n.update(o,f,S,w),y()}))},[f,A,p,g,u,d,j,V,q,N,G,s,n,h,b,I,T,B,Y,F,ae,R]}class ft extends Ue{constructor(e){super(),Fe(this,e,lt,et,Ne,{data:11},null,[-1,-1])}}export{ft as component};
